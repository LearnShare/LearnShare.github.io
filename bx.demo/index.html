<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

   <meta http-equiv="content-type" content="text/html;charset=UTF-8">
   <title>百姓网 架构--前端开发工程师 测试题[答案提交]</title>
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="./css/hui.base.css" />
  <style>
    body{
        font-family: 'Source Sans Pro', sans-serif;
        font-size: 14px;
        zoom: 1;
        background-color: rgb(69, 252, 252);
    }
  </style>
</head>

<body class="hui">

    <h1>百姓网 架构--前端开发工程师 测试题[答案提交]</h1>

<p>by <a href="http://weibo.com/learnshare">胡俊卿</a></p>

<h2>一、写一个百姓网首页列表</h2>

<h3>1.现有方案</h3>

<p>代码结构如下：</p>

<pre><code>&lt;div class=&#39;glist&#39;&gt;
    &lt;h3 class=&#39;note&#39;&gt;
        &lt;i&gt;&lt;/i&gt;
        &lt;a&gt;物品交易&lt;/a&gt;
        &lt;small&gt;(131235)&lt;/small&gt;
    &lt;/h3&gt;
    &lt;div class=&#39;glist-section&#39;&gt;
        &lt;a&gt;手机及配件&lt;/a&gt;
        &lt;div&gt;
            &lt;a&gt;苹果/iPhone&lt;/a&gt;
            &lt;a&gt;三星&lt;/a&gt;
            &lt;a&gt;HTC&lt;/a&gt;
            &lt;a&gt;...&lt;/a&gt;
        &lt;/div&gt;
        &lt;hr&gt;
        &lt;a&gt;电脑及配件&lt;/a&gt;
        &lt;div&gt;
            &lt;a&gt;笔记本&lt;/a&gt;
            &lt;a&gt;台式机&lt;/a&gt;
            &lt;a&gt;配件&lt;/a&gt;
            &lt;a&gt;平板&lt;/a&gt;
            &lt;a&gt;...&lt;/a&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
</code></pre>

<p>代码分析：</p>

<ol>
<li>不符合语义化的要求</li>
<li>IE 7 中存在兼容性问题（子分类换行显示）</li>
<li>使用了负的 margin 属性，来调节多余的偏移</li>
<li>使用了 hr 作为分割线</li>
<li>脱离 css 后，页面效果不和谐</li>
</ol>

<h3>2.改进方案</h3>
<p><a href="./baixing.html" target="_blank">view demo</a></p>
<p>代码结构如下：</p>

<pre><code>&lt;section&gt;
    &lt;h2&gt;
        &lt;a&gt;物品交易&lt;/a&gt;
        &lt;span&gt;(1234)&lt;/span&gt;
    &lt;/h2&gt;
    &lt;h3&gt;
        &lt;a&gt;手机及配件&lt;/a&gt;
    &lt;/h3&gt;
    &lt;ul class=&quot;inline&quot;&gt;
        &lt;li&gt;&lt;a&gt;苹果/iPhone&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a&gt;三星&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a&gt;HTC&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a&gt;...&lt;/a&gt;&lt;/li&gt;
        &lt;li class=&quot;hui-clear&quot;&gt;&lt;/li&gt;
    &lt;/ul&gt;
    &lt;h3&gt;
        &lt;a&gt;电脑及配件&lt;/a&gt;
    &lt;/h3&gt;
    &lt;ul class=&quot;inline&quot;&gt;
        &lt;li&gt;&lt;a&gt;笔记本&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a&gt;台式机&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a&gt;配件&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a&gt;平板&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a&gt;...&lt;/a&gt;&lt;/li&gt;
        &lt;li class=&quot;hui-clear&quot;&gt;&lt;/li&gt;
    &lt;/ul&gt;
&lt;/section&gt;
</code></pre>

<p>代码分析：</p>

<ol>
<li>兼容 IE 6+（两处 hack）</li>
<li>更符合语义化的要求</li>
<li>容易改造成适应移动设备的页面（已实现响应式布局）</li>
<li>脱离 CSS 后，页面内容结构清晰</li>
</ol>

<h2>二、使用任何一个以上的 HTML5 特性完成百姓网某个页面/模块/组件</h2>

<p>重新设计模块：<a href="http://shanghai.baixing.com/zhengzu/">房屋出租</a> 板块的筛选模块</p>

<h3>1.现有方案</h3>

<ol>
<li>提供的筛选条件过少（地点、出租形式、房型、租金）</li>
<li>筛选方式比较简单（以链接为主）</li>
</ol>

<h3>2.改进方案</h3>

<p><a href="./zufang/index.html" target="_blank">view demo</a></p>
<ol>
<li>地点选择基于地图实现（细分为 [区域选择] 和 [基于点的范围选择] 两种）</li>
<li>[区域选择] 功能可使用 SVG 实现（向下兼容方案为 图像热区）（可参考：<a href="http://zh.wikipedia.org/wiki/Template:%E4%B8%8A%E6%B5%B7%E8%A1%8C%E6%94%BF%E5%8C%BA%E5%88%92%E5%9C%B0%E5%9B%BE">Wiki:上海行政区划</a>）</li>
<li>[基于点的范围选择] 功能可使用 Geolocation API（或在地图中手动选择）实现（向下兼容方案为 基于 IP 的定位等）</li>
<li>范围选择及租金选择可使用 jQueryUI Slider 组件（参考 <a href="http://jqueryui.com/slider/#range">Slider#range</a>）</li>
<li>建议增加更多筛选条件（厨卫、电器、阳台 等）</li>
<li>添加搜索结果排序功能（按 时间、价格、距离 排序）</li>
</ol>

<h3>3.demo 介绍</h3>

<ol>
<li>使用 Bootstrap（2.3.2） 完成了界面部分</li>
<li>所有组件功能未实现</li>
<li>添加了百度地图组件，可点击 [当前位置] 从地图中获取当前位置（HTML5），也可以通过右键点击地图选择地点</li>
<li>选取当前地点后，地图中会添加地点标记，并绘制出代表范围的圆</li>
<li>测试环境：Win7 Chrome 28</li>
</ol>

<h2>三、用原生 JS 实现一个事件模块</h2>

<h3>1.考察点</h3>

<p>猜测本题主要考察如下几点：</p>

<ol>
<li>JS 模块化</li>
<li>原生事件接口及旧 IE 的私有接口</li>
</ol>

<h3>2.解决方案</h3>
<p><a href="./h.js/index.html" target="_blank">view demo</a></p>

<p>实现了名为 H 的包装工具类（兼容 IE8+），并提供了如下方法：</p>

<h4>1.H()</h4>

<p>构造函数。</p>

<p>语法：</p>

<blockquote>
<div>var h=new H(&quot;selectors&quot;);</div>
</blockquote>

<p>参数：</p>

<blockquote>
<div>selectors CSS 选择器（Old IE 中，仅支持 id、class、tag，且不支持选择器组合）</div>
</blockquote>

<h4>2.h.each()</h4>

<p>元素遍历。</p>

<p>语法：</p>

<blockquote>
<div>h.each(callback);</div>
</blockquote>

<p>参数：</p>

<blockquote>
<div>callback 对每个元素调用的函数（可使用参数 elmt 访问每个元素）</div>
</blockquote>

<h4>3.h.bind()</h4>

<p>事件绑定。</p>

<p>语法：</p>

<blockquote>
<div>h.bind(&quot;eventname&quot;, listener);</div>
</blockquote>

<p>参数：</p>

<blockquote>
<div>eventname 事件名称（在 Modern Broswer 中，支持自定义事件）<br>
listener 事件监听函数</div>
</blockquote>

<h4>4.h.unbind()</h4>

<p>解除事件绑定。</p>

<p>语法：</p>

<blockquote>
<div>h.unbind(&quot;eventname&quot;, listener);</div>
</blockquote>

<p>参数：</p>

<blockquote>
<div>listener 事件监听函数（必须为 bind() 方法调用的同一个函数）</div>
</blockquote>

<h4>5.h.fire()</h4>

<p>触发事件。（在 Modern Broswer 中，支持自定义事件）</p>

<p>语法：</p>

<blockquote>
<div>h.fire(&quot;eventname&quot;[,true,true]);</div>
</blockquote>

<p>参数：</p>

<blockquote>
<div>eventname 事件名称<br>
canBubble[可选] 是否冒泡（默认为 true）<br>
cancelable[可选] 是否可停止（默认为 true）</div>
</blockquote>

<h3>3.demo 介绍</h3>

<ol>
<li>测试环境：Win7 Chrome28/Firefox23/IE10；WinXP IE8</li>
</ol>


</body>

</html>
