$(function(){var t=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),e=t||/Mac/.test(navigator.platform);$(".movie-def").each(function(){var t=CodeMirror.movie(this,{sectionSeparator:/~{3}|@{3}/g}),n=t._editor,r={play:(e?"▶ ":"")+"Play demo",pause:(e?"❚❚ ":"")+"Pause",play_again:(e?"▶ ":"")+"Play again",try_yourself:"Try it yourself"},i=$('<div class="CodeMirror-movie__splash"><div class="CodeMirror-movie__splash-text"><span class="CodeMirror-movie__splash-play-btn">▶</span> Watch demo</div></div>').click(function(){t.play()}),o=function(){i&&(i.remove(),i=null)},a=$(n.getWrapperElement());a.append(i),t.on("play",o);var s=$('<button class="btn btn-mini btn-primary CodeMirror-movie__btn-play">'+r.play+"</button>").click(function(){t.toggle()}),l=$('<button class="btn btn-mini btn-success CodeMirror-movie__btn-try">'+r.try_yourself+"</button>").click(function(){t.stop(),o(),n.execCommand("revert"),n.focus()}),u=$('<div class="CodeMirror-movie__toolbar"></div>').append(s).append(l);t.on("play resume",function(){s.html(r.pause)}).on("pause stop",function(){s.html(r.play_again)}),a.before(u)})}),CodeMirror._wrapWithAbbreviation=function(t,e){var n=emmet.require("cm-editor-proxy");n.setupContext(t),emmet.require("actions").run("wrap_with_abbreviation",n,e)},function(){var t="iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAB0UlEQVQ4y2P4z8DAQCoGgjwgVsIqR46BwoJMt7i5GPeBmFQxUFWR5R6IycHOuB5Ii6C5niENiDORcAVID5ICDSCOB+IGIO4G4lwBPqY3MDOAhq5DNhTDkYL8TE+jArgcgGwWIC5iZ2O8TsjRnByMa4G0ENhARkaGf6JCTJ/rCviOg/DeFaKdz85IibCyMM4lJSSALl0Ld6GCDMszoCEaUMzFwszQSmrQ8nIzfgDqFQcbKC3B/BQpDFT4+Zieo2vg4mT8KSLE9AUYuz+BvkKRk5Vi/jC7S2gp0EApsIEykszPYLJaaqwZbGyMv0BckOYwH64r2xeJrrm0S2IGEPcC8TQ1JZZXMMM0VVhfbVsk2g80TAKIGTEM1NdinQliApPGmyWThJcDFXkDMQ+yk+SkmB+AmBZGbI9ObBKvAcpzo8QysoHGemwbgAofn9sGViiGLcCALrzrYMl+7+EJyRSgGmb0dIhiYGsZf+XRdWL5QIVMuGKgvpBvzp3DkvFQA3zwGggKWCBmxRelQHkVqOZ2YPL6iGGgvDTzYzILif+SYszvUcSYmRj+AnPDdyBzM6kYlHzERZnfYLiQEgwsed6hGAgMj/lADEqUK8jAS4C4A9lAAFHbei84vFYeAAAAAElFTkSuQmCC";emmet.define("file",function(){return{read:function(){var e=emmet.require("base64").decode(t),n=_.last(arguments);return n&&_.isFunction(n)&&n(0,e),e},locateFile:function(t,e){return e},createPath:function(t,e){return e},save:function(){},getExt:function(t){var e=(t||"").match(/\.([\w\-]+)$/);return e?e[1].toLowerCase():""}}}),emmet.require("actionUtils").getImageSize=function(){return{width:200,height:150}};var e=emmet.require("cm-editor-proxy");e.addAction("encode_decode_data_url","Shift-Cmd-I"),e.addAction("update_image_size","Shift-Cmd-U")}(),$(function(){function t(){var t=emmet.require("preferences").list(),e=_.template('<tr><td><span class="emmet-preferences__name"><%= name %></span><div class="emmet-preferences__desc"><%= description %></div></td><td><span class="emmet-preferences__value"><%- value %></span></td></tr>'),n='<table class="emmet-preferences__list">';return _.each(t,function(t){n+=e(t)}),n+"</table>"}$(".emmet-preferences").each(function(){$(this).html(t()).on("click",".emmet-preferences__value",function(){$(this).toggleClass("emmet-preferences__value_full")})}),$(".cm-box").each(function(){var t={theme:"espresso",mode:$(this).data("cm-mode")||"text/html",indentWithTabs:!0,tabSize:4,lineNumbers:!0,onCursorActivity:function(){e.setLineClass(n,null,null),n=e.setLineClass(e.getCursor().line,null,"activeline")}},e=CodeMirror.fromTextArea(this,t),n=e.setLineClass(0,"activeline");$(this).data("height")&&(e.getWrapperElement().style.height=$(this).data("height")+"px")})});