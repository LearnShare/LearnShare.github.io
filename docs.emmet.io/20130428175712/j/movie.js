var CodeMirror=function(){function t(a,c){function b(t){Zn.onDragEvent&&Zn.onDragEvent(ti,y(t))||C(t)}function w(t){return t>=0&&Sr.size>t}function T(t){return h(Sr,t)}function $(t,e){Nr=!0;for(var n=e-t.height,r=t;r;r=r.parent)r.height+=n}function I(t){var e={line:0,ch:0};ke(e,{line:Sr.size-1,ch:T(Sr.size-1).text.length},le(t),e,e),$r=!0}function q(){var t=[];return Sr.iter(0,Sr.size,function(e){t.push(e.text)}),t.join("\n")}function B(){(Ur!=mr.scrollTop||jr!=ir.scrollLeft)&&(Ur=mr.scrollTop,jr=ir.scrollLeft,Ke([]),Zn.fixedGutter&&(sr.style.left=ir.scrollLeft+"px"),Zn.onScroll&&Zn.onScroll(ti))}function ne(t){function e(e){J&&(ir.draggable=!1),Tr=!1,u(),c(),10>Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)&&(x(e),nn(o.line,o.ch,!0),je())}function n(t){var e=Un(t,!0);if(e&&!E(e,l)){wr||ye(),l=e,Je(o,e),$r=!1;var r=Ve();(e.line>=r.to||e.line<r.from)&&(s=setTimeout(Xn(function(){n(t)}),150))}}function r(t){clearTimeout(s);var e=Un(t);e&&Je(o,e),x(t),je(),$r=!0,f(),u()}Ze(_(t,"shiftKey"));for(var i=k(t);i!=er;i=i.parentNode)if(i.parentNode==or&&i!=ar)return;for(var i=k(t);i!=er;i=i.parentNode)if(i.parentNode==lr)return Zn.onGutterClick&&Zn.onGutterClick(ti,D(lr.childNodes,i)+Wr,t),x(t);if(Zn.readOnly)return x(t),void 0;var o=Un(t);switch(S(t)){case 3:return G&&!F&&jn(t),void 0;case 2:return o&&nn(o.line,o.ch,!0),setTimeout(je,20),x(t),void 0}if(!o)return k(t)==ir&&x(t),void 0;wr||ye();var a=+new Date;if(Mr&&Mr.time>a-400&&E(Mr.pos,o))return x(t),setTimeout(je,20),fn(o.line);if(Ar&&Ar.time>a-400&&E(Ar.pos,o))return Mr={time:a,pos:o},x(t),cn(o);Ar={time:a,pos:o};var s,l=o;if(Zn.dragDrop&&oe&&!Zn.readOnly&&!E(Dr.from,Dr.to)&&!O(o,Dr.from)&&!O(Dr.to,o)){J&&(ir.draggable=!0);var u=A(document,"mouseup",Xn(e),!0),c=A(ir,"drop",Xn(e),!0);return Tr=!0,ir.dragDrop&&ir.dragDrop(),void 0}x(t),nn(o.line,o.ch,!0);var f=A(document,"mousemove",Xn(function(t){clearTimeout(s),x(t),Y||S(t)?n(t):r(t)}),!0),u=A(document,"mouseup",Xn(r),!0)}function se(t){for(var e=k(t);e!=er;e=e.parentNode)if(e.parentNode==lr)return x(t);var n=Un(t);n&&(Mr={time:+new Date,pos:n},x(t),cn(n))}function fe(t){function e(t,e){var r=new FileReader;r.onload=function(){o[e]=r.result,++a==i&&(n=on(n),Xn(function(){var t=ze(o.join(""),n,n);Je(n,t)})())},r.readAsText(t)}if(!Zn.onDragEvent||!Zn.onDragEvent(ti,y(t))){t.preventDefault();var n=Un(t,!0),r=t.dataTransfer.files;if(n&&!Zn.readOnly)if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),a=0,s=0;i>s;++s)e(r[s],s);else{if(Tr&&!O(n,Dr.from)&&!O(Dr.to,n))return;try{var o=t.dataTransfer.getData("Text");o&&Qn(function(){var t=Dr.from,e=Dr.to;Je(n,n),Tr&&ze("",t,e),Pe(o),je()})}catch(t){}}}}function de(t){var e=Ne();if(t.dataTransfer.setData("Text",e),G||te||ee){var n=document.createElement("img");n.scr="data:image/gif;base64,R0lGODdhAgACAIAAAAAAAP///ywAAAAAAgACAAACAoRRADs=",t.dataTransfer.setDragImage(n,0,0)}}function he(t,e){if("string"==typeof t&&(t=H[t],!t))return!1;var n=_r;try{Zn.readOnly&&(qr=!0),e&&(_r=null),t(ti)}catch(r){if(r!=K)throw r;return!1}finally{_r=n,qr=!1}return!0}function pe(t){function i(){u=!0}var o=e(Zn.keyMap),a=o.auto;clearTimeout(Jr),a&&!r(t)&&(Jr=setTimeout(function(){e(Zn.keyMap)==o&&(Zn.keyMap=a.call?a.call(null,ti):a)},50));var s=ce[_(t,"keyCode")],l=!1;if(null==s||t.altGraphKey)return!1;_(t,"altKey")&&(s="Alt-"+s),_(t,"ctrlKey")&&(s="Ctrl-"+s),_(t,"metaKey")&&(s="Cmd-"+s);var u=!1;return l=_(t,"shiftKey")?n("Shift-"+s,Zn.extraKeys,Zn.keyMap,function(t){return he(t,!0)},i)||n(s,Zn.extraKeys,Zn.keyMap,function(t){return"string"==typeof t&&/^go[A-Z]/.test(t)?he(t):void 0},i):n(s,Zn.extraKeys,Zn.keyMap,he,i),u&&(l=!1),l&&(x(t),Fn(),Y&&(t.oldKeyCode=t.keyCode,t.keyCode=0)),l}function me(t,e){var r=n("'"+e+"'",Zn.extraKeys,Zn.keyMap,function(t){return he(t,!0)});return r&&(x(t),Fn()),r}function ge(t){if(wr||ye(),Y&&27==t.keyCode&&(t.returnValue=!1),ni&&De()&&(ni=!1),!Zn.onKeyEvent||!Zn.onKeyEvent(ti,y(t))){var e=_(t,"keyCode");Ze(16==e||_(t,"shiftKey"));var n=pe(t);ee&&(ei=n?e:null,!n&&88==e&&_(t,F?"metaKey":"ctrlKey")&&Pe(""))}}function ve(t){if(ni&&De(),!Zn.onKeyEvent||!Zn.onKeyEvent(ti,y(t))){var e=_(t,"keyCode"),n=_(t,"charCode");if(ee&&e==ei)return ei=null,x(t),void 0;if(!(ee&&(!t.which||10>t.which)||re)||!pe(t)){var r=String.fromCharCode(null==n?e:n);Zn.electricChars&&yr.electricChars&&Zn.smartIndent&&!Zn.readOnly&&yr.electricChars.indexOf(r)>-1&&setTimeout(Xn(function(){hn(Dr.to.line,"smart")}),75),me(t,r)||Re()}}}function be(t){Zn.onKeyEvent&&Zn.onKeyEvent(ti,y(t))||16==_(t,"keyCode")&&(_r=null)}function ye(){"nocursor"!=Zn.readOnly&&(wr||(Zn.onFocus&&Zn.onFocus(ti),wr=!0,-1==ir.className.search(/\bCodeMirror-focused\b/)&&(ir.className+=" CodeMirror-focused"),Or||Ue(!0)),Ie(),Fn())}function xe(){wr&&(Zn.onBlur&&Zn.onBlur(ti),wr=!1,Rr&&Xn(function(){Rr&&(Rr(),Rr=null)})(),ir.className=ir.className.replace(" CodeMirror-focused","")),clearInterval(br),setTimeout(function(){wr||(_r=null)},150)}function we(t){return t>0&&1>t?1:t>-1&&0>t?-1:Math.round(t)}function Ce(t){var e=0,n=0;if("DOMMouseScroll"==t.type){var r=8*-t.detail;t.axis==t.HORIZONTAL_AXIS?e=r:t.axis==t.VERTICAL_AXIS&&(n=r)}else void 0!==t.wheelDeltaX&&void 0!==t.wheelDeltaY?(e=t.wheelDeltaX/3,n=t.wheelDeltaY/3):void 0!==t.wheelDelta&&(n=t.wheelDelta/3);var i=!1;e=we(e),n=we(n),(e>0&&ir.scrollLeft>0||0>e&&ir.scrollLeft+ir.clientWidth<ir.scrollWidth)&&(ir.scrollLeft-=e,i=!0),(n>0&&mr.scrollTop>0||0>n&&mr.scrollTop+mr.clientHeight<mr.scrollHeight)&&(mr.scrollTop-=n,i=!0),i&&C(t)}function ke(t,e,n,r,i){if(!qr){if(Qr){var o=[];for(Sr.iter(t.line,e.line+1,function(t){o.push(t.text)}),Qr.addChange(t.line,n.length,o);Qr.done.length>Zn.undoDepth;)Qr.done.shift()}Me(t,e,n,r,i)}}function Se(t,e){if(t.length){for(var n=t.pop(),r=[],i=n.length-1;i>=0;i-=1){var o=n[i],a=[],s=o.start+o.added;Sr.iter(o.start,s,function(t){a.push(t.text)}),r.push({start:o.start,added:o.old.length,old:a});var l={line:o.start+o.old.length-1,ch:R(a[a.length-1],o.old[o.old.length-1])};Me({line:o.start,ch:0},{line:s-1,ch:T(s-1).text.length},o.old,l,l)}$r=!0,e.push(r)}}function _e(){Se(Qr.done,Qr.undone)}function Ae(){Se(Qr.undone,Qr.done)}function Me(t,e,n,r,i){function o(t){return Math.min(e.line,e.line+b)>=t?t:t+b}if(!qr){var a=!1,s=Kr.length;Zn.lineWrapping||Sr.iter(t.line,e.line+1,function(t){return t.hidden||t.text.length!=s?void 0:(a=!0,!0)}),(t.line!=e.line||n.length>1)&&(Nr=!0);var l=e.line-t.line,c=T(t.line),f=T(e.line);if(0==t.ch&&0==e.ch&&""==n[n.length-1]){var d=[],h=null;t.line?(h=T(t.line-1),h.fixMarkEnds(f)):f.fixMarkStarts();for(var p=0,m=n.length-1;m>p;++p)d.push(u.inheritMarks(n[p],h));l&&Sr.remove(t.line,l,Ir),d.length&&Sr.insert(t.line,d)}else if(c==f)if(1==n.length)c.replace(t.ch,e.ch,n[0]);else{f=c.split(e.ch,n[n.length-1]),c.replace(t.ch,null,n[0]),c.fixMarkEnds(f);for(var d=[],p=1,m=n.length-1;m>p;++p)d.push(u.inheritMarks(n[p],c));d.push(f),Sr.insert(t.line+1,d)}else if(1==n.length)c.replace(t.ch,null,n[0]),f.replace(null,e.ch,""),c.append(f),Sr.remove(t.line+1,l,Ir);else{var d=[];c.replace(t.ch,null,n[0]),f.replace(null,e.ch,n[n.length-1]),c.fixMarkEnds(f);for(var p=1,m=n.length-1;m>p;++p)d.push(u.inheritMarks(n[p],c));l>1&&Sr.remove(t.line+1,l-1,Ir),Sr.insert(t.line+1,d)}if(Zn.lineWrapping){var g=Math.max(5,ir.clientWidth/In()-3);Sr.iter(t.line,t.line+n.length,function(t){if(!t.hidden){var e=Math.ceil(t.text.length/g)||1;e!=t.height&&$(t,e)}})}else Sr.iter(t.line,t.line+n.length,function(t){var e=t.text;!t.hidden&&e.length>s&&(Kr=e,s=e.length,Yr=!0,a=!1)}),a&&(Gr=!0);for(var v=[],b=n.length-l-1,p=0,y=xr.length;y>p;++p){var x=xr[p];t.line>x?v.push(x):x>e.line&&v.push(x+b)}var w=t.line+Math.min(n.length,500);Hn(t.line,w),v.push(w),xr=v,Kn(100),zr.push({from:t.line,to:e.line+1,diff:b});var C={from:t,to:e,text:n};if(Pr){for(var k=Pr;k.next;k=k.next);k.next=C}else Pr=C;tn(on(r),on(i),o(Dr.from.line),o(Dr.to.line))}}function Te(t){var e=Nn(),n=Math.floor(Sr.height*e+2*Rn()),r=ir.clientHeight;mr.style.height=r+"px",ir.clientHeight&&(gr.style.height=n+"px"),null!=t&&(mr.scrollTop=t),ar.style.top=Br*e-mr.scrollTop+"px",mr.style.display=n>r?"block":"none"}function $e(){var t=document.createElement("div"),e=document.createElement("div");t.className="CodeMirror-scrollbar",t.style.cssText="position: absolute; left: -9999px; height: 100px;",e.className="CodeMirror-scrollbar-inner",e.style.height="200px",t.appendChild(e),document.body.appendChild(t);var n=1>=t.offsetWidth;return document.body.removeChild(t),n}function Le(){var t=0;Kr="",Yr=!0,Sr.iter(0,Sr.size,function(e){var n=e.text;!e.hidden&&n.length>t&&(t=n.length,Kr=n)}),Gr=!1}function ze(t,e,n){function r(r){if(O(r,e))return r;if(!O(n,r))return i;var o=r.line+t.length-(n.line-e.line)-1,a=r.ch;return r.line==n.line&&(a+=t[t.length-1].length-(n.ch-(n.line==e.line?e.ch:0))),{line:o,ch:a}}e=on(e),n=n?on(n):e,t=le(t);var i;return Ee(t,e,n,function(t){return i=t,{from:r(Dr.from),to:r(Dr.to)}}),i}function Pe(t,e){Ee(le(t),Dr.from,Dr.to,function(t){return"end"==e?{from:t,to:t}:"start"==e?{from:Dr.from,to:Dr.from}:{from:Dr.from,to:t}})}function Ee(t,e,n,r){var i=1==t.length?t[0].length+e.ch:t[t.length-1].length,o=r({line:e.line+t.length-1,ch:i});ke(e,n,t,o.from,o.to)}function Oe(t,e){var n=t.line,r=e.line;if(n==r)return T(n).text.slice(t.ch,e.ch);var i=[T(n).text.slice(t.ch)];return Sr.iter(n+1,r,function(t){i.push(t.text)}),i.push(T(r).text.slice(0,e.ch)),i.join("\n")}function Ne(){return Oe(Dr.from,Dr.to)}function Ie(){ni||Cr.set(Zn.pollInterval,function(){Gn(),De(),wr&&Ie(),Yn()})}function Re(){function t(){Gn();var n=De();n||e?(ni=!1,Ie()):(e=!0,Cr.set(60,t)),Yn()}var e=!1;ni=!0,Cr.set(20,t)}function De(){if(Or||!wr||ue(rr)||Zn.readOnly)return!1;var t=rr.value;if(t==ri)return!1;_r=null;for(var e=0,n=Math.min(ri.length,t.length);n>e&&ri[e]==t[e];)++e;return ri.length>e?Dr.from={line:Dr.from.line,ch:Dr.from.ch-(ri.length-e)}:Fr&&E(Dr.from,Dr.to)&&(Dr.to={line:Dr.to.line,ch:Math.min(T(Dr.to.line).text.length,Dr.to.ch+(t.length-e))}),Pe(t.slice(e),"end"),t.length>1e3?rr.value=ri="":ri=t,!0}function Ue(t){E(Dr.from,Dr.to)?t&&(ri=rr.value=""):(ri="",rr.value=Ne(),P(rr))}function je(){"nocursor"!=Zn.readOnly&&rr.focus()}function Fe(){if(fr.getBoundingClientRect){var t=fr.getBoundingClientRect();if(!Y||t.top!=t.bottom){var e=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(0>t.top||t.bottom>e)&&qe()}}}function qe(){var t=Be();return We(t.x,t.y,t.x,t.yBot)}function Be(){var t=Pn(Dr.inverted?Dr.from:Dr.to),e=Zn.lineWrapping?Math.min(t.x,ur.offsetWidth):t.x;return{x:e,y:t.y,yBot:t.yBot}}function We(t,e,n,r){var i=He(t,e,n,r),o=!1;null!=i.scrollLeft&&(ir.scrollLeft=i.scrollLeft,o=!0),null!=i.scrollTop&&(mr.scrollTop=i.scrollTop,o=!0),o&&Zn.onScroll&&Zn.onScroll(ti)}function He(t,e,n,r){var i=Dn(),o=Rn();e+=o,r+=o,t+=i,n+=i;var a=ir.clientHeight,s=mr.scrollTop,l={},u=Rn()+10>e;s>e?l.scrollTop=u?0:Math.max(0,e):r>s+a&&(l.scrollTop=r-a);var c=ir.clientWidth,f=ir.scrollLeft,d=Zn.fixedGutter?sr.clientWidth:0,h=d+i+10>t;return f+d>t||h?(h&&(t=0),l.scrollLeft=Math.max(0,t-10-d)):n>c+f-3&&(l.scrollLeft=n+10-c),l}function Ve(t){var e=Nn(),n=(null!=t?t:mr.scrollTop)-Rn(),r=Math.max(0,Math.floor(n/e)),i=Math.ceil((n+ir.clientHeight)/e);return{from:m(Sr,r),to:m(Sr,i)}}function Ke(t,e,n){function r(){var t=pr.firstChild,e=!1;return Sr.iter(Wr,Hr,function(n){if(!n.hidden){var r=Math.round(t.offsetHeight/f)||1;n.height!=r&&($(n,r),Nr=e=!0)}t=t.nextSibling}),e}if(!ir.clientWidth)return Wr=Hr=Br=0,void 0;var i=Ve(n);if(t!==!0&&0==t.length&&i.from>Wr&&Hr>i.to)return Te(n),void 0;var o=Math.max(i.from-100,0),a=Math.min(Sr.size,i.to+100);o>Wr&&20>o-Wr&&(o=Wr),Hr>a&&20>Hr-a&&(a=Math.min(Sr.size,Hr));for(var s=t===!0?[]:Ge([{from:Wr,to:Hr,domStart:0}],t),l=0,u=0;s.length>u;++u){var c=s[u];o>c.from&&(c.domStart+=o-c.from,c.from=o),c.to>a&&(c.to=a),c.from>=c.to?s.splice(u--,1):l+=c.to-c.from}if(l==a-o&&o==Wr&&a==Hr)return Te(n),void 0;s.sort(function(t,e){return t.domStart-e.domStart});var f=Nn(),d=sr.style.display;pr.style.display="none",Ye(o,a,s),pr.style.display=sr.style.display="";var h=o!=Wr||a!=Hr||Vr!=ir.clientHeight+f;if(h&&(Vr=ir.clientHeight+f),Wr=o,Hr=a,Br=g(Sr,o),pr.childNodes.length!=Hr-Wr)throw Error("BAD PATCH! "+JSON.stringify(s)+" size="+(Hr-Wr)+" nodes="+pr.childNodes.length);if(Zn.lineWrapping){var p=Math.floor(Sr.height*f+2*Rn()),m=ir.clientHeight;p>m&&(mr.style.display="block"),r()}return sr.style.display=d,(h||Nr)&&Xe()&&Zn.lineWrapping&&r()&&Xe(),Qe(),Te(n),!e&&Zn.onUpdate&&Zn.onUpdate(ti),!0}function Ge(t,e){for(var n=0,r=e.length||0;r>n;++n){for(var i=e[n],o=[],a=i.diff||0,s=0,l=t.length;l>s;++s){var u=t[s];i.to<=u.from&&i.diff?o.push({from:u.from+a,to:u.to+a,domStart:u.domStart}):i.to<=u.from||i.from>=u.to?o.push(u):(i.from>u.from&&o.push({from:u.from,to:i.from,domStart:u.domStart}),i.to<u.to&&o.push({from:i.to+a,to:u.to+a,domStart:u.domStart+(i.to-u.from)}))}t=o}return t}function Ye(t,e,n){function r(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e}if(n.length){for(var i=0,o=pr.firstChild,a=0;n.length>a;++a){for(var s=n[a];s.domStart>i;)o=r(o),i++;for(var l=0,u=s.to-s.from;u>l;++l)o=o.nextSibling,i++}for(;o;)o=r(o)}else pr.innerHTML="";var c=n.shift(),o=pr.firstChild,l=t,f=document.createElement("div");Sr.iter(t,e,function(t){if(c&&c.to==l&&(c=n.shift()),!c||c.from>l){if(t.hidden)var e=f.innerHTML="<pre></pre>";else{var e="<pre"+(t.className?' class="'+t.className+'"':"")+">"+t.getHTML(vn)+"</pre>";t.bgClassName&&(e='<div style="position: relative"><pre class="'+t.bgClassName+'" style="position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: -2">&#160;</pre>'+e+"</div>")}f.innerHTML=e,pr.insertBefore(f.firstChild,o)}else o=o.nextSibling;++l})}function Xe(){if(Zn.gutter||Zn.lineNumbers){var t=ar.offsetHeight,e=ir.clientHeight;sr.style.height=(2>t-e?e:t)+"px";var n,r=[],i=Wr;if(Sr.iter(Wr,Math.max(Hr,Wr+1),function(t){if(t.hidden)r.push("<pre></pre>");else{var e=t.gutterMarker,o=Zn.lineNumbers?i+Zn.firstLineNumber:null;e&&e.text?o=e.text.replace("%N%",null!=o?o:""):null==o&&(o=" "),r.push(e&&e.style?'<pre class="'+e.style+'">':"<pre>",o);for(var a=1;t.height>a;++a)r.push("<br/>&#160;");r.push("</pre>"),e||(n=i)}++i}),sr.style.display="none",lr.innerHTML=r.join(""),null!=n&&Zn.lineNumbers){for(var o=lr.childNodes[n-Wr],a=(Sr.size+"").length,s=z(o.firstChild),l="";a>s.length+l.length;)l+=" ";l&&o.insertBefore(document.createTextNode(l),o.firstChild)}sr.style.display="";var u=Math.abs((parseInt(ur.style.marginLeft)||0)-sr.offsetWidth)>2;return ur.style.marginLeft=sr.offsetWidth+"px",Nr=!1,u}}function Qe(){function t(t,e,n,r){var i=Z?"width: "+(n?c-n-t:c)+"px":"right: "+n+"px";u+='<div class="CodeMirror-selected" style="position: absolute; left: '+t+"px; top: "+e+"px; "+i+"; height: "+r+'px"></div>'}var e=E(Dr.from,Dr.to),n=Pn(Dr.from,!0),r=e?n:Pn(Dr.to,!0),i=Dr.inverted?n:r,o=Nn(),a=L(er),s=L(pr);if(nr.style.top=Math.max(0,Math.min(ir.offsetHeight,i.y+s.top-a.top))+"px",nr.style.left=Math.max(0,Math.min(ir.offsetWidth,i.x+s.left-a.left))+"px",e)fr.style.top=i.y+"px",fr.style.left=(Zn.lineWrapping?Math.min(i.x,ur.offsetWidth):i.x)+"px",fr.style.display="",hr.style.display="none";else{var l=n.y==r.y,u="",c=ur.clientWidth||ur.offsetWidth,f=ur.clientHeight||ur.offsetHeight;if(Dr.from.ch&&n.y>=0){var d=l?c-r.x:0;t(n.x,n.y,d,o)}var h=Math.max(0,n.y+(Dr.from.ch?o:0)),p=Math.min(r.y,f)-h;p>.2*o&&t(0,h,0,p),l&&Dr.from.ch||!(f-.5*o>r.y)||t(0,r.y,c-r.x,o),hr.innerHTML=u,fr.style.display="none",hr.style.display=""}}function Ze(t){_r=t?_r||(Dr.inverted?Dr.to:Dr.from):null}function Je(t,e){var n=_r&&on(_r);n&&(O(n,t)?t=n:O(e,n)&&(e=n)),tn(t,e),Lr=!0}function tn(t,e,n,r){if(ii=null,null==n&&(n=Dr.from.line,r=Dr.to.line),!E(Dr.from,t)||!E(Dr.to,e)){if(O(e,t)){var i=e;e=t,t=i}if(t.line!=n){var o=en(t,n,Dr.from.ch);o?t=o:Tn(t.line,!1)}if(e.line!=r&&(e=en(e,r,Dr.to.ch)),E(t,e)?Dr.inverted=!1:E(t,Dr.to)?Dr.inverted=!1:E(e,Dr.from)&&(Dr.inverted=!0),Zn.autoClearEmptyLines&&E(Dr.from,Dr.to)){var a=Dr.inverted?t:e;if(a.line!=Dr.from.line&&Dr.from.line<Sr.size){var s=T(Dr.from.line);/^\s+$/.test(s.text)&&setTimeout(Xn(function(){if(s.parent&&/^\s+$/.test(s.text)){var t=p(s);ze("",{line:t,ch:0},{line:t,ch:s.text.length})}},10))}}Dr.from=t,Dr.to=e,Er=!0}}function en(t,e,n){function r(e){for(var r=t.line+e,i=1==e?Sr.size:-1;r!=i;){var a=T(r);if(!a.hidden){var s=t.ch;return(o||s>n||s>a.text.length)&&(s=a.text.length),{line:r,ch:s}}r+=e}}var i=T(t.line),o=t.ch==i.text.length&&t.ch!=n;return i.hidden?t.line>=e?r(1)||r(-1):r(-1)||r(1):t}function nn(t,e,n){var r=on({line:t,ch:e||0});(n?Je:tn)(r,r)}function rn(t){return Math.max(0,Math.min(t,Sr.size-1))}function on(t){if(0>t.line)return{line:0,ch:0};if(t.line>=Sr.size)return{line:Sr.size-1,ch:T(Sr.size-1).text.length};var e=t.ch,n=T(t.line).text.length;return null==e||e>n?{line:t.line,ch:n}:0>e?{line:t.line,ch:0}:t}function an(t,e){function n(){for(var e=o+t,n=0>t?-1:Sr.size;e!=n;e+=t){var r=T(e);if(!r.hidden)return o=e,s=r,!0}}function r(e){if(a==(0>t?0:s.text.length)){if(e||!n())return!1;a=0>t?s.text.length:0}else a+=t;return!0}var i=Dr.inverted?Dr.from:Dr.to,o=i.line,a=i.ch,s=T(o);if("char"==e)r();else if("column"==e)r(!0);else if("word"==e)for(var l=!1;!(0>t)||r();){if(U(s.text.charAt(a)))l=!0;else if(l){0>t&&(t=1,r());break}if(t>0&&!r())break}return{line:o,ch:a}}function sn(t,e){var n=0>t?Dr.from:Dr.to;(_r||E(Dr.from,Dr.to))&&(n=an(t,e)),nn(n.line,n.ch,!0)}function ln(t,e){E(Dr.from,Dr.to)?0>t?ze("",an(t,e),Dr.to):ze("",Dr.from,an(t,e)):ze("",Dr.from,Dr.to),Lr=!0}function un(t,e){var n=0,r=Pn(Dr.inverted?Dr.from:Dr.to,!0);null!=ii&&(r.x=ii),"page"==e?n=Math.min(ir.clientHeight,window.innerHeight||document.documentElement.clientHeight):"line"==e&&(n=Nn());var i=En(r.x,r.y+n*t+2);"page"==e&&(mr.scrollTop+=Pn(i,!0).y-r.y),nn(i.line,i.ch,!0),ii=r.x}function cn(t){for(var e=T(t.line).text,n=t.ch,r=t.ch;n>0&&U(e.charAt(n-1));)--n;for(;e.length>r&&U(e.charAt(r));)++r;Je({line:t.line,ch:n},{line:t.line,ch:r})}function fn(t){Je({line:t,ch:0},on({line:t+1,ch:0}))}function dn(t){if(E(Dr.from,Dr.to))return hn(Dr.from.line,t);for(var e=Dr.to.line-(Dr.to.ch?0:1),n=Dr.from.line;e>=n;++n)hn(n,t)}function hn(t,e){if(e||(e="add"),"smart"==e)if(yr.indent)var n=Wn(t);else e="prev";var r,i=T(t),o=i.indentation(Zn.tabSize),a=i.text.match(/^\s*/)[0];"smart"==e&&(r=yr.indent(n,i.text.slice(a.length),i.text),r==K&&(e="prev")),"prev"==e?r=t?T(t-1).indentation(Zn.tabSize):0:"add"==e?r=o+Zn.indentUnit:"subtract"==e&&(r=o-Zn.indentUnit),r=Math.max(0,r);var s=r-o;if(s){var l="",u=0;if(Zn.indentWithTabs)for(var c=Math.floor(r/Zn.tabSize);c;--c)u+=Zn.tabSize,l+="	";for(;r>u;)++u,l+=" "}else{if(Dr.from.line!=t&&Dr.to.line!=t)return;var l=a}ze(l,{line:t,ch:0},{line:t,ch:a.length})}function pn(){yr=t.getMode(Zn,Zn.mode),Sr.iter(0,Sr.size,function(t){t.stateAfter=null}),xr=[0],Kn()}function mn(){var t=Zn.gutter||Zn.lineNumbers;sr.style.display=t?"":"none",t?Nr=!0:pr.parentNode.style.marginLeft=0}function gn(){if(Zn.lineWrapping){er.className+=" CodeMirror-wrap";var t=ir.clientWidth/In()-3;Sr.iter(0,Sr.size,function(e){if(!e.hidden){var n=Math.ceil(e.text.length/t)||1;1!=n&&$(e,n)}}),ur.style.width=or.style.width="",dr.style.left=""}else er.className=er.className.replace(" CodeMirror-wrap",""),Kr="",Yr=!0,Sr.iter(0,Sr.size,function(t){1==t.height||t.hidden||$(t,1),t.text.length>Kr.length&&(Kr=t.text)});zr.push({from:0,to:Sr.size})}function vn(t){var e=Zn.tabSize-t%Zn.tabSize,n=Xr[e];if(n)return n;for(var r='<span class="cm-tab">',i=0;e>i;++i)r+=" ";return Xr[e]={html:r+"</span>",width:e}}function bn(){ir.className=ir.className.replace(/\s*cm-s-\S+/g,"")+Zn.theme.replace(/(^|\s)\s*/g," cm-s-")}function yn(){var t=V[Zn.keyMap].style;er.className=er.className.replace(/\s*cm-keymap-\S+/g,"")+(t?" cm-keymap-"+t:"")}function xn(){this.set=[]}function wn(t,e,n){function r(t,e,n,r){T(t).addMark(new s(e,n,r,i))}t=on(t),e=on(e);var i=new xn;if(!O(t,e))return i;if(t.line==e.line)r(t.line,t.ch,e.ch,n);else{r(t.line,t.ch,null,n);for(var o=t.line+1,a=e.line;a>o;++o)r(o,null,null,n);r(e.line,null,e.ch,n)}return zr.push({from:t.line,to:e.line+1}),i}function Cn(t){t=on(t);var e=new l(t.ch);return T(t.line).addMark(e),e}function kn(t){t=on(t);var e=[],n=T(t.line).marked;if(!n)return e;for(var r=0,i=n.length;i>r;++r){var o=n[r];(null==o.from||o.from<=t.ch)&&(null==o.to||o.to>=t.ch)&&e.push(o.marker||o)}return e}function Sn(t,e,n){return"number"==typeof t&&(t=T(rn(t))),t.gutterMarker={text:e,style:n},Nr=!0,t}function _n(t){"number"==typeof t&&(t=T(rn(t))),t.gutterMarker=null,Nr=!0}function An(t,e){var n=t,r=t;return"number"==typeof t?r=T(rn(t)):n=p(t),null==n?null:e(r,n)?(zr.push({from:n,to:n+1}),r):null}function Mn(t,e,n){return An(t,function(t){return t.className!=e||t.bgClassName!=n?(t.className=e,t.bgClassName=n,!0):void 0})}function Tn(t,e){return An(t,function(t,n){if(t.hidden!=e){if(t.hidden=e,!Zn.lineWrapping){var r=t.text;e&&r.length==Kr.length?Gr=!0:!e&&r.length>Kr.length&&(Kr=r,maxWidth=null,Gr=!1)}$(t,e?0:1);var i=Dr.from.line,o=Dr.to.line;if(e&&(i==n||o==n)){var a=i==n?en({line:i,ch:0},i,0):Dr.from,s=o==n?en({line:o,ch:0},o,0):Dr.to;if(!s)return;tn(a,s)}return Nr=!0}})}function $n(t){if("number"==typeof t){if(!w(t))return null;var e=t;if(t=T(t),!t)return null}else{var e=p(t);if(null==e)return null}var n=t.gutterMarker;return{line:e,handle:t,text:t.text,markerText:n&&n.text,markerClass:n&&n.style,lineClass:t.className,bgClass:t.bgClassName}}function Ln(t){return cr.innerHTML="<pre><span>x</span></pre>",cr.firstChild.firstChild.firstChild.nodeValue=t,cr.firstChild.firstChild.offsetWidth||10}function zn(t,e){if(0==e)return{top:0,left:0};var n=Zn.lineWrapping&&t.text.length>e&&ae.test(t.text.slice(e-1,e+1));cr.innerHTML="<pre>"+t.getHTML(vn,e,ui,n)+"</pre>";var r=document.getElementById(ui),i=r.offsetTop,o=r.offsetLeft;if(Y&&0==i&&0==o){var a=document.createElement("span");a.innerHTML="x",r.parentNode.insertBefore(a,r.nextSibling),i=a.offsetTop}return{top:i,left:o}}function Pn(t,e){var n,r=Nn(),i=r*(g(Sr,t.line)-(e?Br:0));if(0==t.ch)n=0;else{var o=zn(T(t.line),t.ch);n=o.left,Zn.lineWrapping&&(i+=Math.max(0,o.top))}return{x:n,y:i,yBot:i+r}}function En(t,e){function n(t){var e=zn(s,t);if(u){var n=Math.round(e.top/r);return Math.max(0,e.left+(n-c)*ir.clientWidth)}return e.left}0>e&&(e=0);var r=Nn(),i=In(),o=Br+Math.floor(e/r),a=m(Sr,o);if(a>=Sr.size)return{line:Sr.size-1,ch:T(Sr.size-1).text.length};var s=T(a),l=s.text,u=Zn.lineWrapping,c=u?o-g(Sr,a):0;if(0>=t&&0==c)return{line:a,ch:0};for(var f,d=0,h=0,p=l.length,v=Math.min(p,Math.ceil((t+.9*c*ir.clientWidth)/i));;){var b=n(v);if(!(t>=b&&p>v)){f=b,p=v;break}v=Math.min(p,Math.ceil(1.2*v))}if(t>f)return{line:a,ch:p};for(v=Math.floor(.8*p),b=n(v),t>b&&(d=v,h=b);;){if(1>=p-d)return{line:a,ch:f-t>t-h?d:p};var y=Math.ceil((d+p)/2),x=n(y);x>t?(p=y,f=x):(d=y,h=x)}}function On(t){var e=Pn(t,!0),n=L(ur);return{x:n.left+e.x,y:n.top+e.y,yBot:n.top+e.yBot}}function Nn(){if(null==si){si="<pre>";for(var t=0;49>t;++t)si+="x<br/>";si+="x</pre>"}var e=pr.clientHeight;return e==ai?oi:(ai=e,cr.innerHTML=si,oi=cr.firstChild.offsetHeight/50||1,cr.innerHTML="",oi)}function In(){return ir.clientWidth==ci?li:(ci=ir.clientWidth,li=Ln("x"))}function Rn(){return ur.offsetTop}function Dn(){return ur.offsetLeft}function Un(t,e){var n,r,i=L(ir,!0);try{n=t.clientX,r=t.clientY}catch(t){return null}if(!e&&(n-i.left>ir.clientWidth||r-i.top>ir.clientHeight))return null;var o=L(ur,!0);return En(n-o.left,r-o.top)}function jn(t){function e(){var t=le(rr.value).join("\n");t==o||Zn.readOnly||Xn(Pe)(t,"end"),nr.style.position="relative",rr.style.cssText=i,Q&&(mr.scrollTop=r),Or=!1,Ue(!0),Ie()}var n=Un(t),r=mr.scrollTop;if(n&&!ee){(E(Dr.from,Dr.to)||O(n,Dr.from)||!O(n,Dr.to))&&Xn(nn)(n.line,n.ch);var i=rr.style.cssText;nr.style.position="absolute",rr.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(t.clientY-5)+"px; left: "+(t.clientX-5)+"px; z-index: 1000; background: white; "+"border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",Or=!0;var o=rr.value=Ne();if(je(),P(rr),G){C(t);var a=A(window,"mouseup",function(){a(),setTimeout(e,20)},!0)}else setTimeout(e,50)}}function Fn(){clearInterval(br);var t=!0;fr.style.visibility="",br=setInterval(function(){fr.style.visibility=(t=!t)?"":"hidden"},650)}function qn(t){function e(t,e,n){if(t.text)for(var r,i=t.styles,o=a?0:t.text.length-1,l=a?0:i.length-2,u=a?i.length:-2;l!=u;l+=2*s){var c=i[l];if(i[l+1]==d){for(var f=a?0:c.length-1,m=a?c.length:-1;f!=m;f+=s,o+=s)if(o>=e&&n>o&&p.test(r=c.charAt(f))){var g=fi[r];if(">"==g.charAt(1)==a)h.push(r);else{if(h.pop()!=g.charAt(0))return{pos:o,match:!1};if(!h.length)return{pos:o,match:!0}}}}else o+=s*c.length}}var n=Dr.inverted?Dr.from:Dr.to,r=T(n.line),i=n.ch-1,o=i>=0&&fi[r.text.charAt(i)]||fi[r.text.charAt(++i)];if(o){for(var a=(o.charAt(0),">"==o.charAt(1)),s=a?1:-1,l=r.styles,u=i+1,c=0,f=l.length;f>c;c+=2)if(0>=(u-=l[c].length)){var d=l[c+1];break}for(var h=[r.text.charAt(i)],p=/[(){}[\]]/,c=n.line,f=a?Math.min(c+100,Sr.size):Math.max(-1,c-100);c!=f;c+=s){var r=T(c),m=c==n.line,g=e(r,m&&a?i+1:0,m&&!a?i:r.text.length);if(g)break}g||(g={pos:null,match:!1});var d=g.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",v=wn({line:n.line,ch:i},{line:n.line,ch:i+1},d),b=null!=g.pos&&wn({line:c,ch:g.pos},{line:c,ch:g.pos+1},d),y=Xn(function(){v.clear(),b&&b.clear()});t?setTimeout(y,800):Rr=y}}function Bn(t){for(var e,n,r=t,i=t-40;r>i;--r){if(0==r)return 0;var o=T(r-1);if(o.stateAfter)return r;var a=o.indentation(Zn.tabSize);(null==n||e>a)&&(n=r-1,e=a)}return n}function Wn(t){var e=Bn(t),n=e&&T(e-1).stateAfter;return n=n?i(yr,n):o(yr),Sr.iter(e,t,function(t){t.highlight(yr,n,Zn.tabSize),t.stateAfter=i(yr,n)}),t>e&&zr.push({from:e,to:t}),Sr.size>t&&!T(t).stateAfter&&xr.push(t),n}function Hn(t,e){var n=Wn(t);Sr.iter(t,e,function(t){t.highlight(yr,n,Zn.tabSize),t.stateAfter=i(yr,n)})}function Vn(){for(var t=+new Date+Zn.workTime,e=xr.length;xr.length;){if(T(Wr).stateAfter)var n=xr.pop();else var n=Wr;if(!(n>=Sr.size)){var r=Bn(n),a=r&&T(r-1).stateAfter;a=a?i(yr,a):o(yr);var s=0,l=yr.compareStates,u=!1,c=r,f=!1;if(Sr.iter(c,Sr.size,function(e){var r=e.stateAfter;if(+new Date>t)return xr.push(c),Kn(Zn.workDelay),u&&zr.push({from:n,to:c+1}),f=!0;var o=e.highlight(yr,a,Zn.tabSize);o&&(u=!0),e.stateAfter=i(yr,a);var d=null;if(l){var h=r&&l(r,a);h!=K&&(d=!!h)}return null==d&&(o===!1&&r?++s>3&&(!yr.indent||yr.indent(r,"")==yr.indent(a,""))&&(d=!0):s=0),d?!0:(++c,void 0)}),f)return;u&&zr.push({from:n,to:c+1})}}e&&Zn.onHighlightComplete&&Zn.onHighlightComplete(ti)}function Kn(t){xr.length&&kr.set(t,Xn(Vn))}function Gn(){$r=Lr=Pr=null,zr=[],Er=!1,Ir=[]}function Yn(){Gr&&Le(),Yr&&!Zn.lineWrapping&&(dr.style.left=Ln(Kr)+"px",Yr=!1);var t,e;if(Er){var n=Be();t=He(n.x,n.y,n.x,n.yBot)}zr.length?e=Ke(zr,!0,t?t.scrollTop:null):(Er&&Qe(),Nr&&Xe()),t&&qe(),Er&&(Fe(),Fn()),wr&&!Or&&($r===!0||$r!==!1&&Er)&&Ue(Lr),Er&&Zn.matchBrackets&&setTimeout(Xn(function(){Rr&&(Rr(),Rr=null),E(Dr.from,Dr.to)&&qn(!1)}),20);var r=Er,i=Ir;Pr&&Zn.onChange&&ti&&Zn.onChange(ti,Pr),r&&Zn.onCursorActivity&&Zn.onCursorActivity(ti);for(var o=0;i.length>o;++o)i[o](ti);e&&Zn.onUpdate&&Zn.onUpdate(ti)}function Xn(t){return function(){di++||Gn();try{var e=t.apply(this,arguments)}finally{--di||Yn()}return e}}function Qn(t){Qr.startCompound();try{return t()}finally{Qr.endCompound()}}var Zn={},Jn=t.defaults;for(var tr in Jn)Jn.hasOwnProperty(tr)&&(Zn[tr]=(c&&c.hasOwnProperty(tr)?c:Jn)[tr]);var er=document.createElement("div");er.className="CodeMirror"+(Zn.lineWrapping?" CodeMirror-wrap":""),er.innerHTML='<div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea style="position: absolute; padding: 0; width: 1px; height: 1em" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scrollbar"><div class="CodeMirror-scrollbar-inner"></div></div><div class="CodeMirror-scroll" tabindex="-1"><div style="position: relative"><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative; z-index: 0"><div style="position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden;"></div><pre class="CodeMirror-cursor">&#160;</pre><pre class="CodeMirror-cursor" style="visibility: hidden">&#160;</pre><div style="position: relative; z-index: -1"></div><div></div></div></div></div></div></div>',a.appendChild?a.appendChild(er):a(er);var nr=er.firstChild,rr=nr.firstChild,ir=er.lastChild,or=ir.firstChild,ar=or.firstChild,sr=ar.firstChild,lr=sr.firstChild,ur=sr.nextSibling.firstChild,cr=ur.firstChild,fr=cr.nextSibling,dr=fr.nextSibling,hr=dr.nextSibling,pr=hr.nextSibling,mr=nr.nextSibling,gr=mr.firstChild;bn(),yn(),j&&(rr.style.width="0px"),J||(ir.draggable=!0),ur.style.outline="none",null!=Zn.tabindex&&(rr.tabIndex=Zn.tabindex),Zn.autofocus&&je(),Zn.gutter||Zn.lineNumbers||(sr.style.display="none"),re&&(nr.style.height="1px",nr.style.position="absolute"),ie?mr.className+=$e()?" cm-sb-overlap":" cm-sb-nonoverlap":X&&(mr.className+=" cm-sb-ie7");try{Ln("x")}catch(vr){throw vr.message.match(/runtime/i)&&(vr=Error("A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)")),vr}var br,yr,xr,wr,Cr=new M,kr=new M,Sr=new d([new f([new u("")])]);pn();var _r,Ar,Mr,Tr,$r,Lr,zr,Pr,Er,Or,Nr,Ir,Rr,Dr={from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1},Ur=0,jr=0,Fr=!1,qr=!1,Br=0,Wr=0,Hr=0,Vr=0,Kr="",Gr=!1,Yr=!0,Xr={};Xn(function(){I(Zn.value||""),$r=!1})();var Qr=new v;A(ir,"mousedown",Xn(ne)),A(ir,"dblclick",Xn(se)),A(ur,"selectstart",x),G||A(ir,"contextmenu",jn),A(ir,"scroll",B),A(mr,"scroll",B),A(mr,"mousedown",function(){setTimeout(je,0)}),A(ir,"mousewheel",Ce),A(ir,"DOMMouseScroll",Ce),A(window,"resize",function(){Ke(!0)}),A(rr,"keyup",Xn(be)),A(rr,"input",Re),A(rr,"keydown",Xn(ge)),A(rr,"keypress",Xn(ve)),A(rr,"focus",ye),A(rr,"blur",xe),Zn.dragDrop&&(A(ir,"dragstart",de),A(ir,"dragenter",b),A(ir,"dragover",b),A(ir,"drop",Xn(fe))),A(ir,"paste",function(){je(),Re()}),A(rr,"paste",Re),A(rr,"cut",Xn(function(){Zn.readOnly||Pe("")})),re&&A(or,"mouseup",function(){document.activeElement==rr&&rr.blur(),je()});var Zr;try{Zr=document.activeElement==rr}catch(vr){}Zr||Zn.autofocus?setTimeout(ye,20):xe();var Jr,ti=er.CodeMirror={getValue:q,setValue:Xn(I),getSelection:Ne,replaceSelection:Xn(Pe),focus:function(){window.focus(),je(),ye(),Re()},setOption:function(t,e){var n=Zn[t];Zn[t]=e,"mode"==t||"indentUnit"==t?pn():"readOnly"==t&&"nocursor"==e?(xe(),rr.blur()):"readOnly"!=t||e?"theme"==t?bn():"lineWrapping"==t&&n!=e?Xn(gn)():"tabSize"==t?Ke(!0):"keyMap"==t&&yn():Ue(!0),("lineNumbers"==t||"gutter"==t||"firstLineNumber"==t||"theme"==t)&&(mn(),Ke(!0))},getOption:function(t){return Zn[t]},undo:Xn(_e),redo:Xn(Ae),indentLine:Xn(function(t,e){"string"!=typeof e&&(e=null==e?Zn.smartIndent?"smart":"prev":e?"add":"subtract"),w(t)&&hn(t,e)}),indentSelection:Xn(dn),historySize:function(){return{undo:Qr.done.length,redo:Qr.undone.length}},clearHistory:function(){Qr=new v},matchBrackets:Xn(function(){qn(!0)}),getTokenAt:Xn(function(t){return t=on(t),T(t.line).getTokenAt(yr,Wn(t.line),t.ch)}),getStateAfter:function(t){return t=rn(null==t?Sr.size-1:t),Wn(t+1)},cursorCoords:function(t,e){return null==t&&(t=Dr.inverted),this.charCoords(t?Dr.from:Dr.to,e)},charCoords:function(t,e){return t=on(t),"local"==e?Pn(t,!1):"div"==e?Pn(t,!0):On(t)},coordsChar:function(t){var e=L(ur);return En(t.x-e.left,t.y-e.top)},markText:Xn(wn),setBookmark:Cn,findMarksAt:kn,setMarker:Xn(Sn),clearMarker:Xn(_n),setLineClass:Xn(Mn),hideLine:Xn(function(t){return Tn(t,!0)}),showLine:Xn(function(t){return Tn(t,!1)}),onDeleteLine:function(t,e){if("number"==typeof t){if(!w(t))return null;t=T(t)}return(t.handlers||(t.handlers=[])).push(e),t},lineInfo:$n,addWidget:function(t,e,n,r,i){t=Pn(on(t));var o=t.yBot,a=t.x;if(e.style.position="absolute",or.appendChild(e),"over"==r)o=t.y;else if("near"==r){var s=Math.max(ir.offsetHeight,Sr.height*Nn()),l=Math.max(or.clientWidth,ur.clientWidth)-Dn();
t.yBot+e.offsetHeight>s&&t.y>e.offsetHeight&&(o=t.y-e.offsetHeight),a+e.offsetWidth>l&&(a=l-e.offsetWidth)}e.style.top=o+Rn()+"px",e.style.left=e.style.right="","right"==i?(a=or.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==i?a=0:"middle"==i&&(a=(or.clientWidth-e.offsetWidth)/2),e.style.left=a+Dn()+"px"),n&&We(a,o,a+e.offsetWidth,o+e.offsetHeight)},lineCount:function(){return Sr.size},clipPos:on,getCursor:function(t){return null==t&&(t=Dr.inverted),N(t?Dr.from:Dr.to)},somethingSelected:function(){return!E(Dr.from,Dr.to)},setCursor:Xn(function(t,e,n){null==e&&"number"==typeof t.line?nn(t.line,t.ch,n):nn(t,e,n)}),setSelection:Xn(function(t,e,n){(n?Je:tn)(on(t),on(e||t))}),getLine:function(t){return w(t)?T(t).text:void 0},getLineHandle:function(t){return w(t)?T(t):void 0},setLine:Xn(function(t,e){w(t)&&ze(e,{line:t,ch:0},{line:t,ch:T(t).text.length})}),removeLine:Xn(function(t){w(t)&&ze("",{line:t,ch:0},on({line:t+1,ch:0}))}),replaceRange:Xn(ze),getRange:function(t,e){return Oe(on(t),on(e))},triggerOnKeyDown:Xn(ge),execCommand:function(t){return H[t](ti)},moveH:Xn(sn),deleteH:Xn(ln),moveV:Xn(un),toggleOverwrite:function(){Fr?(Fr=!1,fr.className=fr.className.replace(" CodeMirror-overwrite","")):(Fr=!0,fr.className+=" CodeMirror-overwrite")},posFromIndex:function(t){var e,n=0;return Sr.iter(0,Sr.size,function(r){var i=r.text.length+1;return i>t?(e=t,!0):(t-=i,++n,void 0)}),on({line:n,ch:e})},indexFromPos:function(t){if(0>t.line||0>t.ch)return 0;var e=t.ch;return Sr.iter(0,t.line,function(t){e+=t.text.length+1}),e},scrollTo:function(t,e){null!=t&&(ir.scrollLeft=t),null!=e&&(mr.scrollTop=e),Ke([])},getScrollInfo:function(){return{x:ir.scrollLeft,y:mr.scrollTop,height:mr.scrollHeight,width:ir.scrollWidth}},operation:function(t){return Xn(t)()},compoundChange:function(t){return Qn(t)},refresh:function(){Ke(!0),mr.scrollHeight>Ur&&(mr.scrollTop=Ur)},getInputField:function(){return rr},getWrapperElement:function(){return er},getScrollerElement:function(){return ir},getGutterElement:function(){return sr}},ei=null,ni=!1,ri="",ii=null;xn.prototype.clear=Xn(function(){for(var t=1/0,e=-1/0,n=0,r=this.set.length;r>n;++n){var i=this.set[n],o=i.marked;if(o&&i.parent){var a=p(i);t=Math.min(t,a),e=Math.max(e,a);for(var s=0;o.length>s;++s)o[s].marker==this&&o.splice(s--,1)}}1/0!=t&&zr.push({from:t,to:e+1})}),xn.prototype.find=function(){for(var t,e,n=0,r=this.set.length;r>n;++n)for(var i=this.set[n],o=i.marked,a=0;o.length>a;++a){var s=o[a];if(s.marker==this&&(null!=s.from||null!=s.to)){var l=p(i);null!=l&&(null!=s.from&&(t={line:l,ch:s.from}),null!=s.to&&(e={line:l,ch:s.to}))}}return{from:t,to:e}};var oi,ai,si,li,ui="CodeMirror-temp-"+Math.floor(16777215*Math.random()).toString(16),ci=0,fi={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},di=0;for(var hi in W)W.propertyIsEnumerable(hi)&&!ti.propertyIsEnumerable(hi)&&(ti[hi]=W[hi]);return ti}function e(t){return"string"==typeof t?V[t]:t}function n(t,n,r,i,o){function a(n){n=e(n);var r=n[t];if(null!=r&&i(r))return!0;if(n.nofallthrough)return o&&o(),!0;var s=n.fallthrough;if(null==s)return!1;if("[object Array]"!=Object.prototype.toString.call(s))return a(s);for(var l=0,u=s.length;u>l;++l)if(a(s[l]))return!0;return!1}return n&&a(n)?!0:a(r)}function r(t){var e=ce[_(t,"keyCode")];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function i(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var n={};for(var r in e){var i=e[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function o(t,e,n){return t.startState?t.startState(e,n):!0}function a(t,e){this.pos=this.start=0,this.string=t,this.tabSize=e||8}function s(t,e,n,r){this.from=t,this.to=e,this.style=n,this.marker=r}function l(t){this.from=t,this.to=t,this.line=null}function u(t,e){this.styles=e||[t,null],this.text=t,this.height=1,this.marked=this.gutterMarker=this.className=this.bgClassName=this.handlers=null,this.stateAfter=this.parent=this.hidden=null}function c(t,e,n,r){for(var i=0,o=0,a=0;e>o;i+=2){var s=n[i],l=o+s.length;0==a?(l>t&&r.push(s.slice(t-o,Math.min(s.length,e-o)),n[i+1]),l>=t&&(a=1)):1==a&&(l>e?r.push(s.slice(0,e-o),n[i+1]):r.push(s,n[i+1])),o=l}}function f(t){this.lines=t,this.parent=null;for(var e=0,n=t.length,r=0;n>e;++e)t[e].parent=this,r+=t[e].height;this.height=r}function d(t){this.children=t;for(var e=0,n=0,r=0,i=t.length;i>r;++r){var o=t[r];e+=o.chunkSize(),n+=o.height,o.parent=this}this.size=e,this.height=n,this.parent=null}function h(t,e){for(;!t.lines;)for(var n=0;;++n){var r=t.children[n],i=r.chunkSize();if(i>e){t=r;break}e-=i}return t.lines[e]}function p(t){if(null==t.parent)return null;for(var e=t.parent,n=D(e.lines,t),r=e.parent;r;e=r,r=r.parent){var i=0;for(r.children.length;r.children[i]!=e;++i)n+=r.children[i].chunkSize()}return n}function m(t,e){var n=0;t:do{for(var r=0,i=t.children.length;i>r;++r){var o=t.children[r],a=o.height;if(a>e){t=o;continue t}e-=a,n+=o.chunkSize()}return n}while(!t.lines);for(var r=0,i=t.lines.length;i>r;++r){var s=t.lines[r],l=s.height;if(l>e)break;e-=l}return n+r}function g(t,e){var n=0;t:do{for(var r=0,i=t.children.length;i>r;++r){var o=t.children[r],a=o.chunkSize();if(a>e){t=o;continue t}e-=a,n+=o.height}return n}while(!t.lines);for(var r=0;e>r;++r)n+=t.lines[r].height;return n}function v(){this.time=0,this.done=[],this.undone=[],this.compound=0,this.closed=!1}function b(){C(this)}function y(t){return t.stop||(t.stop=b),t}function x(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function w(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function C(t){x(t),w(t)}function k(t){return t.target||t.srcElement}function S(t){return t.which?t.which:1&t.button?1:2&t.button?3:4&t.button?2:void 0}function _(t,e){var n=t.override&&t.override.hasOwnProperty(e);return n?t.override[e]:t[e]}function A(t,e,n,r){if("function"==typeof t.addEventListener){if(t.addEventListener(e,n,!1),r)return function(){t.removeEventListener(e,n,!1)}}else{var i=function(t){n(t||window.event)};if(t.attachEvent("on"+e,i),r)return function(){t.detachEvent("on"+e,i)}}}function M(){this.id=null}function T(t,e,n){null==e&&(e=t.search(/[^\s\u00a0]/),-1==e&&(e=t.length));for(var r=0,i=0;e>r;++r)"	"==t.charAt(r)?i+=n-i%n:++i;return i}function $(t){return t.currentStyle?t.currentStyle:window.getComputedStyle(t,null)}function L(t,e){for(var n=t.ownerDocument.body,r=0,i=0,o=!1,a=t;a;a=a.offsetParent){var s=a.offsetLeft,l=a.offsetTop;a==n?(r+=Math.abs(s),i+=Math.abs(l)):(r+=s,i+=l),e&&"fixed"==$(a).position&&(o=!0)}for(var u=e&&!o?null:n,a=t.parentNode;a!=u;a=a.parentNode)null!=a.scrollLeft&&(r-=a.scrollLeft,i-=a.scrollTop);return{left:r,top:i}}function z(t){return t.textContent||t.innerText||t.nodeValue||""}function P(t){j?(t.selectionStart=0,t.selectionEnd=t.value.length):t.select()}function E(t,e){return t.line==e.line&&t.ch==e.ch}function O(t,e){return t.line<e.line||t.line==e.line&&t.ch<e.ch}function N(t){return{line:t.line,ch:t.ch}}function I(t){return se.textContent=t,se.innerHTML}function R(t,e){if(!e)return 0;if(!t)return e.length;for(var n=t.length,r=e.length;n>=0&&r>=0&&t.charAt(n)==e.charAt(r);--n,--r);return r+1}function D(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;r>n;++n)if(t[n]==e)return n;return-1}function U(t){return/\w/.test(t)||t.toUpperCase()!=t.toLowerCase()}t.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:!1,smartIndent:!0,tabSize:4,keyMap:"default",extraKeys:null,electricChars:!0,autoClearEmptyLines:!1,onKeyEvent:null,onDragEvent:null,lineWrapping:!1,lineNumbers:!1,gutter:!1,fixedGutter:!1,firstLineNumber:1,readOnly:!1,dragDrop:!0,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,autofocus:null};var j=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),F=j||/Mac/.test(navigator.platform);/Win/.test(navigator.platform);var q=t.modes={},B=t.mimeModes={};t.defineMode=function(e,n){if(t.defaults.mode||"null"==e||(t.defaults.mode=e),arguments.length>2){n.dependencies=[];for(var r=2;arguments.length>r;++r)n.dependencies.push(arguments[r])}q[e]=n},t.defineMIME=function(t,e){B[t]=e},t.resolveMode=function(e){if("string"==typeof e&&B.hasOwnProperty(e))e=B[e];else if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return t.resolveMode("application/xml");return"string"==typeof e?{name:e}:e||{name:"null"}},t.getMode=function(e,n){var n=t.resolveMode(n),r=q[n.name];return r?r(e,n):t.getMode(e,"text/plain")},t.listModes=function(){var t=[];for(var e in q)q.propertyIsEnumerable(e)&&t.push(e);return t},t.listMIMEs=function(){var t=[];for(var e in B)B.propertyIsEnumerable(e)&&t.push({mime:e,mode:B[e]});return t};var W=t.extensions={};t.defineExtension=function(t,e){W[t]=e};var H=t.commands={selectAll:function(t){t.setSelection({line:0,ch:0},{line:t.lineCount()-1})},killLine:function(t){var e=t.getCursor(!0),n=t.getCursor(!1),r=!E(e,n);r||t.getLine(e.line).length!=e.ch?t.replaceRange("",e,r?n:{line:e.line}):t.replaceRange("",e,{line:e.line+1,ch:0})},deleteLine:function(t){var e=t.getCursor().line;t.replaceRange("",{line:e,ch:0},{line:e})},undo:function(t){t.undo()},redo:function(t){t.redo()},goDocStart:function(t){t.setCursor(0,0,!0)},goDocEnd:function(t){t.setSelection({line:t.lineCount()-1},null,!0)},goLineStart:function(t){t.setCursor(t.getCursor().line,0,!0)},goLineStartSmart:function(t){var e=t.getCursor(),n=t.getLine(e.line),r=Math.max(0,n.search(/\S/));t.setCursor(e.line,r>=e.ch&&e.ch?0:r,!0)},goLineEnd:function(t){t.setSelection({line:t.getCursor().line},null,!0)},goLineUp:function(t){t.moveV(-1,"line")},goLineDown:function(t){t.moveV(1,"line")},goPageUp:function(t){t.moveV(-1,"page")},goPageDown:function(t){t.moveV(1,"page")},goCharLeft:function(t){t.moveH(-1,"char")},goCharRight:function(t){t.moveH(1,"char")},goColumnLeft:function(t){t.moveH(-1,"column")},goColumnRight:function(t){t.moveH(1,"column")},goWordLeft:function(t){t.moveH(-1,"word")},goWordRight:function(t){t.moveH(1,"word")},delCharLeft:function(t){t.deleteH(-1,"char")},delCharRight:function(t){t.deleteH(1,"char")},delWordLeft:function(t){t.deleteH(-1,"word")},delWordRight:function(t){t.deleteH(1,"word")},indentAuto:function(t){t.indentSelection("smart")},indentMore:function(t){t.indentSelection("add")},indentLess:function(t){t.indentSelection("subtract")},insertTab:function(t){t.replaceSelection("	","end")},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.replaceSelection("	","end")},transposeChars:function(t){var e=t.getCursor(),n=t.getLine(e.line);e.ch>0&&e.ch<n.length-1&&t.replaceRange(n.charAt(e.ch)+n.charAt(e.ch-1),{line:e.line,ch:e.ch-1},{line:e.line,ch:e.ch+1})},newlineAndIndent:function(t){t.replaceSelection("\n","end"),t.indentLine(t.getCursor().line)},toggleOverwrite:function(t){t.toggleOverwrite()}},V=t.keyMap={};V.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},V.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"},V.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]},V["default"]=F?V.macDefault:V.pcDefault,V.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},t.fromTextArea=function(e,n){function r(){e.value=s.getValue()}function i(){r(),e.form.submit=a,e.form.submit(),e.form.submit=i}if(n||(n={}),n.value=e.value,!n.tabindex&&e.tabindex&&(n.tabindex=e.tabindex),null==n.autofocus&&null!=e.getAttribute("autofocus")&&(n.autofocus=!0),e.form){var o=A(e.form,"submit",r,!0);if("function"==typeof e.form.submit){var a=e.form.submit;e.form.submit=i}}e.style.display="none";var s=t(function(t){e.parentNode.insertBefore(t,e.nextSibling)},n);return s.save=r,s.getTextArea=function(){return e},s.toTextArea=function(){r(),e.parentNode.removeChild(s.getWrapperElement()),e.style.display="",e.form&&(o(),"function"==typeof e.form.submit&&(e.form.submit=a))},s},t.copyState=i,t.startState=o,a.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(t){var e=this.string.charAt(this.pos);if("string"==typeof t)var n=e==t;else var n=e&&(t.test?t.test(e):t(e));return n?(++this.pos,e):void 0},eatWhile:function(t){for(var e=this.pos;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);return e>-1?(this.pos=e,!0):void 0},backUp:function(t){this.pos-=t},column:function(){return T(this.string,this.start,this.tabSize)},indentation:function(){return T(this.string,null,this.tabSize)},match:function(t,e,n){function r(t){return n?t.toLowerCase():t}if("string"!=typeof t){var i=this.string.slice(this.pos).match(t);return i&&e!==!1&&(this.pos+=i[0].length),i}return r(this.string).indexOf(r(t),this.pos)==this.pos?(e!==!1&&(this.pos+=t.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)}},t.StringStream=a,s.prototype={attach:function(t){this.marker.set.push(t)},detach:function(t){var e=D(this.marker.set,t);e>-1&&this.marker.set.splice(e,1)},split:function(t,e){if(t>=this.to&&null!=this.to)return null;var n=t>this.from||null==this.from?null:this.from-t+e,r=null==this.to?null:this.to-t+e;return new s(n,r,this.style,this.marker)},dup:function(){return new s(null,null,this.style,this.marker)},clipTo:function(t,e,n,r,i){t&&r>this.from&&(this.to>r||null==this.to)?this.from=null:null!=this.from&&this.from>=e&&(this.from=Math.max(r,this.from)+i),n&&(this.to>e||null==this.to)&&(e>this.from||null==this.from)?this.to=null:null!=this.to&&this.to>e&&(this.to=this.to>r?this.to+i:e)},isDead:function(){return null!=this.from&&null!=this.to&&this.from>=this.to},sameSet:function(t){return this.marker==t.marker}},l.prototype={attach:function(t){this.line=t},detach:function(t){this.line==t&&(this.line=null)},split:function(t,e){return this.from>t?(this.from=this.to=this.from-t+e,this):void 0},isDead:function(){return this.from>this.to},clipTo:function(t,e,n,r,i){(t||this.from>e)&&(n||r>this.to)?(this.from=0,this.to=-1):this.from>e&&(this.from=this.to=Math.max(r,this.from)+i)},sameSet:function(){return!1},find:function(){return this.line&&this.line.parent?{line:p(this.line),ch:this.from}:null},clear:function(){if(this.line){var t=D(this.line.marked,this);-1!=t&&this.line.marked.splice(t,1),this.line=null}}},u.inheritMarks=function(t,e){var n=new u(t),r=e&&e.marked;if(r)for(var i=0;r.length>i;++i)if(null==r[i].to&&r[i].style){var o=n.marked||(n.marked=[]),a=r[i],s=a.dup();o.push(s),s.attach(n)}return n},u.prototype={replace:function(t,e,n){var r=[],i=this.marked,o=null==e?this.text.length:e;if(c(0,t,this.styles,r),n&&r.push(n,null),c(o,this.text.length,this.styles,r),this.styles=r,this.text=this.text.slice(0,t)+n+this.text.slice(o),this.stateAfter=null,i)for(var a=n.length-(o-t),s=0;i.length>s;++s){var l=i[s];l.clipTo(null==t,t||0,null==e,o,a),l.isDead()&&(l.detach(this),i.splice(s--,1))}},split:function(t,e){var n=[e,null],r=this.marked;c(t,this.text.length,this.styles,n);var i=new u(e+this.text.slice(t),n);if(r)for(var o=0;r.length>o;++o){var a=r[o],s=a.split(t,e.length);s&&(i.marked||(i.marked=[]),i.marked.push(s),s.attach(i),s==a&&r.splice(o--,1))}return i},append:function(t){var e=this.text.length,n=t.marked,r=this.marked;if(this.text+=t.text,c(0,t.text.length,t.styles,this.styles),r)for(var i=0;r.length>i;++i)null==r[i].to&&(r[i].to=e);if(n&&n.length){r||(this.marked=r=[]);t:for(var i=0;n.length>i;++i){var o=n[i];if(!o.from)for(var a=0;r.length>a;++a){var s=r[a];if(s.to==e&&s.sameSet(o)){s.to=null==o.to?null:o.to+e,s.isDead()&&(s.detach(this),n.splice(i--,1));continue t}}r.push(o),o.attach(this),o.from+=e,null!=o.to&&(o.to+=e)}}},fixMarkEnds:function(t){var e=this.marked,n=t.marked;if(e)for(var r=0;e.length>r;++r){var i=e[r],o=null==i.to;if(o&&n)for(var a=0;n.length>a;++a)if(n[a].sameSet(i)){o=!1;break}o&&(i.to=this.text.length)}},fixMarkStarts:function(){var t=this.marked;if(t)for(var e=0;t.length>e;++e)null==t[e].from&&(t[e].from=0)},addMark:function(t){t.attach(this),null==this.marked&&(this.marked=[]),this.marked.push(t),this.marked.sort(function(t,e){return(t.from||0)-(e.from||0)})},highlight:function(t,e,n){var r,i=new a(this.text,n),o=this.styles,s=0,l=!1,u=o[0];for(""==this.text&&t.blankLine&&t.blankLine(e);!i.eol();){var c=t.token(i,e),f=this.text.slice(i.start,i.pos);if(i.start=i.pos,s&&o[s-1]==c?o[s-2]+=f:f&&(!l&&(o[s+1]!=c||s&&o[s-2]!=r)&&(l=!0),o[s++]=f,o[s++]=c,r=u,u=o[s]),i.pos>5e3){o[s++]=this.text.slice(i.pos),o[s++]=null;break}}return o.length!=s&&(o.length=s,l=!0),s&&o[s-2]!=r&&(l=!0),l||(5>o.length&&10>this.text.length?null:!1)},getTokenAt:function(t,e,n){for(var r=this.text,i=new a(r);n>i.pos&&!i.eol();){i.start=i.pos;var o=t.token(i,e)}return{start:i.start,end:i.pos,string:i.current(),className:o||null,state:e}},indentation:function(t){return T(this.text,null,t)},getHTML:function(t,e,n,r){function i(e,n){if(e){if(l&&Y&&" "==e.charAt(0)&&(e=" "+e.slice(1)),l=!1,-1==e.indexOf("	")){u+=e.length;var r=I(e)}else for(var r="",i=0;;){var o=e.indexOf("	",i);if(-1==o){r+=I(e.slice(i)),u+=e.length-i;break}u+=o-i;var a=t(u);r+=I(e.slice(i,o))+a.html,u+=a.width,i=o+1}n?s.push('<span class="',n,'">',r,"</span>"):s.push(r)}}function o(t){return t?"cm-"+t.replace(/ +/g," cm-"):null}function a(){for(var t;m.length>k&&((t=m[k]).from==b||null==t.from);)null!=t.style&&C.push(t),++k;w=m.length>k?m[k].from:1/0;for(var e=0;C.length>e;++e){var n=C[e].to||1/0;n==b?C.splice(e--,1):w=Math.min(n,w)}}var s=[],l=!0,u=0,c=i;if(null!=e){var f=0,d='<span id="'+n+'">';c=function(t,n){var o=t.length;if(e>=f&&f+o>e){e>f&&(i(t.slice(0,e-f),n),r&&s.push("<wbr>")),s.push(d);var a=e-f;i(ee?t.slice(a,a+1):t.slice(a),n),s.push("</span>"),ee&&i(t.slice(a+1),n),e--,f+=o}else f+=o,i(t,n),f==e&&f==g?s.push(d+" </span>"):f>e+10&&/\s/.test(t)&&(c=function(){})}}var h=this.styles,p=this.text,m=this.marked,g=p.length;if(p||null!=e)if(m&&m.length)for(var v,b=0,y=0,x="",w=m[0].from||0,C=[],k=0;g>b;){w==b&&a();for(var S=Math.min(g,w);;){if(x){for(var _=b+x.length,A=v,M=0;C.length>M;++M)A=(A?A+" ":"")+C[M].style;if(c(_>S?x.slice(0,S-b):x,A),_>=S){x=x.slice(S-b),b=S;break}b=_}x=h[y++],v=o(h[y++])}}else for(var y=0,T=0;g>T;y+=2){var $=h[y],v=h[y+1],L=$.length;T+L>g&&($=$.slice(0,g-T)),T+=L,c($,o(v))}else c(" ");return s.join("")},cleanUp:function(){if(this.parent=null,this.marked)for(var t=0,e=this.marked.length;e>t;++t)this.marked[t].detach(this)}},f.prototype={chunkSize:function(){return this.lines.length},remove:function(t,e,n){for(var r=t,i=t+e;i>r;++r){var o=this.lines[r];if(this.height-=o.height,o.cleanUp(),o.handlers)for(var a=0;o.handlers.length>a;++a)n.push(o.handlers[a])}this.lines.splice(t,e)},collapse:function(t){t.splice.apply(t,[t.length,0].concat(this.lines))},insertHeight:function(t,e,n){this.height+=n,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var r=0,i=e.length;i>r;++r)e[r].parent=this},iterN:function(t,e,n){for(var r=t+e;r>t;++t)if(n(this.lines[t]))return!0}},d.prototype={chunkSize:function(){return this.size},remove:function(t,e,n){this.size-=e;for(var r=0;this.children.length>r;++r){var i=this.children[r],o=i.chunkSize();if(o>t){var a=Math.min(e,o-t),s=i.height;if(i.remove(t,a,n),this.height-=s-i.height,o==a&&(this.children.splice(r--,1),i.parent=null),0==(e-=a))break;t=0}else t-=o}if(25>this.size-e){var l=[];this.collapse(l),this.children=[new f(l)],this.children[0].parent=this}},collapse:function(t){for(var e=0,n=this.children.length;n>e;++e)this.children[e].collapse(t)},insert:function(t,e){for(var n=0,r=0,i=e.length;i>r;++r)n+=e[r].height;this.insertHeight(t,e,n)},insertHeight:function(t,e,n){this.size+=e.length,this.height+=n;for(var r=0,i=this.children.length;i>r;++r){var o=this.children[r],a=o.chunkSize();if(a>=t){if(o.insertHeight(t,e,n),o.lines&&o.lines.length>50){for(;o.lines.length>50;){var s=o.lines.splice(o.lines.length-25,25),l=new f(s);o.height-=l.height,this.children.splice(r+1,0,l),l.parent=this}this.maybeSpill()}break}t-=a}},maybeSpill:function(){if(!(10>=this.children.length)){var t=this;do{var e=t.children.splice(t.children.length-5,5),n=new d(e);if(t.parent){t.size-=n.size,t.height-=n.height;var r=D(t.parent.children,t);t.parent.children.splice(r+1,0,n)}else{var i=new d(t.children);i.parent=t,t.children=[i,n],t=i}n.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iter:function(t,e,n){this.iterN(t,e-t,n)},iterN:function(t,e,n){for(var r=0,i=this.children.length;i>r;++r){var o=this.children[r],a=o.chunkSize();if(a>t){var s=Math.min(e,a-t);if(o.iterN(t,s,n))return!0;if(0==(e-=s))break;t=0}else t-=a}}},v.prototype={addChange:function(t,e,n){this.undone.length=0;var r=+new Date,i=this.done[this.done.length-1],o=i&&i[i.length-1],a=r-this.time;if(this.compound&&i&&!this.closed)i.push({start:t,added:e,old:n});else if(a>400||!o||this.closed||o.start>t+n.length||t>o.start+o.added)this.done.push([{start:t,added:e,old:n}]),this.closed=!1;else{for(var s=Math.max(0,o.start-t),l=Math.max(0,t+n.length-(o.start+o.added)),u=s;u>0;--u)o.old.unshift(n[u-1]);for(var u=l;u>0;--u)o.old.push(n[n.length-u]);s&&(o.start=t),o.added+=e-(n.length-s-l)}this.time=r},startCompound:function(){this.compound++||(this.closed=!0)},endCompound:function(){--this.compound||(this.closed=!0)}},t.e_stop=C,t.e_preventDefault=x,t.e_stopPropagation=w,t.connect=A,M.prototype={set:function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)}};var K=t.Pass={toString:function(){return"CodeMirror.Pass"}},G=/gecko\/\d{7}/i.test(navigator.userAgent),Y=/MSIE \d/.test(navigator.userAgent),X=/MSIE [1-7]\b/.test(navigator.userAgent),Q=/MSIE [1-8]\b/.test(navigator.userAgent),Z=Y&&5==document.documentMode,J=/WebKit\//.test(navigator.userAgent),te=/Chrome\//.test(navigator.userAgent),ee=/Opera\//.test(navigator.userAgent),ne=/Apple Computer/.test(navigator.vendor),re=/KHTML\//.test(navigator.userAgent),ie=/Mac OS X 10\D([7-9]|\d\d)\D/.test(navigator.userAgent),oe=function(){if(Q)return!1;var t=document.createElement("div");return"draggable"in t||"dragDrop"in t}();(function(){var t=document.createElement("textarea");return t.value="foo\nbar",t.value.indexOf("\r")>-1?"\r\n":"\n"})();var ae=/^$/;G?ae=/$'/:ne?ae=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/:te&&(ae=/\-[^ \-\.?]|\?[^ \-\.?\]\}:;!'\"\),\/]|[\.!\"#&%\)*+,:;=>\]|\}~][\(\{\[<]|\$'/),null!=document.documentElement.getBoundingClientRect&&(L=function(t,e){try{var n=t.getBoundingClientRect();n={top:n.top,left:n.left}}catch(r){n={top:0,left:0}}if(!e)if(null==window.pageYOffset){var i=document.documentElement||document.body.parentNode;null==i.scrollTop&&(i=document.body),n.top+=i.scrollTop,n.left+=i.scrollLeft}else n.top+=window.pageYOffset,n.left+=window.pageXOffset;return n});var se=document.createElement("pre");"\na"==I("a")?I=function(t){return se.textContent=t,se.innerHTML.slice(1)}:"	"!=I("	")&&(I=function(t){return se.innerHTML="",se.appendChild(document.createTextNode(t)),se.innerHTML}),t.htmlEscape=I;var le=3!="\n\nb".split(/\n/).length?function(t){for(var e,n=0,r=[];(e=t.indexOf("\n",n))>-1;)r.push(t.slice(n,"\r"==t.charAt(e-1)?e-1:e)),n=e+1;return r.push(t.slice(n)),r}:function(t){return t.split(/\r?\n/)};t.splitLines=le;var ue=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(e){return!1}}:function(t){try{var e=t.ownerDocument.selection.createRange()}catch(n){}return e&&e.parentElement()==t?0!=e.compareEndPoints("StartToEnd",e):!1};t.defineMode("null",function(){return{token:function(t){t.skipToEnd()}}}),t.defineMIME("text/plain","null");var ce={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};return t.keyNames=ce,function(){for(var t=0;10>t;t++)ce[t+48]=t+"";for(var t=65;90>=t;t++)ce[t]=String.fromCharCode(t);for(var t=1;12>=t;t++)ce[t+111]=ce[t+63235]="F"+t}(),t}();CodeMirror.defineMode("css",function(t){function e(t,e){return a=e,t}function n(t,n){var a=t.next();return"@"==a?(t.eatWhile(/[\w\\\-]/),e("meta",t.current())):"/"==a&&t.eat("*")?(n.tokenize=r,r(t,n)):"<"==a&&t.eat("!")?(n.tokenize=i,i(t,n)):"="!=a?"~"!=a&&"|"!=a||!t.eat("=")?'"'==a||"'"==a?(n.tokenize=o(a),n.tokenize(t,n)):"#"==a?(t.eatWhile(/[\w\\\-]/),e("atom","hash")):"!"==a?(t.match(/^\s*\w*/),e("keyword","important")):/\d/.test(a)?(t.eatWhile(/[\w.%]/),e("number","unit")):/[,.+>*\/]/.test(a)?e(null,"select-op"):/[;{}:\[\]]/.test(a)?e(null,a):(t.eatWhile(/[\w\\\-]/),e("variable","variable")):e(null,"compare"):(e(null,"compare"),void 0)}function r(t,r){for(var i,o=!1;null!=(i=t.next());){if(o&&"/"==i){r.tokenize=n;break}o="*"==i}return e("comment","comment")}function i(t,r){for(var i,o=0;null!=(i=t.next());){if(o>=2&&">"==i){r.tokenize=n;break}o="-"==i?o+1:0}return e("comment","comment")}function o(t){return function(r,i){for(var o,a=!1;null!=(o=r.next())&&(o!=t||a);)a=!a&&"\\"==o;return a||(i.tokenize=n),e("string","string")}}var a,s=t.indentUnit;return{startState:function(t){return{tokenize:n,baseIndent:t||0,stack:[]}},token:function(t,e){if(t.eatSpace())return null;var n=e.tokenize(t,e),r=e.stack[e.stack.length-1];return"hash"==a&&"rule"!=r?n="string-2":"variable"==n&&("rule"==r?n="number":r&&"@media{"!=r||(n="tag")),"rule"==r&&/^[\{\};]$/.test(a)&&e.stack.pop(),"{"==a?"@media"==r?e.stack[e.stack.length-1]="@media{":e.stack.push("{"):"}"==a?e.stack.pop():"@media"==a?e.stack.push("@media"):"{"==r&&"comment"!=a&&e.stack.push("rule"),n},indent:function(t,e){var n=t.stack.length;return/^\}/.test(e)&&(n-="rule"==t.stack[t.stack.length-1]?2:1),t.baseIndent+n*s},electricChars:"}"}}),CodeMirror.defineMIME("text/css","css"),CodeMirror.defineMode("xml",function(t,e){function n(t,e){function n(n){return e.tokenize=n,n(t,e)}var i=t.next();if("<"==i){if(t.eat("!"))return t.eat("[")?t.match("CDATA[")?n(o("atom","]]>")):null:t.match("--")?n(o("comment","-->")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),n(a(1))):null;if(t.eat("?"))return t.eatWhile(/[\w\._\-]/),e.tokenize=o("meta","?>"),"meta";x=t.eat("/")?"closeTag":"openTag",t.eatSpace(),y="";for(var s;s=t.eat(/[^\s\u00a0=<>\"\'\/?]/);)y+=s;return e.tokenize=r,"tag"}if("&"==i){var l;return l=t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"),l?"atom":"error"}return t.eatWhile(/[^&<]/),null}function r(t,e){var r=t.next();return">"==r||"/"==r&&t.eat(">")?(e.tokenize=n,x=">"==r?"endTag":"selfcloseTag","tag"):"="==r?(x="equals",null):/[\'\"]/.test(r)?(e.tokenize=i(r),e.tokenize(t,e)):(t.eatWhile(/[^\s\u00a0=<>\"\'\/?]/),"word")}function i(t){return function(e,n){for(;!e.eol();)if(e.next()==t){n.tokenize=r;break}return"string"}}function o(t,e){return function(r,i){for(;!r.eol();){if(r.match(e)){i.tokenize=n;break}r.next()}return t}}function a(t){return function(e,r){for(var i;null!=(i=e.next());){if("<"==i)return r.tokenize=a(t+1),r.tokenize(e,r);if(">"==i){if(1==t){r.tokenize=n;break}return r.tokenize=a(t-1),r.tokenize(e,r)}}return"meta"}}function s(){for(var t=arguments.length-1;t>=0;t--)w.cc.push(arguments[t])}function l(){return s.apply(null,arguments),!0}function u(t,e){var n=S.doNotIndent.hasOwnProperty(t)||w.context&&w.context.noIndent;w.context={prev:w.context,tagName:t,indent:w.indented,startOfLine:e,noIndent:n}}function c(){w.context&&(w.context=w.context.prev)}function f(t){if("openTag"==t)return w.tagName=y,l(m,d(w.startOfLine));if("closeTag"==t){var e=!1;return w.context?w.context.tagName!=y&&(S.implicitlyClosed.hasOwnProperty(w.context.tagName.toLowerCase())&&c(),e=!w.context||w.context.tagName!=y):e=!0,e&&(C="error"),l(h(e))}return l()}function d(t){return function(e){return"selfcloseTag"==e||"endTag"==e&&S.autoSelfClosers.hasOwnProperty(w.tagName.toLowerCase())?(p(w.tagName.toLowerCase()),l()):"endTag"==e?(p(w.tagName.toLowerCase()),u(w.tagName,t),l()):l()}}function h(t){return function(e){return t&&(C="error"),"endTag"==e?(c(),l()):(C="error",l(arguments.callee))}}function p(t){for(var e;;){if(!w.context)return;if(e=w.context.tagName.toLowerCase(),!S.contextGrabbers.hasOwnProperty(e)||!S.contextGrabbers[e].hasOwnProperty(t))return;c()}}function m(t){return"word"==t?(C="attribute",l(g,m)):"endTag"==t||"selfcloseTag"==t?s():(C="error",l(m))}function g(t){return"equals"==t?l(v,m):(S.allowMissing||(C="error"),"endTag"==t||"selfcloseTag"==t?s():l())}function v(t){return"string"==t?l(b):"word"==t&&S.allowUnquoted?(C="string",l()):(C="error","endTag"==t||"selfCloseTag"==t?s():l())}function b(t){return"string"==t?l(b):s()}var y,x,w,C,k=t.indentUnit,S=e.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!1}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1},_=e.alignCDATA;return{startState:function(){return{tokenize:n,cc:[],indented:0,startOfLine:!0,tagName:null,context:null}},token:function(t,e){if(t.sol()&&(e.startOfLine=!0,e.indented=t.indentation()),t.eatSpace())return null;C=x=y=null;var n=e.tokenize(t,e);if(e.type=x,(n||x)&&"comment"!=n)for(w=e;;){var r=e.cc.pop()||f;if(r(x||n))break}return e.startOfLine=!1,C||n
},indent:function(t,e,i){var o=t.context;if(t.tokenize!=r&&t.tokenize!=n||o&&o.noIndent)return i?i.match(/^(\s*)/)[0].length:0;if(_&&/<!\[CDATA\[/.test(e))return 0;for(o&&/^<\//.test(e)&&(o=o.prev);o&&!o.startOfLine;)o=o.prev;return o?o.indent+k:0},compareStates:function(t,e){if(t.indented!=e.indented||t.tokenize!=e.tokenize)return!1;for(var n=t.context,r=e.context;;n=n.prev,r=r.prev){if(!n||!r)return n==r;if(n.tagName!=r.tagName)return!1}},electricChars:"/"}}),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.mimeModes.hasOwnProperty("text/html")||CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0}),CodeMirror.defineMode("javascript",function(t,e){function n(t,e,n){return e.tokenize=n,n(t,e)}function r(t,e){for(var n,r=!1;null!=(n=t.next());){if(n==e&&!r)return!1;r=!r&&"\\"==n}return r}function i(t,e,n){return I=t,R=n,e}function o(t,e){var o=t.next();if('"'==o||"'"==o)return n(t,e,a(o));if(/[\[\]{}\(\),;\:\.]/.test(o))return i(o);if("0"==o&&t.eat(/x/i))return t.eatWhile(/[\da-f]/i),i("number","number");if(/\d/.test(o)||"-"==o&&t.eat(/\d/))return t.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),i("number","number");if("/"==o)return t.eat("*")?n(t,e,s):t.eat("/")?(t.skipToEnd(),i("comment","comment")):e.reAllowed?(r(t,"/"),t.eatWhile(/[gimy]/),i("regexp","string-2")):(t.eatWhile(F),i("operator",null,t.current()));if("#"==o)return t.skipToEnd(),i("error","error");if(F.test(o))return t.eatWhile(F),i("operator",null,t.current());t.eatWhile(/[\w\$_]/);var l=t.current(),u=j.propertyIsEnumerable(l)&&j[l];return u&&e.kwAllowed?i(u.type,u.style,l):i("variable","variable",l)}function a(t){return function(e,n){return r(e,t)||(n.tokenize=o),i("string","string")}}function s(t,e){for(var n,r=!1;n=t.next();){if("/"==n&&r){e.tokenize=o;break}r="*"==n}return i("comment","comment")}function l(t,e,n,r,i,o){this.indented=t,this.column=e,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function u(t,e){for(var n=t.localVars;n;n=n.next)if(n.name==e)return!0}function c(t,e,n,r,i){var o=t.cc;for(B.state=t,B.stream=i,B.marked=null,B.cc=o,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;){var a=o.length?o.pop():U?x:y;if(a(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return B.marked?B.marked:"variable"==n&&u(t,r)?"variable-2":e}}}function f(){for(var t=arguments.length-1;t>=0;t--)B.cc.push(arguments[t])}function d(){return f.apply(null,arguments),!0}function h(t){var e=B.state;if(e.context){B.marked="def";for(var n=e.localVars;n;n=n.next)if(n.name==t)return;e.localVars={name:t,next:e.localVars}}}function p(){B.state.context={prev:B.state.context,vars:B.state.localVars},B.state.localVars=W}function m(){B.state.localVars=B.state.context.vars,B.state.context=B.state.context.prev}function g(t,e){var n=function(){var n=B.state;n.lexical=new l(n.indented,B.stream.column(),t,null,n.lexical,e)};return n.lex=!0,n}function v(){var t=B.state;t.lexical.prev&&(")"==t.lexical.type&&(t.indented=t.lexical.indented),t.lexical=t.lexical.prev)}function b(t){return function(e){return e==t?d():";"==t?f():d(arguments.callee)}}function y(t){return"var"==t?d(g("vardef"),T,b(";"),v):"keyword a"==t?d(g("form"),x,y,v):"keyword b"==t?d(g("form"),y,v):"{"==t?d(g("}"),M,v):";"==t?d():"function"==t?d(O):"for"==t?d(g("form"),b("("),g(")"),L,b(")"),v,y,v):"variable"==t?d(g("stat"),k):"switch"==t?d(g("form"),x,g("}","switch"),b("{"),M,v,v):"case"==t?d(x,b(":")):"default"==t?d(b(":")):"catch"==t?d(g("form"),p,b("("),N,b(")"),y,v,m):f(g("stat"),x,b(";"),v)}function x(t){return q.hasOwnProperty(t)?d(C):"function"==t?d(O):"keyword c"==t?d(w):"("==t?d(g(")"),w,b(")"),v,C):"operator"==t?d(x):"["==t?d(g("]"),A(x,"]"),v,C):"{"==t?d(g("}"),A(_,"}"),v,C):d()}function w(t){return t.match(/[;\}\)\],]/)?f():f(x)}function C(t,e){if("operator"==t&&/\+\+|--/.test(e))return d(C);if("operator"==t&&"?"==e)return d(x,b(":"),x);if(";"!=t)return"("==t?d(g(")"),A(x,")"),v,C):"."==t?d(S,C):"["==t?d(g("]"),x,b("]"),v,C):void 0}function k(t){return":"==t?d(v,y):f(C,b(";"),v)}function S(t){return"variable"==t?(B.marked="property",d()):void 0}function _(t){return"variable"==t&&(B.marked="property"),q.hasOwnProperty(t)?d(b(":"),x):void 0}function A(t,e){function n(r){return","==r?d(t,n):r==e?d():d(b(e))}return function(r){return r==e?d():f(t,n)}}function M(t){return"}"==t?d():f(y,M)}function T(t,e){return"variable"==t?(h(e),d($)):d()}function $(t,e){return"="==e?d(x,$):","==t?d(T):void 0}function L(t){return"var"==t?d(T,b(";"),P):";"==t?d(P):"variable"==t?d(z):d(P)}function z(t,e){return"in"==e?d(x):d(C,P)}function P(t,e){return";"==t?d(E):"in"==e?d(x):d(x,b(";"),E)}function E(t){")"!=t&&d(x)}function O(t,e){return"variable"==t?(h(e),d(O)):"("==t?d(g(")"),p,A(N,")"),v,y,m):void 0}function N(t,e){return"variable"==t?(h(e),d()):void 0}var I,R,D=t.indentUnit,U=e.json,j=function(){function t(t){return{type:t,style:"keyword"}}var e=t("keyword a"),n=t("keyword b"),r=t("keyword c"),i=t("operator"),o={type:"atom",style:"atom"};return{"if":e,"while":e,"with":e,"else":n,"do":n,"try":n,"finally":n,"return":r,"break":r,"continue":r,"new":r,"delete":r,"throw":r,"var":t("var"),"const":t("var"),let:t("var"),"function":t("function"),"catch":t("catch"),"for":t("for"),"switch":t("switch"),"case":t("case"),"default":t("default"),"in":i,"typeof":i,"instanceof":i,"true":o,"false":o,"null":o,undefined:o,NaN:o,Infinity:o}}(),F=/[+\-*&%=<>!?|]/,q={atom:!0,number:!0,variable:!0,string:!0,regexp:!0},B={state:null,column:null,marked:null,cc:null},W={name:"this",next:{name:"arguments"}};return v.lex=!0,{startState:function(t){return{tokenize:o,reAllowed:!0,kwAllowed:!0,cc:[],lexical:new l((t||0)-D,0,"block",!1),localVars:e.localVars,context:e.localVars&&{vars:e.localVars},indented:0}},token:function(t,e){if(t.sol()&&(e.lexical.hasOwnProperty("align")||(e.lexical.align=!1),e.indented=t.indentation()),t.eatSpace())return null;var n=e.tokenize(t,e);return"comment"==I?n:(e.reAllowed=!("operator"!=I&&"keyword c"!=I&&!I.match(/^[\[{}\(,;:]$/)),e.kwAllowed="."!=I,c(e,n,I,R,t))},indent:function(t,e){if(t.tokenize==s)return CodeMirror.Pass;if(t.tokenize!=o)return 0;var n=e&&e.charAt(0),r=t.lexical;"stat"==r.type&&"}"==n&&(r=r.prev);var i=r.type,a=n==i;return"vardef"==i?r.indented+4:"form"==i&&"{"==n?r.indented:"stat"==i||"form"==i?r.indented+D:"switch"!=r.info||a?r.align?r.column+(a?0:1):r.indented+(a?0:D):r.indented+(/^(?:case|default)\b/.test(e)?D:2*D)},electricChars:":{}"}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMode("htmlmixed",function(t){function e(t,e){var n=o.token(t,e.htmlState);return"tag"==n&&">"==t.current()&&e.htmlState.context&&(/^script$/i.test(e.htmlState.context.tagName)?(e.token=r,e.localState=a.startState(o.indent(e.htmlState,""))):/^style$/i.test(e.htmlState.context.tagName)&&(e.token=i,e.localState=s.startState(o.indent(e.htmlState,"")))),n}function n(t,e,n){var r,i=t.current(),o=i.search(e);return o>-1?t.backUp(i.length-o):(r=i.match(/<\/?$/))&&(t.backUp(i[0].length),t.match(e,!1)||t.match(i[0])),n}function r(t,r){return t.match(/^<\/\s*script\s*>/i,!1)?(r.token=e,r.localState=null,e(t,r)):n(t,/<\/\s*script\s*>/,a.token(t,r.localState))}function i(t,r){return t.match(/^<\/\s*style\s*>/i,!1)?(r.token=e,r.localState=null,e(t,r)):n(t,/<\/\s*style\s*>/,s.token(t,r.localState))}var o=CodeMirror.getMode(t,{name:"xml",htmlMode:!0}),a=CodeMirror.getMode(t,"javascript"),s=CodeMirror.getMode(t,"css");return{startState:function(){var t=o.startState();return{token:e,localState:null,mode:"html",htmlState:t}},copyState:function(t){if(t.localState)var e=CodeMirror.copyState(t.token==i?s:a,t.localState);return{token:t.token,localState:e,mode:t.mode,htmlState:CodeMirror.copyState(o,t.htmlState)}},token:function(t,e){return e.token(t,e)},indent:function(t,n){return t.token==e||/^\s*<\//.test(n)?o.indent(t.htmlState,n):t.token==r?a.indent(t.localState,n):s.indent(t.localState,n)},electricChars:"/{}:",innerMode:function(t){var n=t.token==e?o:t.token==r?a:s;return{state:t.localState||t.htmlState,mode:n}}}},"xml","javascript","css"),CodeMirror.defineMIME("text/html","htmlmixed");var _=function(){function t(e,n,r){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return e===n;if(e._chain&&(e=e._wrapped),n._chain&&(n=n._wrapped),e.isEqual&&w.isFunction(e.isEqual))return e.isEqual(n);if(n.isEqual&&w.isFunction(n.isEqual))return n.isEqual(e);var i=l.call(e);if(i!=l.call(n))return!1;switch(i){case"[object String]":return e==n+"";case"[object Number]":return e!=+e?n!=+n:0==e?1/e==1/n:e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object RegExp]":return e.source==n.source&&e.global==n.global&&e.multiline==n.multiline&&e.ignoreCase==n.ignoreCase}if("object"!=typeof e||"object"!=typeof n)return!1;for(var o=r.length;o--;)if(r[o]==e)return!0;r.push(e);var o=0,a=!0;if("[object Array]"==i){if(o=e.length,a=o==n.length)for(;o--&&(a=o in e==o in n&&t(e[o],n[o],r)););}else{if("constructor"in e!="constructor"in n||e.constructor!=n.constructor)return!1;for(var s in e)if(w.has(e,s)&&(o++,!(a=w.has(n,s)&&t(e[s],n[s],r))))break;if(a){for(s in n)if(w.has(n,s)&&!o--)break;a=!o}}return r.pop(),a}var e=this,n=e._,r={},i=Array.prototype,o=Object.prototype,a=i.slice,s=i.unshift,l=o.toString,u=o.hasOwnProperty,c=i.forEach,f=i.map,d=i.reduce,h=i.reduceRight,p=i.filter,m=i.every,g=i.some,v=i.indexOf,b=i.lastIndexOf,o=Array.isArray,y=Object.keys,x=Function.prototype.bind,w=function(t){return new P(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=w),exports._=w):e._=w,w.VERSION="1.3.3";var C=w.each=w.forEach=function(t,e,n){if(null!=t)if(c&&t.forEach===c)t.forEach(e,n);else if(t.length===+t.length)for(var i=0,o=t.length;o>i&&!(i in t&&e.call(n,t[i],i,t)===r);i++);else for(i in t)if(w.has(t,i)&&e.call(n,t[i],i,t)===r)break};w.map=w.collect=function(t,e,n){var r=[];return null==t?r:f&&t.map===f?t.map(e,n):(C(t,function(t,i,o){r[r.length]=e.call(n,t,i,o)}),t.length===+t.length&&(r.length=t.length),r)},w.reduce=w.foldl=w.inject=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),d&&t.reduce===d)return r&&(e=w.bind(e,r)),i?t.reduce(e,n):t.reduce(e);if(C(t,function(t,o,a){i?n=e.call(r,n,t,o,a):(n=t,i=!0)}),!i)throw new TypeError("Reduce of empty array with no initial value");return n},w.reduceRight=w.foldr=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),h&&t.reduceRight===h)return r&&(e=w.bind(e,r)),i?t.reduceRight(e,n):t.reduceRight(e);var o=w.toArray(t).reverse();return r&&!i&&(e=w.bind(e,r)),i?w.reduce(o,e,n,r):w.reduce(o,e)},w.find=w.detect=function(t,e,n){var r;return k(t,function(t,i,o){return e.call(n,t,i,o)?(r=t,!0):void 0}),r},w.filter=w.select=function(t,e,n){var r=[];return null==t?r:p&&t.filter===p?t.filter(e,n):(C(t,function(t,i,o){e.call(n,t,i,o)&&(r[r.length]=t)}),r)},w.reject=function(t,e,n){var r=[];return null==t?r:(C(t,function(t,i,o){e.call(n,t,i,o)||(r[r.length]=t)}),r)},w.every=w.all=function(t,e,n){var i=!0;return null==t?i:m&&t.every===m?t.every(e,n):(C(t,function(t,o,a){return(i=i&&e.call(n,t,o,a))?void 0:r}),!!i)};var k=w.some=w.any=function(t,e,n){e||(e=w.identity);var i=!1;return null==t?i:g&&t.some===g?t.some(e,n):(C(t,function(t,o,a){return i||(i=e.call(n,t,o,a))?r:void 0}),!!i)};w.include=w.contains=function(t,e){var n=!1;return null==t?n:v&&t.indexOf===v?-1!=t.indexOf(e):n=k(t,function(t){return t===e})},w.invoke=function(t,e){var n=a.call(arguments,2);return w.map(t,function(t){return(w.isFunction(e)?e||t:t[e]).apply(t,n)})},w.pluck=function(t,e){return w.map(t,function(t){return t[e]})},w.max=function(t,e,n){if(!e&&w.isArray(t)&&t[0]===+t[0])return Math.max.apply(Math,t);if(!e&&w.isEmpty(t))return-1/0;var r={computed:-1/0};return C(t,function(t,i,o){i=e?e.call(n,t,i,o):t,i>=r.computed&&(r={value:t,computed:i})}),r.value},w.min=function(t,e,n){if(!e&&w.isArray(t)&&t[0]===+t[0])return Math.min.apply(Math,t);if(!e&&w.isEmpty(t))return 1/0;var r={computed:1/0};return C(t,function(t,i,o){i=e?e.call(n,t,i,o):t,r.computed>i&&(r={value:t,computed:i})}),r.value},w.shuffle=function(t){var e,n=[];return C(t,function(t,r){e=Math.floor(Math.random()*(r+1)),n[r]=n[e],n[e]=t}),n},w.sortBy=function(t,e,n){var r=w.isFunction(e)?e:function(t){return t[e]};return w.pluck(w.map(t,function(t,e,i){return{value:t,criteria:r.call(n,t,e,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;return void 0===n?1:void 0===r?-1:r>n?-1:n>r?1:0}),"value")},w.groupBy=function(t,e){var n={},r=w.isFunction(e)?e:function(t){return t[e]};return C(t,function(t,e){var i=r(t,e);(n[i]||(n[i]=[])).push(t)}),n},w.sortedIndex=function(t,e,n){n||(n=w.identity);for(var r=0,i=t.length;i>r;){var o=r+i>>1;n(t[o])<n(e)?r=o+1:i=o}return r},w.toArray=function(t){return t?w.isArray(t)?a.call(t):w.isArguments(t)?a.call(t):t.toArray&&w.isFunction(t.toArray)?t.toArray():w.values(t):[]},w.size=function(t){return w.isArray(t)?t.length:w.keys(t).length},w.first=w.head=w.take=function(t,e,n){return null==e||n?t[0]:a.call(t,0,e)},w.initial=function(t,e,n){return a.call(t,0,t.length-(null==e||n?1:e))},w.last=function(t,e,n){return null==e||n?t[t.length-1]:a.call(t,Math.max(t.length-e,0))},w.rest=w.tail=function(t,e,n){return a.call(t,null==e||n?1:e)},w.compact=function(t){return w.filter(t,function(t){return!!t})},w.flatten=function(t,e){return w.reduce(t,function(t,n){return w.isArray(n)?t.concat(e?n:w.flatten(n)):(t[t.length]=n,t)},[])},w.without=function(t){return w.difference(t,a.call(arguments,1))},w.uniq=w.unique=function(t,e,n){var n=n?w.map(t,n):t,r=[];return 3>t.length&&(e=!0),w.reduce(n,function(n,i,o){return(e?w.last(n)===i&&n.length:w.include(n,i))||(n.push(i),r.push(t[o])),n},[]),r},w.union=function(){return w.uniq(w.flatten(arguments,!0))},w.intersection=w.intersect=function(t){var e=a.call(arguments,1);return w.filter(w.uniq(t),function(t){return w.every(e,function(e){return w.indexOf(e,t)>=0})})},w.difference=function(t){var e=w.flatten(a.call(arguments,1),!0);return w.filter(t,function(t){return!w.include(e,t)})},w.zip=function(){for(var t=a.call(arguments),e=w.max(w.pluck(t,"length")),n=Array(e),r=0;e>r;r++)n[r]=w.pluck(t,""+r);return n},w.indexOf=function(t,e,n){if(null==t)return-1;var r;if(n)return n=w.sortedIndex(t,e),t[n]===e?n:-1;if(v&&t.indexOf===v)return t.indexOf(e);for(n=0,r=t.length;r>n;n++)if(n in t&&t[n]===e)return n;return-1},w.lastIndexOf=function(t,e){if(null==t)return-1;if(b&&t.lastIndexOf===b)return t.lastIndexOf(e);for(var n=t.length;n--;)if(n in t&&t[n]===e)return n;return-1},w.range=function(t,e,n){1>=arguments.length&&(e=t||0,t=0);for(var n=arguments[2]||1,r=Math.max(Math.ceil((e-t)/n),0),i=0,o=Array(r);r>i;)o[i++]=t,t+=n;return o};var S=function(){};w.bind=function(t,e){var n,r;if(t.bind===x&&x)return x.apply(t,a.call(arguments,1));if(!w.isFunction(t))throw new TypeError;return r=a.call(arguments,2),n=function(){if(!(this instanceof n))return t.apply(e,r.concat(a.call(arguments)));S.prototype=t.prototype;var i=new S,o=t.apply(i,r.concat(a.call(arguments)));return Object(o)===o?o:i}},w.bindAll=function(t){var e=a.call(arguments,1);return 0==e.length&&(e=w.functions(t)),C(e,function(e){t[e]=w.bind(t[e],t)}),t},w.memoize=function(t,e){var n={};return e||(e=w.identity),function(){var r=e.apply(this,arguments);return w.has(n,r)?n[r]:n[r]=t.apply(this,arguments)}},w.delay=function(t,e){var n=a.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},w.defer=function(t){return w.delay.apply(w,[t,1].concat(a.call(arguments,1)))},w.throttle=function(t,e){var n,r,i,o,a,s,l=w.debounce(function(){a=o=!1},e);return function(){return n=this,r=arguments,i||(i=setTimeout(function(){i=null,a&&t.apply(n,r),l()},e)),o?a=!0:s=t.apply(n,r),l(),o=!0,s}},w.debounce=function(t,e,n){var r;return function(){var i=this,o=arguments;n&&!r&&t.apply(i,o),clearTimeout(r),r=setTimeout(function(){r=null,n||t.apply(i,o)},e)}},w.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments))}},w.wrap=function(t,e){return function(){var n=[t].concat(a.call(arguments,0));return e.apply(this,n)}},w.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},w.after=function(t,e){return 0>=t?e():function(){return 1>--t?e.apply(this,arguments):void 0}},w.keys=y||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e,n=[];for(e in t)w.has(t,e)&&(n[n.length]=e);return n},w.values=function(t){return w.map(t,w.identity)},w.functions=w.methods=function(t){var e,n=[];for(e in t)w.isFunction(t[e])&&n.push(e);return n.sort()},w.extend=function(t){return C(a.call(arguments,1),function(e){for(var n in e)t[n]=e[n]}),t},w.pick=function(t){var e={};return C(w.flatten(a.call(arguments,1)),function(n){n in t&&(e[n]=t[n])}),e},w.defaults=function(t){return C(a.call(arguments,1),function(e){for(var n in e)null==t[n]&&(t[n]=e[n])}),t},w.clone=function(t){return w.isObject(t)?w.isArray(t)?t.slice():w.extend({},t):t},w.tap=function(t,e){return e(t),t},w.isEqual=function(e,n){return t(e,n,[])},w.isEmpty=function(t){if(null==t)return!0;if(w.isArray(t)||w.isString(t))return 0===t.length;for(var e in t)if(w.has(t,e))return!1;return!0},w.isElement=function(t){return!(!t||1!=t.nodeType)},w.isArray=o||function(t){return"[object Array]"==l.call(t)},w.isObject=function(t){return t===Object(t)},w.isArguments=function(t){return"[object Arguments]"==l.call(t)},w.isArguments(arguments)||(w.isArguments=function(t){return!(!t||!w.has(t,"callee"))}),w.isFunction=function(t){return"[object Function]"==l.call(t)},w.isString=function(t){return"[object String]"==l.call(t)},w.isNumber=function(t){return"[object Number]"==l.call(t)},w.isFinite=function(t){return w.isNumber(t)&&isFinite(t)},w.isNaN=function(t){return t!==t},w.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==l.call(t)},w.isDate=function(t){return"[object Date]"==l.call(t)},w.isRegExp=function(t){return"[object RegExp]"==l.call(t)},w.isNull=function(t){return null===t},w.isUndefined=function(t){return void 0===t},w.has=function(t,e){return u.call(t,e)},w.noConflict=function(){return e._=n,this},w.identity=function(t){return t},w.times=function(t,e,n){for(var r=0;t>r;r++)e.call(n,r)},w.escape=function(t){return(""+t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},w.result=function(t,e){if(null==t)return null;var n=t[e];return w.isFunction(n)?n.call(t):n},w.mixin=function(t){C(w.functions(t),function(e){O(e,w[e]=t[e])})};var _=0;w.uniqueId=function(t){var e=_++;return t?t+e:e},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var A,M=/.^/,T={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"};for(A in T)T[T[A]]=A;var $=/\\|'|\r|\n|\t|\u2028|\u2029/g,L=/\\(\\|'|r|n|t|u2028|u2029)/g,z=function(t){return t.replace(L,function(t,e){return T[e]})};w.template=function(t,e,n){n=w.defaults(n||{},w.templateSettings),t="__p+='"+t.replace($,function(t){return"\\"+T[t]}).replace(n.escape||M,function(t,e){return"'+\n_.escape("+z(e)+")+\n'"}).replace(n.interpolate||M,function(t,e){return"'+\n("+z(e)+")+\n'"}).replace(n.evaluate||M,function(t,e){return"';\n"+z(e)+"\n;__p+='"})+"';\n",n.variable||(t="with(obj||{}){\n"+t+"}\n");var t="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+t+"return __p;\n",r=Function(n.variable||"obj","_",t);return e?r(e,w):(e=function(t){return r.call(this,t,w)},e.source="function("+(n.variable||"obj")+"){\n"+t+"}",e)},w.chain=function(t){return w(t).chain()};var P=function(t){this._wrapped=t};w.prototype=P.prototype;var E=function(t,e){return e?w(t).chain():t},O=function(t,e){P.prototype[t]=function(){var t=a.call(arguments);return s.call(t,this._wrapped),E(e.apply(w,t),this._chain)}};return w.mixin(w),C(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=i[t];P.prototype[t]=function(){var n=this._wrapped;e.apply(n,arguments);var r=n.length;return("shift"==t||"splice"==t)&&0===r&&delete n[0],E(n,this._chain)}}),C(["concat","join","slice"],function(t){var e=i[t];P.prototype[t]=function(){return E(e.apply(this._wrapped,arguments),this._chain)}}),P.prototype.chain=function(){return this._chain=!0,this},P.prototype.value=function(){return this._wrapped},w}.call({}),emmet=function(t){function e(t,e,n){var r;return r=e&&e.hasOwnProperty("constructor")?e.constructor:function(){t.apply(this,arguments)},_.extend(r,t),o.prototype=t.prototype,r.prototype=new o,e&&_.extend(r.prototype,e),n&&_.extend(r,n),r.prototype.constructor=r,r.__super__=t.prototype,r}function n(t){return!(t in i)&&a&&a(t),i[t]}if(_===void 0)try{_=t.require("underscore")}catch(r){}if(_===void 0)throw"Cannot access to Underscore.js lib";var i={_:_},o=function(){},a=null;return{define:function(t,e){t in i||(i[t]=_.isFunction(e)?this.exec(e):e)},require:n,exec:function(e,r){return e.call(r||t,_.bind(n,this),_,this)},extend:function(t,n){var r=e(this,t,n);return r.extend=this.extend,t.hasOwnProperty("toString")&&(r.prototype.toString=t.toString),r},expandAbbreviation:function(t,e,r,i){if(!t)return"";var e=e||"html",o=n("filters"),a=n("abbreviationParser"),r=n("profile").get(r,e);return n("tabStops").resetTabstopIndex(),t=o.extractFromAbbreviation(t),i=a.parse(t[0],{syntax:e,contextNode:i}),e=o.composeList(e,r,t[1]),o.apply(i,e,r),i.valueOf()},defaultSyntax:function(){return"html"},defaultProfile:function(){return"plain"},log:function(){t.console&&t.console.log&&t.console.log.apply(t.console,arguments)},setModuleLoader:function(t){a=t}}}(this);"undefined"!=typeof exports&&("undefined"!=typeof module&&module.exports&&(exports=module.exports=emmet),exports.emmet=emmet),"undefined"!=typeof define&&define(emmet),emmet.define("abbreviationParser",function(t,e){function n(){this.parent=null,this.children=[],this._attributes=[],this.abbreviation="",this.counter=1,this._name=null,this._text="",this.repeatCount=1,this.hasImplicitRepeat=!1,this._data={},this.padding=this.content=this.end=this.start=""}function r(t){return t.substring(1,t.length-1)}function i(o){for(var a,s,o=t("utils").trim(o),l=new n,u=l.addChild(),c=t("stringStream").create(o),o=1e3,d=function(t){u.addChild(t)},h=function(){c.start=c.pos,c.eatWhile(function(t){if("["==t||"{"==t){if(c.skipToPair(t,p[t]))return c.backUp(1),!0;throw'Invalid abbreviation: mo matching "'+p[t]+'" found for character at '+c.pos}return"+"==t?(c.next(),t=c.eol()||~"+>^*".indexOf(c.peek()),c.backUp(1),t):"("!=t&&f(t)})};!c.eol()&&--o>0;)switch(a=c.peek()){case"(":if(c.start=c.pos,!c.skipToPair("(",")"))throw'Invalid abbreviation: mo matching ")" found for character at '+c.pos;a=i(r(c.current())),(s=c.match(/^\*(\d+)?/,!0))&&u._setRepeat(s[1]),e.each(a.children,d);break;case">":u=u.addChild(),c.next();break;case"+":u=u.parent.addChild(),c.next();break;case"^":a=u.parent||u,u=(a.parent||a).addChild(),c.next();break;default:h(),u.setAbbreviation(c.current()),c.start=c.pos}if(1>o)throw"Endless loop detected";return l}function o(e){var e=t("utils").trim(e),n=[],e=t("stringStream").create(e);for(e.eatSpace();!e.eol()&&(e.start=e.pos,e.eatWhile(h));){var r=e.current(),i="";if("="==e.peek()){e.next(),e.start=e.pos;var o=e.peek();if('"'==o||"'"==o){e.next();t:{for(var i=e,a=void 0;a=i.next();)if(a===o){i=!0;break t}i=!1}if(!i)throw"Invalid attribute value";i=e.current(),i=i.substring(1,i.length-1)}else{if(!e.eatWhile(/[^\s\]]/))throw"Invalid attribute value";i=e.current()}}n.push({name:r,value:i}),e.eatSpace()}return n}function a(e){for(var n=[],i={"#":"id",".":"class"},a=null,l=t("stringStream").create(e);!l.eol();)switch(l.peek()){case"#":case".":null===a&&(a=l.pos);var u=i[l.peek()];l.next(),l.start=l.pos,l.eatWhile(h),n.push({name:u,value:l.current()});break;case"[":if(null===a&&(a=l.pos),l.start=l.pos,!l.skipToPair("[","]"))throw"Invalid attribute set definition";n=n.concat(o(r(l.current())));break;default:l.next()}return n.length?{element:e.substring(0,a),attributes:s(n)}:null}function s(t){var t=e.map(t,function(t){return e.clone(t)}),n={};return e.filter(t,function(t){if(!(t.name in n))return n[t.name]=t;var e=n[t.name];return"class"==t.name.toLowerCase()?e.value+=(e.value.length?" ":"")+t.value:e.value=t.value,!1})}function l(e){if(!~e.indexOf("{"))return null;for(var n=t("stringStream").create(e);!n.eol();)switch(n.peek()){case"[":case"(":n.skipToPair(n.peek(),p[n.peek()]);break;case"{":return n.start=n.pos,n.skipToPair("{","}"),{element:e.substring(0,n.start),text:r(n.current())};default:n.next()}}function u(t){for(var n,r,i,o=t.children.length-1;o>=0;o--)if(r=t.children[o],r.isRepeating())for(i=n=r.repeatCount,r.repeatCount=1,r.updateProperty("counter",1),r.updateProperty("maxCount",i);--n>0;)r.parent.addChild(r.clone(),o+1).updateProperty("counter",n+1).updateProperty("maxCount",i);return e.each(t.children,u),t}function c(t){for(var n=t.children.length-1;n>=0;n--){var r=t.children[n];r.isGroup()?r.replace(c(r).children):r.isEmpty()&&r.remove()}return e.each(t.children,c),t}function f(t){var e=t.charCodeAt(0);return e>64&&91>e||e>96&&123>e||e>47&&58>e||-1!="#.*:$-_!@|%".indexOf(t)}var d=/^[\w\-\$\:@\!%]+\+?$/i,h=/[\w\-:\$@]/,p={"[":"]","(":")","{":"}"},m=Array.prototype.splice,g=[],v=[],b=[];return n.prototype={addChild:function(t,r){return t=t||new n,t.parent=this,e.isUndefined(r)?this.children.push(t):this.children.splice(r,0,t),t},clone:function(){var t=new n;return e.each(["abbreviation","counter","_name","_text","repeatCount","hasImplicitRepeat","start","end","content","padding"],function(e){t[e]=this[e]},this),t._attributes=e.map(this._attributes,function(t){return e.clone(t)}),t._data=e.clone(this._data),t.children=e.map(this.children,function(e){return e=e.clone(),e.parent=t,e}),t},remove:function(){return this.parent&&(this.parent.children=e.without(this.parent.children,this)),this},replace:function(){var t=this.parent,n=e.indexOf(t.children,this),r=e.flatten(arguments);m.apply(t.children,[n,1].concat(r)),e.each(r,function(e){e.parent=t})},updateProperty:function(t,n){return this[t]=n,e.each(this.children,function(e){e.updateProperty(t,n)}),this},find:function(t){return this.findAll(t)[0]},findAll:function(t){if(!e.isFunction(t))var n=t.toLowerCase(),t=function(t){return t.name().toLowerCase()==n};var r=[];return e.each(this.children,function(e){t(e)&&r.push(e),r=r.concat(e.findAll(t))}),e.compact(r)},data:function(e,n){return 2==arguments.length&&(this._data[e]=n,"resource"==e&&t("elements").is(n,"snippet")&&(this.content=n.data,this._text))&&(this.content=t("abbreviationUtils").insertChildContent(n.data,this._text)),this._data[e]},name:function(){var e=this.matchedResource();return t("elements").is(e,"element")?e.name:this._name},attributeList:function(){var n=[],r=this.matchedResource();return t("elements").is(r,"element")&&e.isArray(r.attributes)&&(n=n.concat(r.attributes)),s(n.concat(this._attributes))},attribute:function(t,n){if(2==arguments.length){var r=e.indexOf(e.pluck(this._attributes,"name"),t.toLowerCase());~r?this._attributes[r].value=n:this._attributes.push({name:t,value:n})}return(e.find(this.attributeList(),function(e){return e.name==t})||{}).value},matchedResource:function(){return this.data("resource")},index:function(){return this.parent?e.indexOf(this.parent.children,this):-1},_setRepeat:function(t){t?this.repeatCount=parseInt(t,10)||1:this.hasImplicitRepeat=!0},setAbbreviation:function(t){var e=this;this.abbreviation=t=(t||"").replace(/\*(\d+)?$/,function(t,n){return e._setRepeat(n),""});var n=l(t);if(n&&(t=n.element,this.content=this._text=n.text),(n=a(t))&&(t=n.element,this._attributes=n.attributes),(this._name=t)&&!d.test(this._name))throw"Invalid abbreviation"},valueOf:function(){var n=t("utils"),r=this.start,i=this.end,o=this.content,a=this;e.each(b,function(t){r=t(r,a,"start"),o=t(o,a,"content"),i=t(i,a,"end")});var s=e.map(this.children,function(t){return t.valueOf()}).join(""),o=t("abbreviationUtils").insertChildContent(o,s,{keepVariable:!1});return r+n.padString(o,this.padding)+i},toString:function(){return this.valueOf()},hasEmptyChildren:function(){return!!e.find(this.children,function(t){return t.isEmpty()})},hasImplicitName:function(){return!this._name&&!this.isTextNode()},isGroup:function(){return!this.abbreviation},isEmpty:function(){return!this.abbreviation&&!this.children.length},isRepeating:function(){return this.repeatCount>1||this.hasImplicitRepeat},isTextNode:function(){return!this.name()&&!this.attributeList().length},isElement:function(){return!this.isEmpty()&&!this.isTextNode()},deepestChild:function(){if(!this.children.length)return null;for(var t=this;t.children.length;)t=e.last(t.children);return t}},b.push(function(e,n){return t("utils").replaceCounter(e,n.counter,n.maxCount)}),{parse:function(t,n){var n=n||{},r=i(t);if(n.contextNode){r._name=n.contextNode.name;var o={};e.each(r._attributes,function(t){o[t.name]=t}),e.each(n.contextNode.attributes,function(t){t.name in o?o[t.name].value=t.value:(t=e.clone(t),r._attributes.push(t),o[t.name]=t)})}return e.each(g,function(t){t(r,n)}),r=c(u(r)),e.each(v,function(t){t(r,n)}),r},AbbreviationNode:n,addPreprocessor:function(t){e.include(g,t)||g.push(t)},removeFilter:function(t){e.without(g,t)},addPostprocessor:function(t){e.include(v,t)||v.push(t)},removePostprocessor:function(t){v=e.without(v,t)},addOutputProcessor:function(t){e.include(b,t)||b.push(t)},removeOutputProcessor:function(t){b=e.without(b,t)},isAllowedChar:function(t){return t+="",f(t)||~">+^[](){}".indexOf(t)}}}),emmet.exec(function(t,e){function n(r,i){var o=t("resources"),a=t("elements"),s=t("abbreviationParser");e.each(e.clone(r.children),function(t){var r=o.getMatchedResource(t,i);if(e.isString(r))t.data("resource",a.create("snippet",r));else if(a.is(r,"reference")){if(r=s.parse(r.data,{syntax:i}),t.repeatCount>1){var l=r.findAll(function(t){return t.hasImplicitRepeat});e.each(l,function(e){e.repeatCount=t.repeatCount,e.hasImplicitRepeat=!1})}var u=r.deepestChild();u&&e.each(t.children,function(t){u.addChild(t)}),e.each(r.children,function(n){e.each(t.attributeList(),function(t){n.attribute(t.name,t.value)})}),t.replace(r.children)}else t.data("resource",r);n(t,i)})}t("abbreviationParser").addPreprocessor(function(t,e){var r=e.syntax||emmet.defaultSyntax();n(t,r)})}),emmet.exec(function(t,e){function n(e){for(var n=t("range"),r=[],e=t("stringStream").create(e);!e.eol();){if("\\"==e.peek())e.next();else if(e.start=e.pos,e.match(s,!0)){r.push(n.create(e.start,s));continue}e.next()}return r}function r(r,i){var o=t("utils"),a=n(r);return a.reverse(),e.each(a,function(t){r=o.replaceSubstring(r,i,t)}),r}function i(t){return n(t.content).length?!0:!!e.find(t.attributeList(),function(t){return!!n(t.value).length})}function o(n,o,a){var s=n.findAll(function(t){return i(t)});i(n)&&s.unshift(n),s.length?e.each(s,function(t){t.content=r(t.content,o),e.each(t._attributes,function(t){t.value=r(t.value,o)})}):(n=n.deepestChild()||n,n.content=a?o:t("abbreviationUtils").insertChildContent(n.content,o))}var a=t("abbreviationParser"),s="$#";a.addPreprocessor(function(n,r){if(r.pastedContent){var i=t("utils"),o=e.map(i.splitByLines(r.pastedContent,!0),i.trim);n.findAll(function(t){return t.hasImplicitRepeat?(t.data("paste",o),t.repeatCount=o.length):void 0})}}),a.addPostprocessor(function(t,n){!t.findAll(function(t){var n=t.data("paste"),r="";return e.isArray(n)?r=n[t.counter-1]:e.isFunction(n)?r=n(t.counter-1,t.content):n&&(r=n),r&&o(t,r,!!t.data("pasteOverwrites")),t.data("paste",null),!!n}).length&&n.pastedContent&&o(t,n.pastedContent)})}),emmet.exec(function(t,e){function n(r){var i=t("tagName");return e.each(r.children,function(t){(t.hasImplicitName()||t.data("forceNameResolving"))&&(t._name=i.resolve(t.parent.name())),n(t)}),r}t("abbreviationParser").addPostprocessor(n)}),emmet.define("cssParser",function(t,e){function n(t){return t!==void 0}function r(){return{"char":l.chnum,line:l.linenum}}function i(t,e,r){var i=l,r=r||{};
d.push({charstart:n(r["char"])?r["char"]:i.chnum,charend:n(r.charend)?r.charend:i.chnum,linestart:n(r.line)?r.line:i.linenum,lineend:n(r.lineend)?r.lineend:i.linenum,value:t,type:e||t})}function o(t,e){var r=l,i=e||{},o=n(i["char"])?i["char"]:r.chnum,i=n(i.line)?i.line:r.linenum;return{name:"ParseError",message:t+" at line "+(i+1)+" char "+(o+1),walker:r,tokens:d}}function a(t){var e=l,n=e.ch,o=r(),a=t?t+n:n,n=e.nextChar();for(t&&(o["char"]-=t.length);c(n)||f(n);)a+=n,n=e.nextChar();i(a,"identifier",o)}function s(){var t=l.ch;if(" "===t||"	"===t){for(var e=l.ch,n="",s=r();" "===e||"	"===e;)n+=e,e=l.nextChar();i(n,"white",s)}else{if("/"===t){t:{var n=l,d=n.ch,s=d,h=r(),t=n.nextChar();if("/"===t)for(s+=t,d=n.peek();d&&"\n"!==d;)s+=t,t=n.nextChar(),d=n.peek();else{if("*"!==t){h.charend=h["char"],h.lineend=h.line,e=i(s,s,h);break t}for(;"*"!==d||"/"!==t;)s+=t,d=t,t=n.nextChar()}s+=t,n.nextChar(),i(s,"comment",h)}return e}if('"'===t||"'"===t){for(e=l,t=s=n=e.ch,d=r(),n=e.nextChar();n!==s;){if("\n"===n){if(h=e.nextChar(),"\\"!==h)throw o("Unterminated string",d);t+=n+h}else t+="\\"===n?n+e.nextChar():n;n=e.nextChar()}t+=n,e.nextChar(),i(t,"string",d)}else if("("===t){for(e=l,n=e.ch,s=0,t=n,h=r(),n=e.nextChar();")"!==n&&!s;){if("("===n)s++;else if(")"===n)s--;else if(n===!1)throw o("Unterminated brace",h);t+=n,n=e.nextChar()}t+=n,e.nextChar(),i(t,"brace",h)}else{if("-"===t||"."===t||f(t)){var p,e=l,s=e.ch,t=r(),h=s,d="."===h,s=e.nextChar();if(p=!f(s),d&&p)t.charend=t["char"],t.lineend=t.line,n=i(h,".",t);else if("-"===h&&p)n=a("-");else{for(;s!==!1&&(f(s)||!d&&"."===s);)"."===s&&(d=!0),h+=s,s=e.nextChar();i(h,"number",t)}return n}if(c(t))return a();if(u(t))return e=l,t=e.ch,n=r(),h=e.nextChar(),"="===h&&u(t,!0)?(t+=h,i(t,"match",n),e.nextChar(),s=void 0):(n.charend=n["char"]+1,n.lineend=n.line,i(t,t,n)),s;if("\n"!==t)throw o("Unrecognized character");i("line"),l.nextChar()}}}var l,u,c,f,d=[];return l={lines:null,total_lines:0,linenum:-1,line:"",ch:"",chnum:-1,init:function(t){var e=l;e.lines=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n"),e.total_lines=e.lines.length,e.chnum=-1,e.linenum=-1,e.ch="",e.line="",e.nextLine(),e.nextChar()},nextLine:function(){return this.linenum+=1,this.line=this.total_lines<=this.linenum?!1:this.lines[this.linenum],-1!==this.chnum&&(this.chnum=0),this.line},nextChar:function(){for(this.chnum+=1;""===this.line.charAt(this.chnum);)return this.nextLine()===!1?this.ch=!1:(this.chnum=-1,this.ch="\n");return this.ch=this.line.charAt(this.chnum)},peek:function(){return this.line.charAt(this.chnum+1)}},c=function(t){return"&"==t||"_"===t||"-"===t||t>="a"&&"z">=t||t>="A"&&"Z">=t},f=function(t){return t!==!1&&t>="0"&&"9">=t},u=function(){for(var t="{}[]()+*=.,;:>~|\\%$#@^!".split(""),e="*^|$~".split(""),n={},r={},i=0;t.length>i;i+=1)n[t[i]]=!0;for(i=0;e.length>i;i+=1)r[e[i]]=!0;return function(t,e){return e?!!r[t]:!!n[t]}}(),{lex:function(t){for(l.init(t),d=[];l.ch!==!1;)s();return d},parse:function(t){var n=0;return e.map(this.lex(t),function(e){return"line"==e.type&&(e.value="\r"==t.charAt(n)&&"\n"==t.charAt(n+1)?"\r\n":t.charAt(n)),{type:e.type,start:n,end:n+=e.value.length}})},toSource:function(t){for(var e,n=0,r=t.length,i="";r>n;n+=1)e=t[n],i+="line"===e.type?"\n":e.value;return i}}}),emmet.define("xmlParser",function(t){function e(t,e){function r(n){return e.tokenize=n,n(t,e)}var a=t.next();if("<"==a){if(t.eat("!"))return t.eat("[")?t.match("CDATA[")?r(i("atom","]]>")):null:t.match("--")?r(i("comment","-->")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),r(o(1))):null;if(t.eat("?"))return t.eatWhile(/[\w\._\-]/),e.tokenize=i("meta","?>"),"meta";for(w=t.eat("/")?"closeTag":"openTag",t.eatSpace(),x="";a=t.eat(/[^\s\u00a0=<>\"\'\/?]/);)x+=a;return e.tokenize=n,"tag"}return"&"==a?(t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"))?"atom":"error":(t.eatWhile(/[^&<]/),"text")}function n(t,n){var i=t.next();return">"==i||"/"==i&&t.eat(">")?(n.tokenize=e,w=">"==i?"endTag":"selfcloseTag","tag"):"="==i?(w="equals",null):/[\'\"]/.test(i)?(n.tokenize=r(i),n.tokenize(t,n)):(t.eatWhile(/[^\s\u00a0=<>\"\'\/?]/),"word")}function r(t){return function(e,r){for(;!e.eol();)if(e.next()==t){r.tokenize=n;break}return"string"}}function i(t,n){return function(r,i){for(;!r.eol();){if(r.match(n)){i.tokenize=e;break}r.next()}return t}}function o(t){return function(n,r){for(var i;null!==(i=n.next());){if("<"==i)return r.tokenize=o(t+1),r.tokenize(n,r);if(">"==i){if(1==t){r.tokenize=e;break}return r.tokenize=o(t-1),r.tokenize(n,r)}}return"meta"}}function a(){for(var t=arguments.length-1;t>=0;t--)C.cc.push(arguments[t])}function s(){return a.apply(null,arguments),!0}function l(){C.context&&(C.context=C.context.prev)}function u(t){return"openTag"==t?(C.tagName=x,s(h,c(C.startOfLine))):"closeTag"==t?(t=!1,C.context?C.context.tagName!=x&&(y.implicitlyClosed.hasOwnProperty(C.context.tagName.toLowerCase())&&l(),t=!C.context||C.context.tagName!=x):t=!0,t&&(b="error"),s(f(t))):s()}function c(t){return function(e){if("selfcloseTag"==e||"endTag"==e&&y.autoSelfClosers.hasOwnProperty(C.tagName.toLowerCase()))return d(C.tagName.toLowerCase()),s();if("endTag"==e){d(C.tagName.toLowerCase());var e=C.tagName,n=y.doNotIndent.hasOwnProperty(e)||C.context&&C.context.noIndent;C.context={prev:C.context,tagName:e,indent:C.indented,startOfLine:t,noIndent:n}}return s()}}function f(t){return function(e){return t&&(b="error"),"endTag"==e?(l(),s()):(b="error",s(arguments.callee))}}function d(t){for(var e;C.context&&(e=C.context.tagName.toLowerCase(),y.contextGrabbers.hasOwnProperty(e)&&y.contextGrabbers[e].hasOwnProperty(t));)l()}function h(t){return"word"==t?(b="attribute",s(p,h)):"endTag"==t||"selfcloseTag"==t?a():(b="error",s(h))}function p(t){return"equals"==t?s(m,h):(y.allowMissing||(b="error"),"endTag"==t||"selfcloseTag"==t?a():s())}function m(t){return"string"==t?s(g):"word"==t&&y.allowUnquoted?(b="string",s()):(b="error","endTag"==t||"selfCloseTag"==t?a():s())}function g(t){return"string"==t?s(g):a()}function v(t,e){if(t.sol()&&(e.startOfLine=!0,e.indented=0),t.eatSpace())return null;b=w=x=null;var n=e.tokenize(t,e);if(e.type=w,(n||w)&&"comment"!=n)for(C=e;!(e.cc.pop()||u)(w||n););return e.startOfLine=!1,b||n}var b,y={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!0,allowMissing:!0},x=null,w=null,C=null;return{parse:function(n,r){for(var r=r||0,i={tokenize:e,cc:[],indented:0,startOfLine:!0,tagName:null,context:null},o=t("stringStream").create(n),a=[];!o.eol();)a.push({type:v(o,i),start:o.start+r,end:o.pos+r}),o.start=o.pos;return a}}}),emmet.define("string-score",function(){return{score:function(t,e,n){if(t==e)return 1;if(""==e)return 0;for(var r,i,o,a,s,l=0,u=e.length,c=t.length,f=1,d=0;u>d;++d){if(a=e.charAt(d),i=t.indexOf(a.toLowerCase()),o=t.indexOf(a.toUpperCase()),s=Math.min(i,o),o=s>-1?s:Math.max(i,o),-1===o){if(n){f+=1-n;continue}return 0}i=.1,t[o]===a&&(i+=.1),0===o?(i+=.6,0===d&&(r=1)):" "===t.charAt(o-1)&&(i+=.8),t=t.substring(o+1,c),l+=i}return t=l/u,u=(t*(u/c)+t)/2,u/=f,r&&1>u+.15&&(u+=.15),u}}}),emmet.define("utils",function(t,e){var n="${0}";return{reTag:/<\/?[\w:\-]+(?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*\s*(\/?)>$/,endsWithTag:function(t){return this.reTag.test(t)},isNumeric:function(t){return"string"==typeof t&&(t=t.charCodeAt(0)),t&&t>47&&58>t},trim:function(t){return(t||"").replace(/^\s+|\s+$/g,"")},getNewline:function(){var n=t("resources");return n?(n=n.getVariable("newline"),e.isString(n)?n:"\n"):"\n"},setNewline:function(e){var n=t("resources");n.setVariable("newline",e),n.setVariable("nl",e)},splitByLines:function(t,n){var r=this.getNewline(),r=(t||"").replace(/\r\n/g,"\n").replace(/\n\r/g,"\n").replace(/\r/g,"\n").replace(/\n/g,r).split(r);return n&&(r=e.filter(r,function(t){return t.length&&!!this.trim(t)},this)),r},normalizeNewline:function(t){return this.splitByLines(t).join(this.getNewline())},repeatString:function(t,e){for(var n=[],r=0;e>r;r++)n.push(t);return n.join("")},getStringsPads:function(t){var t=e.map(t,function(t){return e.isString(t)?t.length:+t}),n=e.max(t);return e.map(t,function(t){return(t=n-t)?this.repeatString(" ",t):""},this)},padString:function(n,r){var i=e.isNumber(r)?this.repeatString(t("resources").getVariable("indentation")||"	",r):r,o=[],a=this.splitByLines(n),s=this.getNewline();o.push(a[0]);for(var l=1;a.length>l;l++)o.push(s+i+a[l]);return o.join("")},zeroPadString:function(t,e){for(var n="",r=t.length;e>r++;)n+="0";return n+t},unindentString:function(t,e){for(var n=this.splitByLines(t),r=0;n.length>r;r++)0===n[r].search(e)&&(n[r]=n[r].substr(e.length));return n.join(this.getNewline())},replaceUnescapedSymbol:function(t,n,r){for(var i=0,o=t.length,a=n.length,s=0;o>i;)if("\\"==t.charAt(i))i+=a+1;else if(t.substr(i,a)==n){var l=a;s++;var u=r;e.isFunction(r)&&((u=r(t,n,i,s))?(l=u[0].length,u=u[1]):u=!1),u===!1?i++:(t=t.substring(0,i)+u+t.substring(i+l),o=t.length,i+=u.length)}else i++;return t},replaceVariables:function(n,r){var r=r||{},i=e.isFunction(r)?r:function(t,e){return e in r?r[e]:null},o=t("resources");return t("tabStops").processText(n,{variable:function(t){var n=i(t.token,t.name,t);return null===n&&(n=o.getVariable(t.name)),(null===n||e.isUndefined(n))&&(n=t.token),n}})},replaceCounter:function(t,n,r){t+="",n+="",/^\-?\d+$/.test(n)&&(n=+n);var i=this;return this.replaceUnescapedSymbol(t,"$",function(t,o,a){if("{"==t.charAt(a+1)||i.isNumeric(t.charAt(a+1)))return!1;for(o=a+1;"$"==t.charAt(o)&&"{"!=t.charAt(o+1);)o++;var s,l=o-a,u=0,c=!1;return(s=t.substr(o).match(/^@(\-?)(\d*)/))&&(o+=s[0].length,s[1]&&(c=!0),u=parseInt(s[2]||1,10)-1),c&&r&&e.isNumber(n)&&(n=r-n+1),n+=u,[t.substring(a,o),i.zeroPadString(n+"",l)]})},matchesTag:function(t){return this.reTag.test(t||"")},escapeText:function(t){return t.replace(/([\$\\])/g,"\\$1")},unescapeText:function(t){return t.replace(/\\(.)/g,"$1")},getCaretPlaceholder:function(){return e.isFunction(n)?n.apply(this,arguments):n},setCaretPlaceholder:function(t){n=t},getLinePadding:function(t){return(t.match(/^(\s+)/)||[""])[0]},getLinePaddingFromPosition:function(t,e){return this.getLinePadding(this.findNewlineBounds(t,e).substring(t))},escapeForRegexp:function(t){return t.replace(RegExp("[.*+?|()\\[\\]{}\\\\]","g"),"\\$&")},prettifyNumber:function(t,e){return t.toFixed(e===void 0?2:e).replace(/\.?0+$/,"")},replaceSubstring:function(t,n,r,i){return e.isObject(r)&&"end"in r&&(i=r.end,r=r.start),e.isString(i)&&(i=r+i.length),e.isUndefined(i)&&(i=r),0>r||r>t.length?t:t.substring(0,r)+n+t.substring(i)},narrowToNonSpace:function(e,n,r){for(n=t("range").create(n,r),r=/[\s\n\r\u00a0]/;n.start<n.end&&r.test(e.charAt(n.start));)n.start++;for(;n.end>n.start;)if(n.end--,!r.test(e.charAt(n.end))){n.end++;break}return n},findNewlineBounds:function(e,n){for(var r,i=e.length,o=0,a=i-1,s=n-1;s>0;s--)if(r=e.charAt(s),"\n"==r||"\r"==r){o=s+1;break}for(s=n;i>s;s++)if(r=e.charAt(s),"\n"==r||"\r"==r){a=s;break}return t("range").create(o,a-o)},deepMerge:function(){var t,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length;for(!e.isObject(a)&&!e.isFunction(a)&&(a={});l>s;s++)if(null!==(t=arguments[s]))for(n in t)r=a[n],i=t[n],a!==i&&(i&&(e.isObject(i)||(o=e.isArray(i)))?(o?(o=!1,r=r&&e.isArray(r)?r:[]):r=r&&e.isObject(r)?r:{},a[n]=this.deepMerge(r,i)):void 0!==i&&(a[n]=i));return a}}}),emmet.define("range",function(t,e){function n(t,e,n){switch(n){case"eq":case"==":return t===e;case"lt":case"<":return e>t;case"lte":case"<=":return e>=t;case"gt":case">":return t>e;case"gte":case">=":return t>=e}}function r(t,n){e.isObject(t)&&"start"in t?(this.start=Math.min(t.start,t.end),this.end=Math.max(t.start,t.end)):e.isArray(t)?(this.start=t[0],this.end=t[1]):(n=e.isString(n)?n.length:+n,this.start=t,this.end=t+n)}return r.prototype={length:function(){return Math.abs(this.end-this.start)},equal:function(t){return this.cmp(t,"eq","eq")},shift:function(t){return this.start+=t,this.end+=t,this},overlap:function(t){return t.start<=this.end&&t.end>=this.start},intersection:function(t){if(this.overlap(t)){var e=Math.max(t.start,this.start);return new r(e,Math.min(t.end,this.end)-e)}return null},union:function(t){if(this.overlap(t)){var e=Math.min(t.start,this.start);return new r(e,Math.max(t.end,this.end)-e)}return null},inside:function(t){return this.cmp(t,"lte","gt")},contains:function(t){return this.cmp(t,"lt","gt")},include:function(t){return this.cmp(t,"lte","gte")},cmp:function(t,e,i){var o;return t instanceof r?(o=t.start,t=t.end):o=t,n(this.start,o,e||"<=")&&n(this.end,t,i||">")},substring:function(t){return this.length()>0?t.substring(this.start,this.end):""},clone:function(){return new r(this.start,this.length())},toArray:function(){return[this.start,this.end]},toString:function(){return this.valueOf()},valueOf:function(){return"{"+this.start+", "+this.length()+"}"}},{create:function(t,n){return e.isUndefined(t)||null===t?null:t instanceof r?t:(e.isObject(t)&&"start"in t&&"end"in t&&(n=t.end-t.start,t=t.start),new r(t,n))},create2:function(t,n){return e.isNumber(t)&&e.isNumber(n)&&(n-=t),this.create(t,n)}}}),emmet.define("handlerList",function(t,e){function n(){this._list=[]}return n.prototype={add:function(t,n){this._list.push(e.extend({order:0},n||{},{fn:t}))},remove:function(t){this._list=e.without(this._list,e.find(this._list,function(e){return e.fn===t}))},list:function(){return e.sortBy(this._list,"order").reverse()},listFn:function(){return e.pluck(this.list(),"fn")},exec:function(t,n){var n=n||[],r=null;return e.find(this.list(),function(e){return r=e.fn.apply(e,n),r!==t?!0:void 0}),r}},{create:function(){return new n}}}),emmet.define("tokenIterator",function(t,e){function n(t){this.tokens=t,this._position=0,this.reset()}return n.prototype={next:function(){if(this.hasNext()){var t=this.tokens[++this._i];return this._position=t.start,t}return null},current:function(){return this.tokens[this._i]},position:function(){return this._position},hasNext:function(){return this._i<this._il-1},reset:function(){this._i=-1,this._il=this.tokens.length},item:function(){return this.tokens[this._i]},itemNext:function(){return this.tokens[this._i+1]},itemPrev:function(){return this.tokens[this._i-1]},nextUntil:function(t,n){for(var r,i=e.isString(t)?function(e){return e.type==t}:t;(r=this.next())&&(n&&n.call(this,r),!i.call(this,r)););}},{create:function(t){return new n(t)}}}),emmet.define("stringStream",function(){function t(t){this.pos=this.start=0,this.string=t}return t.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0===this.pos},peek:function(){return this.string.charAt(this.pos)},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(t){var e=this.string.charAt(this.pos);return("string"==typeof t?e==t:e&&(t.test?t.test(e):t(e)))?(++this.pos,e):void 0},eatWhile:function(t){for(var e=this.pos;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){return t=this.string.indexOf(t,this.pos),t>-1?(this.pos=t,!0):void 0},skipToPair:function(t,e){for(var n,r=0,i=this.pos,o=this.string.length;o>i;)if(n=this.string.charAt(i++),n==t)r++;else if(n==e&&(r--,1>r))return this.pos=i,!0;return!1},backUp:function(t){this.pos-=t},match:function(t,e,n){return"string"!=typeof t?((t=this.string.slice(this.pos).match(t))&&e!==!1&&(this.pos+=t[0].length),t):(n=n?function(t){return t.toLowerCase()}:function(t){return t},n(this.string).indexOf(n(t),this.pos)==this.pos?(e!==!1&&(this.pos+=t.length),!0):void 0)},current:function(){return this.string.slice(this.start,this.pos)}},{create:function(e){return new t(e)}}}),emmet.define("resources",function(t,e){function n(e,n,r){var o=t("utils"),n=o.replaceUnescapedSymbol(n,"|",o.getCaretPlaceholder());if("snippets"==r)return t("elements").create("snippet",n);if("abbreviations"==r){r=n,t("utils").trim(e);var a,e=t("elements");return(a=i.exec(r))?e.create("element",a[1],a[2],"/"==a[4]):e.create("reference",r)}}var r={},i=/^<(\w+\:?[\w\-]*)((?:\s+[\w\:\-]+\s*=\s*(['"]).*?\3)*)\s*(\/?)>/,o={},a={},s=t("handlerList").create();return{setVocabulary:function(t,e){r={},"system"==e?o=t:a=t},getVocabulary:function(t){return"system"==t?o:a},getMatchedResource:function(t,n){return s.exec(null,e.toArray(arguments))||this.findSnippet(n,t.name())},getVariable:function(t){return(this.getSection("variables")||{})[t]},setVariable:function(t,e){var n=this.getVocabulary("user")||{};"variables"in n||(n.variables={}),n.variables[t]=e,this.setVocabulary(n,"user")},hasSyntax:function(t){return t in this.getVocabulary("user")||t in this.getVocabulary("system")},addResolver:function(t,e){s.add(t,e)},removeResolver:function(t){s.remove(t)},getSection:function(n){if(!n)return null;n in r||(r[n]=t("utils").deepMerge({},o[n],a[n]));for(var i,s=r[n],l=e.rest(arguments);s&&(i=l.shift());){if(!(i in s))return null;s=s[i]}return s},findItem:function(t,e){for(var n=this.getSection(t);n;){if(e in n)return n[e];n=this.getSection(n["extends"])}},findSnippet:function(t,r,i){if(!t||!r)return null;var i=i||[],o=[r];~r.indexOf("-")&&o.push(r.replace(/\-/g,":"));var a=this.getSection(t),s=null;return e.find(["snippets","abbreviations"],function(r){var i=this.getSection(t,r);return i?e.find(o,function(t){return i[t]?s=n(t,i[t],r):void 0}):void 0},this),i.push(t),s||!a["extends"]||e.include(i,a["extends"])?s:this.findSnippet(a["extends"],r,i)},fuzzyFindSnippet:function(n,r,i){var i=i||.3,n=this.getAllSnippets(n),o=t("string-score"),r=r.replace(/:$/,"").replace(/:/g,"-"),a=e.map(n,function(t,e){return{key:e,score:o.score(t.nk,r,.1)}});return(a=e.last(e.sortBy(a,"score")))&&a.score>=i?n[a.key].parsedValue:void 0},getAllSnippets:function(t){var i="all-"+t;if(!r[i]){var o=[],a=[];do{var s=this.getSection(t);if(!s)break;e.each(["snippets","abbreviations"],function(t){var r={};e.each(s[t]||null,function(e,i){r[i]={nk:i.replace(/:$/,"").replace(/:/g,"-"),value:e,parsedValue:n(i,e,t),type:t}}),o.push(r)}),a.push(t),t=s["extends"]}while(t&&!e.include(a,t));r[i]=e.extend.apply(e,o.reverse())}return r[i]}}}),emmet.define("actions",function(t,e){function n(e){return t("utils").trim(e.charAt(0).toUpperCase()+e.substring(1).replace(/_[a-z]/g,function(t){return" "+t.charAt(1).toUpperCase()}))}var r={};return{add:function(t,e,i){t=t.toLowerCase(),i=i||{},i.label||(i.label=n(t)),r[t]={name:t,fn:e,options:i}},get:function(t){return r[t.toLowerCase()]},run:function(t,n){e.isArray(n)||(n=e.rest(arguments));var r=this.get(t);return r?r.fn.apply(emmet,n):(emmet.log('Action "%s" is not defined',t),!1)},getAll:function(){return r},getList:function(){return e.values(this.getAll())},getMenu:function(t){var r=[],t=t||[];return e.each(this.getList(),function(i){if(!i.options.hidden&&!e.include(t,i.name)){var o=n(i.name),a=r;if(i.options.label)for(var s,l,u=i.options.label.split("/"),o=u.pop();s=u.shift();)l=e.find(a,function(t){return"submenu"==t.type&&t.name==s}),l||(l={name:s,type:"submenu",items:[]},a.push(l)),a=l.items;a.push({type:"action",name:i.name,label:o})}}),r},getActionNameForMenuTitle:function(t,n){var r=null;return e.find(n||this.getMenu(),function(e){return"action"!=e.type?r=this.getActionNameForMenuTitle(t,e.items):e.label==t||e.name==t?r=e.name:void 0},this),r||null}}}),emmet.define("profile",function(t,e){function n(t){e.extend(this,s,t)}function r(t,e){switch(((e||"")+"").toLowerCase()){case"lower":return t.toLowerCase();case"upper":return t.toUpperCase()}return t}function i(t,e){return a[t.toLowerCase()]=new n(e)}function o(){i("xhtml"),i("html",{self_closing_tag:!1}),i("xml",{self_closing_tag:!0,tag_nl:!0}),i("plain",{tag_nl:!1,indent:!1,place_cursor:!1}),i("line",{tag_nl:!1,indent:!1,extraFilters:"s"})}var a={},s={tag_case:"asis",attr_case:"asis",attr_quotes:"double",tag_nl:"decide",tag_nl_leaf:!1,place_cursor:!0,indent:!0,inline_break:3,self_closing_tag:"xhtml",filters:"",extraFilters:""};return n.prototype={tagName:function(t){return r(t,this.tag_case)},attributeName:function(t){return r(t,this.attr_case)},attributeQuote:function(){return"single"==this.attr_quotes?"'":'"'},selfClosing:function(){return"xhtml"==this.self_closing_tag?" /":this.self_closing_tag===!0?"/":""},cursor:function(){return this.place_cursor?t("utils").getCaretPlaceholder():""}},o(),{create:function(t,r){return 2==arguments.length?i(t,r):new n(e.defaults(t||{},s))},get:function(r,i){if(!r&&i){var o=t("resources").findItem(i,"profile");o&&(r=o)}return r?r instanceof n?r:e.isString(r)&&r.toLowerCase()in a?a[r.toLowerCase()]:this.create(r):a.plain},remove:function(t){t=(t||"").toLowerCase(),t in a&&delete a[t]},reset:function(){a={},o()},stringCase:r}}),emmet.define("editorUtils",function(t){return{isInsideTag:function(t,e){for(var n=/^<\/?\w[\w\:\-]*.*?>/,r=e;r>-1&&"<"!=t.charAt(r);)r--;return-1!=r&&(n=n.exec(t.substring(r)))&&e>r&&r+n[0].length>e?!0:!1},outputInfo:function(t,e,n){return n=n||t.getProfileName(),{syntax:(e||t.getSyntax())+"",profile:n||null,content:t.getContent()+""}},unindent:function(e,n){return t("utils").unindentString(n,this.getCurrentLinePadding(e))},getCurrentLinePadding:function(e){return t("utils").getLinePadding(e.getCurrentLine())}}}),emmet.define("actionUtils",function(t,e){return{mimeTypes:{gif:"image/gif",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",svg:"image/svg+xml",html:"text/html",htm:"text/html"},extractAbbreviation:function(e){for(var n=e.length,r=-1,i=0,o=0,a=0,s=t("utils"),l=t("abbreviationParser");;){if(n--,0>n){r=0;break}var u=e.charAt(n);if("]"==u)o++;else if("["==u){if(!o){r=n+1;break}o--}else if("}"==u)a++;else if("{"==u){if(!a){r=n+1;break}a--}else if(")"==u)i++;else if("("==u){if(!i){r=n+1;break}i--}else if(!o&&!a&&(!l.isAllowedChar(u)||">"==u&&s.endsWithTag(e.substring(0,n+1)))){r=n+1;break}}return-1==r||a||o||i?"":e.substring(r).replace(/^[\*\+\>\^]+/,"")},getImageSize:function(t){var e=0,n=function(){return t.charCodeAt(e++)};if("PNG\r\n\n"===t.substr(0,8))return e=t.indexOf("IHDR")+4,{width:n()<<24|n()<<16|n()<<8|n(),height:n()<<24|n()<<16|n()<<8|n()};if("GIF8"===t.substr(0,4))return e=6,{width:n()|n()<<8,height:n()|n()<<8};if("ÿØ"===t.substr(0,2))for(var e=2,r=t.length;r>e&&255==n();){var i=n();if(218==i)break;var o=n()<<8|n();if(!(!(i>=192&&207>=i)||4&i||8&i))return e+=1,{height:n()<<8|n(),width:n()<<8|n()};e+=o-2}},captureContext:function(n){if(n.getSyntax()+""in{html:1,xml:1,xsl:1}){var r=n.getContent()+"";if((n=t("htmlMatcher").find(r,n.getCaretPos()))&&"tag"==n.type){var i=n.open,n={name:i.name,attributes:[]};return(r=t("xmlEditTree").parse(i.range.substring(r)))&&(n.attributes=e.map(r.getAll(),function(t){return{name:t.name(),value:t.value()}})),n}}return null},findExpressionBounds:function(e,n){for(var r=e.getContent()+"",i=r.length,o=e.getCaretPos()-1,a=o+1;o>=0&&n(r.charAt(o),o,r);)o--;for(;i>a&&n(r.charAt(a),a,r);)a++;return a>o?t("range").create([++o,a]):void 0},compoundUpdate:function(t,e){if(e){var n=t.getSelectionRange();return t.replaceContent(e.data,e.start,e.end,!0),t.createSelection(e.caret,e.caret+n.end-n.start),!0}return!1},detectSyntax:function(e,n){var r=n||"html";return t("resources").hasSyntax(r)||(r="html"),"html"==r&&(this.isStyle(e)||this.isInlineCSS(e))&&(r="css"),"styl"==r&&(r="stylus"),r},detectProfile:function(e){var n=e.getSyntax(),r=t("resources").findItem(n,"profile");if(r)return r;switch(n){case"xml":case"xsl":return"xml";case"css":if(this.isInlineCSS(e))return"line";break;case"html":return(r=t("resources").getVariable("profile"))||(r=this.isXHTML(e)?"xhtml":"html"),r}return"xhtml"},isXHTML:function(t){return-1!=t.getContent().search(/<!DOCTYPE[^>]+XHTML/i)},isStyle:function(e){var n=e.getContent()+"",e=e.getCaretPos();return(n=t("htmlMatcher").tag(n,e))&&"style"==n.open.name.toLowerCase()&&n.innerRange.cmp(e,"lte","gte")},isInlineCSS:function(e){var n=e.getContent()+"",e=e.getCaretPos();return(n=t("xmlEditTree").parseFromPosition(n,e,!0))?(n=n.itemFromPosition(e,!0))&&"style"==n.name().toLowerCase()&&n.valueRange(!0).cmp(e,"lte","gte"):!1}}}),emmet.define("abbreviationUtils",function(t,e){return{isUnary:function(t){return t.children.length||t._text||this.isSnippet(t)?!1:(t=t.matchedResource())&&t.is_empty},isInline:function(e){return e.isTextNode()||!e.name()||t("tagName").isInlineLevel(e.name())},isBlock:function(t){return this.isSnippet(t)||!this.isInline(t)},isSnippet:function(e){return t("elements").is(e.matchedResource(),"snippet")},hasTagsInContent:function(e){return t("utils").matchesTag(e.content)},hasBlockChildren:function(t){return this.hasTagsInContent(t)&&this.isBlock(t)||e.any(t.children,function(t){return this.isBlock(t)},this)},insertChildContent:function(n,r,i){var i=e.extend({keepVariable:!0,appendIfNoChild:!0},i||{}),o=!1,a=t("utils"),n=a.replaceVariables(n,function(t,e,s){var l=t;return"child"==e&&(l=a.padString(r,a.getLinePaddingFromPosition(n,s.start)),o=!0,i.keepVariable&&(l+=t)),l});return!o&&i.appendIfNoChild&&(n+=r),n}}}),emmet.define("base64",function(){return{encode:function(t){for(var e,n,r,i,o,a,s=[],l=0,u=t.length;u>l;)i=t.charCodeAt(l++),o=t.charCodeAt(l++),a=t.charCodeAt(l++),e=255&i,n=255&o,r=255&a,i=e>>2,e=(3&e)<<4|n>>4,n=(15&n)<<2|r>>6,r&=63,isNaN(o)?n=r=64:isNaN(a)&&(r=64),s.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(i)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(n)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(r));return s.join("")},decode:function(t){var e,n,r,i,o,a=0,s=0,l=[],u=t.length;if(!t)return t;t+="";do e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(t.charAt(a++)),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(t.charAt(a++)),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(t.charAt(a++)),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(t.charAt(a++)),r=e<<18|n<<12|i<<6|o,e=255&r>>16,n=255&r>>8,r&=255,l[s++]=64==i?String.fromCharCode(e):64==o?String.fromCharCode(e,n):String.fromCharCode(e,n,r);while(u>a);return l.join("")}}}),emmet.define("htmlMatcher",function(t,e){function n(e){var n,r={};return{open:function(t){return(t=this.matches(t))&&"open"==t.type?t:null},close:function(t){return(t=this.matches(t))&&"close"==t.type?t:null},matches:function(i){var s="p"+i;if(!(s in r)&&"<"==e.charAt(i)){var l=e.slice(i);r[s]=(n=l.match(o))?{name:n[1],selfClose:!!n[3],range:t("range").create(i,n[0]),type:"open"}:(n=l.match(a))?{name:n[1],range:t("range").create(i,n[0]),type:"close"}:!1}return r[s]},text:function(){return e}}}function r(t,e,n){return t.substring(e,e+n.length)==n}function i(t,n){for(var i=[],o=null,a=n.text(),s=t.range.end,l=a.length;l>s;s++){if(r(a,s,"<!--"))for(o=s;l>o;o++)if(r(a,o,"-->")){s=o+3;break}if(o=n.matches(s))if("open"!=o.type||o.selfClose){if("close"==o.type){if(!i.length)return o.name==t.name?o:null;if(e.last(i)==o.name)i.pop();else{for(var u=!1;i.length&&!u;)i.pop()==o.name&&(u=!0);if(!i.length&&!u)return o.name==t.name?o:null}}}else i.push(o.name)}}var o=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,a=/^<\/([\w\:\-]+)[^>]*>/;return{find:function(o,a){for(var s,l=t("range"),u=n(o),c=null,f=null,d=a;d>=0;d--)if(c=u.open(d))if(c.selfClose){if(c.range.cmp(a,"lt","gt"))break}else{if(f=i(c,u)){if(l.create2(c.range.start,f.range.end).contains(a))break}else if(c.range.contains(a))break;c=null}else if(r(o,d,"-->")){for(s=d-1;s>=0&&!r(o,s,"-->");s--)if(r(o,s,"<!--")){d=s;break}}else if(r(o,d,"<!--")){for(s=d+4,c=o.length;c>s;s++)if(r(o,s,"-->")){s+=3;break}c={range:t("range").create(d,e.isNumber(s)?s-d:s[0]),type:"comment"};break}return c?(d=s=null,f?(s=l.create2(c.range.start,f.range.end),d=l.create2(c.range.end,f.range.start)):s=d=l.create2(c.range.start,c.range.end),"comment"==c.type&&(l=s.substring(o),d.start+=l.length-l.replace(/^<\!--\s*/,"").length,d.end-=l.length-l.replace(/\s*--\>$/,"").length),{open:c,close:f,type:"comment"==c.type?"comment":"tag",innerRange:d,innerContent:function(){return this.innerRange.substring(o)},outerRange:s,outerContent:function(){return this.outerRange.substring(o)},range:d.length()&&d.cmp(a,"lte","gte")?d:s,content:function(){return this.range.substring(o)},source:o}):void 0},tag:function(t,e){var n=this.find(t,e);return n&&"tag"==n.type?n:void 0}}}),emmet.define("tabStops",function(t,e){var n=100,r=0,i={replaceCarets:!1,escape:function(t){return"\\"+t},tabstop:function(t){return t.token},variable:function(t){return t.token}};return t("abbreviationParser").addOutputProcessor(function(e,n){var i=0,o=t("tabStops"),a=t("utils"),s={tabstop:function(t){var e=parseInt(t.group,10);return 0===e?"${0}":(e>i&&(i=e),t.placeholder?(e+=r,t=o.processText(t.placeholder,s),"${"+e+":"+t+"}"):"${"+(e+r)+"}")}},e=o.processText(e,s),e=a.replaceVariables(e,o.variablesResolver(n));return r+=i+1,e}),{extract:function(n,r){var o=t("utils"),a={carets:""},s=[],r=e.extend({},i,r,{tabstop:function(t){var e=t.token,n="";return"cursor"==t.placeholder?s.push({start:t.start,end:t.start+e.length,group:"carets",value:""}):("placeholder"in t&&(a[t.group]=t.placeholder),t.group in a&&(n=a[t.group]),s.push({start:t.start,end:t.start+e.length,group:t.group,value:n})),e}});r.replaceCarets&&(n=n.replace(RegExp(o.escapeForRegexp(o.getCaretPlaceholder()),"g"),"${0:cursor}"));var n=this.processText(n,r),l="",u=0,o=e.map(s,function(t){l+=n.substring(u,t.start);var e=l.length,r=a[t.group]||"";return l+=r,u=t.end,{group:t.group,start:e,end:e+r.length}});return l+=n.substring(u),{text:l,tabstops:e.sortBy(o,"start")}},processText:function(n,r){for(var o,a,r=e.extend({},i,r),s="",l=t("stringStream").create(n);o=l.next();)"\\"!=o||l.eol()?(a=o,"$"==o&&(l.start=l.pos-1,l.match(/^[0-9]+/)?a=r.tabstop({start:s.length,group:l.current().substr(1),token:l.current()}):(o=l.match(/^\{([a-z_\-][\w\-]*)\}/))?a=r.variable({start:s.length,name:o[1],token:l.current()}):(o=l.match(/^\{([0-9]+)(:.+?)?\}/,!1))&&(l.skipToPair("{","}"),a={start:s.length,group:o[1],token:l.current()},(o=a.token.substring(a.group.length+2,a.token.length-1))&&(a.placeholder=o.substr(1)),a=r.tabstop(a))),s+=a):s+=r.escape(l.next());return s},upgrade:function(t,n){var r=0,i={tabstop:function(t){var e=parseInt(t.group,10);return e>r&&(r=e),t.placeholder?"${"+(e+n)+":"+t.placeholder+"}":"${"+(e+n)+"}"}};return e.each(["start","end","content"],function(e){t[e]=this.processText(t[e],i)},this),r},variablesResolver:function(r){var i={},o=t("resources");return function(a,s){if("child"==s)return a;if("cursor"==s)return t("utils").getCaretPlaceholder();var l=r.attribute(s);return e.isUndefined(l)||l===a?(l=o.getVariable(s))?l:(i[s]||(i[s]=n++),"${"+i[s]+":"+s+"}"):l}},resetTabstopIndex:function(){r=0,n=100}}}),emmet.define("preferences",function(t,e){var n={},r={},i=null,o=null;return{define:function(t,n,i){var o=t;e.isString(t)&&(o={},o[t]={value:n,description:i}),e.each(o,function(t,n){r[n]=e.isObject(t)&&"value"in t&&3>e.keys(t).length?t:{value:t}})},set:function(t,i){var o=t;e.isString(t)&&(o={},o[t]=i),e.each(o,function(t,i){if(!(i in r))throw'Property "'+i+'" is not defined. You should define it first with `define` method of current module';if(t!==r[i].value){switch(typeof r[i].value){case"boolean":var o=t;e.isString(o)?(o=o.toLowerCase(),t="yes"==o||"true"==o||"1"==o):t=!!o;break;case"number":t=parseInt(t+"",10)||0;break;default:null!==t&&(t+="")}n[i]=t}else i in n&&delete n[i]})},get:function(t){return t in n?n[t]:t in r?r[t].value:void 0},getArray:function(n){return n=this.get(n),e.isUndefined(n)||null===n||""===n?null:(n=e.map(n.split(","),t("utils").trim),n.length?n:null)},getDict:function(t){var n={};return e.each(this.getArray(t),function(t){t=t.split(":"),n[t[0]]=t[1]}),n},description:function(t){return t in r?r[t].description:void 0
},remove:function(t){e.isArray(t)||(t=[t]),e.each(t,function(t){t in n&&delete n[t],t in r&&delete r[t]})},list:function(){return e.map(e.keys(r).sort(),function(t){return{name:t,value:this.get(t),type:typeof r[t].value,description:r[t].description}},this)},load:function(t){e.each(t,function(t,e){this.set(e,t)},this)},exportModified:function(){return e.clone(n)},reset:function(){n={}},_startTest:function(){i=r,o=n,r={},n={}},_stopTest:function(){r=i,n=o}}}),emmet.define("filters",function(t,e){function n(t){return t?e.isString(t)?t.split(/[\|,]/g):t:[]}var r={};return{add:function(t,e){r[t]=e},apply:function(i,o,a){var s=t("utils"),a=t("profile").get(a);return e.each(n(o),function(t){(t=s.trim(t.toLowerCase()))&&t in r&&(i=r[t](i,a))}),i},composeList:function(e,r,i){return r=t("profile").get(r),e=n(r.filters||t("resources").findItem(e,"filters")||"html"),r.extraFilters&&(e=e.concat(n(r.extraFilters))),i&&(e=e.concat(n(i))),e&&e.length||(e=n("html")),e},extractFromAbbreviation:function(t){var e="",t=t.replace(/\|([\w\|\-]+)$/,function(t,n){return e=n,""});return[t,n(e)]}}}),emmet.define("elements",function(t,e){function n(t){return{data:t}}var r={},i=/([\w\-:]+)\s*=\s*(['"])(.*?)\2/g,o={add:function(t,e){var n=this;r[t]=function(){var r=e.apply(n,arguments);return r&&(r.type=t),r}},get:function(t){return r[t]},create:function(t){var e=[].slice.call(arguments,1),n=this.get(t);return n?n.apply(this,e):null},is:function(t,e){return t&&t.type===e}};return o.add("element",function(t,n,r){var o={name:t,is_empty:!!r};if(n)if(o.attributes=[],e.isArray(n))o.attributes=n;else if(e.isString(n))for(;t=i.exec(n);)o.attributes.push({name:t[1],value:t[3]});else e.each(n,function(t,e){o.attributes.push({name:e,value:t})});return o}),o.add("snippet",n),o.add("reference",n),o.add("empty",function(){return{}}),o}),emmet.define("editTree",function(t,e,n){function r(t,n){this.options=e.extend({offset:0},n),this.source=t,this._children=[],this._positions={name:0},this.initialize.apply(this,arguments)}function i(t,e,n){this.parent=t,this._name=e.value,this._value=n?n.value:"",this._positions={name:e.start,value:n?n.start:-1},this.initialize.apply(this,arguments)}var o=t("range").create;return r.extend=n.extend,r.prototype={initialize:function(){},_updateSource:function(n,r,i){var a=o(r,e.isUndefined(i)?0:i-r),s=n.length-a.length(),l=function(t){e.each(t,function(e,n){e>=a.end&&(t[n]+=s)})};l(this._positions),e.each(this.list(),function(t){l(t._positions)}),this.source=t("utils").replaceSubstring(this.source,n,a)},add:function(t,e){var n=new i(t,e);return this._children.push(n),n},get:function(t){return e.isNumber(t)?this.list()[t]:e.isString(t)?e.find(this.list(),function(e){return e.name()===t}):t},getAll:function(t){e.isArray(t)||(t=[t]);var n=[],r=[];return e.each(t,function(t){e.isString(t)?n.push(t):e.isNumber(t)&&r.push(t)}),e.filter(this.list(),function(t,i){return e.include(r,i)||e.include(n,t.name())})},value:function(t,n,r){var i=this.get(t);return i?i.value(n):e.isUndefined(n)?void 0:this.add(t,n,r)},values:function(t){return e.map(this.getAll(t),function(t){return t.value()})},remove:function(t){(t=this.get(t))&&(this._updateSource("",t.fullRange()),this._children=e.without(this._children,t))},list:function(){return this._children},indexOf:function(t){return e.indexOf(this.list(),this.get(t))},name:function(t){return e.isUndefined(t)||this._name===(t+="")||(this._updateSource(t,this._positions.name,this._positions.name+this._name.length),this._name=t),this._name},nameRange:function(t){return o(this._positions.name+(t?this.options.offset:0),this.name())},range:function(t){return o(t?this.options.offset:0,this.valueOf())},itemFromPosition:function(t,n){return e.find(this.list(),function(e){return e.range(n).inside(t)})},toString:function(){return this.valueOf()},valueOf:function(){return this.source}},i.extend=n.extend,i.prototype={initialize:function(){},_pos:function(t,e){return t+(e?this.parent.options.offset:0)},value:function(t){return e.isUndefined(t)||this._value===(t+="")||(this.parent._updateSource(t,this.valueRange()),this._value=t),this._value},name:function(t){return e.isUndefined(t)||this._name===(t+="")||(this.parent._updateSource(t,this.nameRange()),this._name=t),this._name},namePosition:function(t){return this._pos(this._positions.name,t)},valuePosition:function(t){return this._pos(this._positions.value,t)},range:function(t){return o(this.namePosition(t),this.valueOf())},fullRange:function(t){return this.range(t)},nameRange:function(t){return o(this.namePosition(t),this.name())},valueRange:function(t){return o(this.valuePosition(t),this.value())},toString:function(){return this.valueOf()},valueOf:function(){return this.name()+this.value()}},{EditContainer:r,EditElement:i,createToken:function(t,e,n){return t={start:t||0,value:e||"",type:n},t.end=t.start+t.value.length,t}}}),emmet.define("cssEditTree",function(t,e){function n(e,n){return t("range").create(e,n)}function r(t,n){var n=n||s|l,r=["white","line"];if((n&l)==l)for(;t.length&&e.include(r,e.last(t).type);)t.pop();if((n&s)==s)for(;t.length&&e.include(r,t[0].type);)t.shift();return t}function i(t){var i,o,a=["white","line",":"],u=[];for(t.nextUntil(function(){return!e.include(a,this.itemNext().type)}),o=t.current().end;i=t.next();){if("}"==i.type||";"==i.type)return r(u,s|("}"==i.type?l:0)),u.length?(o=u[0].start,t=e.last(u).end):t=o,n(o,t-o);u.push(i)}return u.length?n(u[0].start,e.last(u).end-u[0].start):void 0}function o(r){var i=t("stringStream").create(r),o=[],a=/[\s\u00a0,]/,s=function(){i.next(),o.push(n(i.start,i.current())),i.start=i.pos};for(i.eatSpace(),i.start=i.pos;r=i.next();)if('"'==r||"'"==r){if(i.next(),!i.skipTo(r))break;s()}else if("("==r){if(i.backUp(1),!i.skipToPair("(",")"))break;i.backUp(1),s()}else a.test(r)&&(o.push(n(i.start,i.current().length-1)),i.eatWhile(a),i.start=i.pos);return s(),e.chain(o).filter(function(t){return!!t.length()}).uniq(!1,function(t){return""+t}).value()}var a={styleBefore:"\n	",styleSeparator:": ",offset:0},s=1,l=2,u=t("editTree").EditContainer.extend({initialize:function(o){e.defaults(this.options,a);var s,l,u=t("editTree"),f=t("tokenIterator").create(t("cssParser").parse(o)),d=[];for(s=f.position();(l=f.next())&&"{"!=l.type;)d.push(l);if(r(d),d.length?(s=d[0].start,d=e.last(d).end):d=s,s=n(s,d-s),this._positions.name=s.start,this._name=s.substring(o),!f.current()||"{"!=f.current().type)throw"Invalid CSS rule";for(this._positions.contentStart=f.position()+1;s=f.next();){if(d="identifier"==s.type)t:{d=f.tokens,l=f._i+1;for(var h=d.length;h>l;l++){if(":"==d[l].type){d=!0;break t}if("identifier"==d[l].type||"line"==d[l].type){d=!1;break t}}d=!1}d&&(s=n(s),d=i(f),l=f.current()&&";"==f.current().type?n(f.current()):n(d.end,0),this._children.push(new c(this,u.createToken(s.start,s.substring(o)),u.createToken(d.start,d.substring(o)),u.createToken(l.start,l.substring(o)))))}this._saveStyle()},_saveStyle:function(){var n=this._positions.contentStart,r=this.source,i=t("utils");e.each(this.list(),function(t){t.styleBefore=r.substring(n,t.namePosition());var o=i.splitByLines(t.styleBefore);o.length>1&&(t.styleBefore="\n"+e.last(o)),t.styleSeparator=r.substring(t.nameRange().end,t.valuePosition()),t.styleBefore=e.last(t.styleBefore.split("*/")),t.styleSeparator=t.styleSeparator.replace(/\/\*.*?\*\//g,""),n=t.range().end})},add:function(n,r,i){var o=this.list(),a=this._positions.contentStart,s=e.pick(this.options,"styleBefore","styleSeparator"),l=t("editTree");e.isUndefined(i)&&(i=o.length);var u=o[i];return u?a=u.fullRange().start:(u=o[i-1])&&(u.end(";"),a=u.range().end),u&&(s=e.pick(u,"styleBefore","styleSeparator")),n=l.createToken(a+s.styleBefore.length,n),r=l.createToken(n.end+s.styleSeparator.length,r),l=new c(this,n,r,l.createToken(r.end,";")),e.extend(l,s),this._updateSource(l.styleBefore+(""+l),a),this._children.splice(i,0,l),l}}),c=t("editTree").EditElement.extend({initialize:function(t,e,n,r){this.styleBefore=t.options.styleBefore,this.styleSeparator=t.options.styleSeparator,this._end=r.value,this._positions.end=r.start},valueParts:function(t){var n=o(this.value());if(t){var r=this.valuePosition(!0);e.each(n,function(t){t.shift(r)})}return n},end:function(t){return e.isUndefined(t)||this._end===t||(this.parent._updateSource(t,this._positions.end,this._positions.end+this._end.length),this._end=t),this._end},fullRange:function(t){return t=this.range(t),t.start-=this.styleBefore.length,t},valueOf:function(){return this.name()+this.styleSeparator+this.value()+this.end()}});return{parse:function(t,e){return new u(t,e)},parseFromPosition:function(t,e,n){return n=this.extractRule(t,e,n),n&&n.inside(e)?this.parse(n.substring(t),{offset:n.start}):null},extractRule:function(e,n,r){for(var i,o="",a=e.length,s=-1;n>=0;){if(i=e.charAt(n),"{"==i){s=n;break}if("}"==i&&!r){n++;break}n--}for(;a>n;){if(i=e.charAt(n),"{"==i)s=n;else if("}"==i){-1!=s&&(o=e.substring(s,n+1));break}n++}if(o){for(n=s-1,r="";n>=0&&(i=e.charAt(n),-1=="{}/\\<>\n\r".indexOf(i));)n--;return r=e.substring(n+1,s).replace(/^[\s\n\r]+/m,""),t("range").create(s-r.length,o.length+r.length)}return null},baseName:function(t){return t.replace(/^\s*\-\w+\-/,"")},findParts:o}}),emmet.define("xmlEditTree",function(t,e){var n={styleBefore:" ",styleSeparator:"=",styleQuote:'"',offset:0},r=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/m,i=t("editTree").EditContainer.extend({initialize:function(r){e.defaults(this.options,n),this._positions.name=1;var i=null,a=t("xmlParser").parse(r),s=t("range");e.each(a,function(t){switch(t.value=s.create(t).substring(r),t.type){case"tag":/^<[^\/]+/.test(t.value)&&(this._name=t.value.substring(1));break;case"attribute":i&&this._children.push(new o(this,i)),i=t;break;case"string":this._children.push(new o(this,i,t)),i=null}},this),i&&this._children.push(new o(this,i)),this._saveStyle()},_saveStyle:function(){var t=this.nameRange().end,n=this.source;e.each(this.list(),function(e){e.styleBefore=n.substring(t,e.namePosition()),-1!==e.valuePosition()&&(e.styleSeparator=n.substring(e.namePosition()+e.name().length,e.valuePosition()-e.styleQuote.length)),t=e.range().end})},add:function(n,r,i){var a=this.list(),s=this.nameRange().end,l=t("editTree"),u=e.pick(this.options,"styleBefore","styleSeparator","styleQuote");e.isUndefined(i)&&(i=a.length);var c=a[i];return c?s=c.fullRange().start:(c=a[i-1])&&(s=c.range().end),c&&(u=e.pick(c,"styleBefore","styleSeparator","styleQuote")),r=u.styleQuote+r+u.styleQuote,n=new o(this,l.createToken(s+u.styleBefore.length,n),l.createToken(s+u.styleBefore.length+n.length+u.styleSeparator.length,r)),e.extend(n,u),this._updateSource(n.styleBefore+(""+n),s),this._children.splice(i,0,n),n}}),o=t("editTree").EditElement.extend({initialize:function(t,e,n){this.styleBefore=t.options.styleBefore,this.styleSeparator=t.options.styleSeparator,e="",t=t.options.styleQuote,n&&(e=n.value,t=e.charAt(0),'"'==t||"'"==t?e=e.substring(1):t="",t&&e.charAt(e.length-1)==t&&(e=e.substring(0,e.length-1))),this.styleQuote=t,this._value=e,this._positions.value=n?n.start+t.length:-1},fullRange:function(t){return t=this.range(t),t.start-=this.styleBefore.length,t},valueOf:function(){return this.name()+this.styleSeparator+this.styleQuote+this.value()+this.styleQuote}});return{parse:function(t,e){return new i(t,e)},parseFromPosition:function(t,e,n){return n=this.extractTag(t,e,n),n&&n.inside(e)?this.parse(n.substring(t),{offset:n.start}):null},extractTag:function(e,n,i){var o,a=e.length,s=t("range"),l=Math.min(2e3,a),u=null,c=function(t){var n;return"<"==e.charAt(t)&&(n=e.substr(t,l).match(r))?s.create(t,n[0]):void 0};for(o=n;o>=0&&!(u=c(o));o--);if(u&&(u.inside(n)||i))return u;if(!u&&i)return null;for(o=n;a>o;o++)if(u=c(o))return u}}}),emmet.define("expandAbbreviation",function(t,e){var n=t("handlerList").create(),r=null,i=t("actions");return i.add("expand_abbreviation",function(r,i,o){var a=e.toArray(arguments),s=t("editorUtils").outputInfo(r,i,o);return a[1]=s.syntax,a[2]=s.profile,n.exec(!1,a)}),i.add("expand_abbreviation_with_tab",function(e,n,r){var o=e.getSelection(),a=t("resources").getVariable("indentation");return o?(r=t("utils"),n=t("range").create(e.getSelectionRange()),o=r.padString(o,a),e.replaceContent(a+"${0}",e.getCaretPos()),a=t("range").create(e.getCaretPos(),n.length()),e.replaceContent(o,a.start,a.end,!0),e.createSelection(a.start,a.start+o.length),!0):(i.run("expand_abbreviation",e,n,r)||e.replaceContent(a,e.getCaretPos()),!0)},{hidden:!0}),n.add(function(e,n,i){var o=e.getSelectionRange().end,a=r.findAbbreviation(e);return a&&(n=emmet.expandAbbreviation(a,n,i,t("actionUtils").captureContext(e)))?(e.replaceContent(n,o-a.length,o),!0):!1},{order:-1}),r={addHandler:function(t,e){n.add(t,e)},removeHandler:function(t){n.remove(t)},findAbbreviation:function(e){var n=t("range").create(e.getSelectionRange()),r=e.getContent()+"";return n.length()?n.substring(r):(e=e.getCurrentLineRange(),t("actionUtils").extractAbbreviation(r.substring(e.start,n.start)))}}}),emmet.define("wrapWithAbbreviation",function(t){var e=null;return t("actions").add("wrap_with_abbreviation",function(n,r,i,o){var i=t("editorUtils").outputInfo(n,i,o),a=t("utils"),o=t("editorUtils"),r=r||n.prompt("Enter abbreviation");if(!r)return null;var r=r+"",s=t("range").create(n.getSelectionRange());if(!s.length()){if(s=t("htmlMatcher").tag(i.content,s.start),!s)return!1;s=a.narrowToNonSpace(i.content,s.range)}return a=a.escapeText(s.substring(i.content)),(r=e.wrap(r,o.unindent(n,a),i.syntax,i.profile,t("actionUtils").captureContext(n)))?(n.replaceContent(r,s.start,s.end),!0):!1}),e={wrap:function(e,n,r,i,o){var a=t("filters"),s=t("utils"),r=r||emmet.defaultSyntax(),i=t("profile").get(i,r);return t("tabStops").resetTabstopIndex(),e=a.extractFromAbbreviation(e),(n=t("abbreviationParser").parse(e[0],{syntax:r,pastedContent:n,contextNode:o}))?(r=a.composeList(r,i,e[1]),a.apply(n,r,i),s.replaceVariables(n.valueOf())):null}}}),emmet.exec(function(t,e){function n(t,n){var r=n-(t.options.offset||0),i=/^[\s\n\r]/;return e.find(t.list(),function(e){return e.range().end===r?i.test(t.source.charAt(r)):e.range().inside(r)})}function r(e,n,r,i){for(var o=-1,a=-1;n--;)if(e.substr(n,r.length)==r){o=n;break}if(-1!=o)for(n=o,r=e.length;r>=n++;)if(e.substr(n,i.length)==i){a=n+i.length;break}return-1!=o&&-1!=a?t("range").create(o,a-o):null}function i(e,n,i,o){function a(t){return t.replace(RegExp("^"+f.escapeForRegexp(n)+"\\s*"),function(t){return u-=t.length,""}).replace(RegExp("\\s*"+f.escapeForRegexp(i)+"$"),"")}var s=t("editorUtils"),l=s.outputInfo(e).content,u=e.getCaretPos(),c=null,f=t("utils");return(c=r(l,u,n,i))&&c.overlap(o)?(o=c,c=a(o.substring(l))):(c=n+" "+o.substring(l).replace(RegExp(f.escapeForRegexp(n)+"\\s*|\\s*"+f.escapeForRegexp(i),"g"),"")+" "+i,u+=n.length+1),null!==c?(c=f.escapeText(c),e.setCaretPos(o.start),e.replaceContent(s.unindent(e,c),o.start,o.end),e.setCaretPos(u),!0):!1}t("actions").add("toggle_comment",function(e){var r=t("editorUtils").outputInfo(e);if("css"==r.syntax){var o=e.getCaretPos(),a=t("htmlMatcher").tag(r.content,o);a&&a.open.range.inside(o)&&(r.syntax="html")}return"css"==r.syntax?(a=t("range").create(e.getSelectionRange()),r=t("editorUtils").outputInfo(e),!a.length()&&(o=t("cssEditTree").parseFromPosition(r.content,e.getCaretPos()))&&(a=(a=n(o,e.getCaretPos()))?a.range(!0):t("range").create(o.nameRange(!0).start,o.source)),a.length()||(a=t("range").create(e.getCurrentLineRange()),t("utils").narrowToNonSpace(r.content,a)),e=i(e,"/*","*/",a)):(r=t("range").create(e.getSelectionRange()),o=t("editorUtils").outputInfo(e),!r.length()&&(o=t("htmlMatcher").tag(o.content,e.getCaretPos()))&&(r=o.outerRange),e=i(e,"<!--","-->",r)),e})}),emmet.exec(function(t){function e(t,e,n){function r(t){for(var e=t;e>=0;){var n=i.charAt(e);if("\n"==n||"\r"==n)break;e--}return i.substring(e,t)}for(var e=e||1,n=t.getCaretPos()+(n||0),i=t.getContent()+"",t=i.length,o=-1,a=/^\s+$/;t>=n&&n>=0;){n+=e;var s=i.charAt(n),l=i.charAt(n+1),u=i.charAt(n-1);switch(s){case'"':case"'":l==s&&"="==u&&(o=n+1);break;case">":"<"==l&&(o=n+1);break;case"\n":case"\r":a.test(r(n-1))&&(o=n)}if(-1!=o)break}return o}t=t("actions"),t.add("prev_edit_point",function(t){var n=t.getCaretPos(),r=e(t,-1);return r==n&&(r=e(t,-1,-2)),-1!=r?(t.setCaretPos(r),!0):!1},{label:"Previous Edit Point"}),t.add("next_edit_point",function(t){var n=e(t,1);return-1!=n?(t.setCaretPos(n),!0):!1})}),emmet.exec(function(t,e){function n(e,n,r,i){var o,a=t("range"),s=t("editorUtils").outputInfo(e).content,l=s.length,u=a.create(-1,0),c=a.create(e.getSelectionRange());o=c.start;for(var f=1e5;o>=0&&l>o&&--f>0;){if(a=r(s,o,n)){if(u.equal(a))break;if(u=a.clone(),o=i(a.substring(s),a.start,c.clone()))return e.createSelection(o.start,o.end),!0;o=n?a.start:a.end-1}o+=n?-1:1}return!1}function r(t){var e=!0;return n(t,!1,function(t,n){if(e){e=!1;var r;t:{r=n;for(var i;r>=0;){if(i=l(t,r)){r=i;break t}r--}r=null}return r}return l(t,n)},function(t,e,n){return s(t,e,n,!1)})}function i(t){return n(t,!0,l,function(t,e,n){return s(t,e,n,!0)})}function o(n,r,i){var o,s,i=i||0,l=t("range"),c=[],f=-1,d="",h="";return e.each(r,function(t){switch(t.type){case"tag":s=n.substring(t.start,t.end),/^<[\w\:\-]/.test(s)&&c.push(l.create({start:t.start+1,end:t.end}));break;case"attribute":f=t.start,d=n.substring(t.start,t.end);break;case"string":c.push(l.create(f,t.end-f)),o=l.create(t),h=o.substring(n),u(h.charAt(0))&&o.start++,u(h.charAt(h.length-1))&&o.end--,c.push(o),"class"==d&&(c=c.concat(a(o.substring(n),o.start)))}}),e.each(c,function(t){t.shift(i)}),e.chain(c).filter(function(t){return!!t.length()}).uniq(!1,function(t){return""+t}).value()}function a(e,n){var n=n||0,r=[],i=t("stringStream").create(e),o=t("range");i.eatSpace(),i.start=i.pos;for(var a;a=i.next();)/[\s\u00a0]/.test(a)&&(r.push(o.create(i.start+n,i.pos-i.start-1)),i.eatSpace(),i.start=i.pos);return r.push(o.create(i.start+n,i.pos-i.start)),r}function s(n,r,i,a){return n=o(n,t("xmlParser").parse(n),r),a&&n.reverse(),(r=e.find(n,function(t){return t.equal(i)}))?(a=e.indexOf(n,r),n.length-1>a?n[a+1]:null):a?e.find(n,function(t){return t.start<i.start}):!r&&(a=e.filter(n,function(t){return t.inside(i.end)}),a.length>1)?a[1]:e.find(n,function(t){return t.end>i.end})}function l(e,n){var r;return"<"==e.charAt(n)&&(r=e.substring(n,e.length).match(p))?t("range").create(n,r[0]):void 0}function u(t){return'"'==t||"'"==t}function c(n){var r=n.valueRange(!0),i=[n.range(!0),r],o=t("stringStream"),a=t("cssEditTree"),s=t("range"),l=n.value();return e.each(n.valueParts(),function(t){var n=t.clone();i.push(n.shift(r.start));var u=o.create(t.substring(l));if(u.match(/^[\w\-]+\(/,!0)){u.start=u.pos,u.skipToPair("(",")");var c=u.current();i.push(s.create(n.start+u.start,c)),e.each(a.findParts(c),function(t){i.push(s.create(n.start+u.start+t.start,t.substring(c)))})}}),e.chain(i).filter(function(t){return!!t.length()}).uniq(!1,function(t){return""+t}).value()}function f(t,n,r){var i,o,a=null,s=null,l=t.list();r?(l.reverse(),i=function(t){return t.range(!0).start<=n.start},o=function(t){return t.start<n.start}):(i=function(t){return t.range(!0).end>=n.end},o=function(t){return t.end>n.start});for(var u=function(t){return t.equal(n)},f=function(t){return t.inside(n.end)};a=e.find(l,i);){if(t=c(a),r&&t.reverse(),s=e.find(t,u)){if(s=e.indexOf(t,s),s!=t.length-1){s=t[s+1];break}}else{if(s=e.filter(t,f),s.length>1){s=s[1];break}if(s=e.find(t,o))break}s=null,n.start=n.end=r?a.range(!0).start-1:a.range(!0).end+1}return s}function d(e,n,r){return e=t("cssEditTree").parse(e,{offset:n}),n=e.nameRange(!0),r.end<n.end?n:f(e,r,!1)}function h(e,n,r){return n=t("cssEditTree").parse(e,{offset:n}),e=f(n,r,!0),!e&&(n=n.nameRange(!0),r.start>n.start)?n:e}var p=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,m=t("actions");m.add("select_next_item",function(e){return"css"==e.getSyntax()?n(e,!1,t("cssEditTree").extractRule,d):r(e)}),m.add("select_previous_item",function(e){return"css"==e.getSyntax()?n(e,!0,t("cssEditTree").extractRule,h):i(e)})}),emmet.exec(function(t){function e(e,n){var n=(n||"out").toLowerCase()+"",o=t("editorUtils").outputInfo(e),a=t("range").create(e.getSelectionRange()),o=o.content;if(i&&!i.range.equal(a)&&(i=null),i&&a.length())if("in"==n){if("tag"==i.type&&!i.close)return!1;if(i.range.equal(i.outerRange))i.range=i.innerRange;else{var s=t("utils").narrowToNonSpace(o,i.innerRange);(i=r.find(o,s.start+1))&&i.range.equal(a)&&i.outerRange.equal(a)&&(i.range=i.innerRange)}}else!i.innerRange.equal(i.outerRange)&&i.range.equal(i.innerRange)&&a.equal(i.range)?i.range=i.outerRange:(i=r.find(o,a.start))&&i.range.equal(a)&&i.innerRange.equal(a)&&(i.range=i.outerRange);else i=r.find(o,a.start);return i&&!i.range.equal(a)?(e.createSelection(i.range.start,i.range.end),!0):(i=null,!1)}var n=t("actions"),r=t("htmlMatcher"),i=null;n.add("match_pair",e,{hidden:!0}),n.add("match_pair_inward",function(t){return e(t,"in")},{label:"HTML/Match Pair Tag (inward)"}),n.add("match_pair_outward",function(t){return e(t,"out")},{label:"HTML/Match Pair Tag (outward)"}),n.add("matching_pair",function(t){var e=t.getContent()+"",n=t.getCaretPos();return"<"==e.charAt(n)&&n++,(e=r.tag(e,n))&&e.close?(e.open.range.inside(n)?t.setCaretPos(e.close.range.start):t.setCaretPos(e.open.range.start),!0):!1},{label:"HTML/Go To Matching Tag Pair"})}),emmet.exec(function(t){t("actions").add("remove_tag",function(e){var n=t("utils"),r=t("editorUtils").outputInfo(e),i=t("htmlMatcher").tag(r.content,e.getCaretPos());if(i){if(i.close){var o=n.narrowToNonSpace(r.content,i.innerRange),a=n.findNewlineBounds(r.content,o.start),a=n.getLinePadding(a.substring(r.content)),r=o.substring(r.content),r=n.unindentString(r,a);e.replaceContent(n.getCaretPlaceholder()+n.escapeText(r),i.outerRange.start,i.outerRange.end)}else e.replaceContent(n.getCaretPlaceholder(),i.range.start,i.range.end);return!0}return!1},{label:"HTML/Remove Tag"})}),emmet.exec(function(t){t("actions").add("split_join_tag",function(e,n){var r=t("htmlMatcher"),i=t("editorUtils").outputInfo(e,null,n),o=t("profile").get(i.profile);if(r=r.tag(i.content,e.getCaretPos())){if(r.close){var i=t("utils"),o=o.selfClosing()||" /",o=r.open.range.substring(r.source).replace(/\s*>$/,o+">"),a=e.getCaretPos();a>o.length+r.outerRange.start&&(a=o.length+r.outerRange.start),o=i.escapeText(o),e.replaceContent(o,r.outerRange.start,r.outerRange.end)}else{var i=t("utils"),s=i.getNewline(),l=t("resources").getVariable("indentation"),a=e.getCaretPos(),o=o.tag_nl===!0?s+l+s:"",s=r.outerContent().replace(/\s*\/>$/,">"),a=r.outerRange.start+s.length;s+=o+"</"+r.open.name+">",s=i.escapeText(s),e.replaceContent(s,r.outerRange.start,r.outerRange.end)}e.setCaretPos(a),r=!0}else r=!1;return r},{label:"HTML/Split\\Join Tag Declaration"})}),emmet.define("reflectCSSValue",function(t,e){function n(e){var n=t("cssEditTree"),r=t("editorUtils").outputInfo(e),e=e.getCaretPos();if((n=n.parseFromPosition(r.content,e))&&(r=n.itemFromPosition(e,!0))){var o=n.source,a=n.options.offset,e=e-a-r.range().start;if(i.exec(!1,[r]),o!==n.source)return{data:n.source,start:a,end:a+o.length,caret:a+r.range().start+e}}}function r(e){var n,e=t("cssEditTree").baseName(e);return"opacity"==e||"filter"==e?/^(?:\-\w+\-)?(?:opacity|filter)$/:(n=e.match(/^border-radius-(top|bottom)(left|right)/))?RegExp("^(?:\\-\\w+\\-)?(?:"+e+"|border-"+n[1]+"-"+n[2]+"-radius)$"):(n=e.match(/^border-(top|bottom)-(left|right)-radius/))?RegExp("^(?:\\-\\w+\\-)?(?:"+e+"|border-radius-"+n[1]+n[2]+")$"):RegExp("^(?:\\-\\w+\\-)?"+e+"$")}var i=t("handlerList").create();return t("actions").add("reflect_css_value",function(e){return"css"!=e.getSyntax()?!1:t("actionUtils").compoundUpdate(e,n(e))},{label:"CSS/Reflect Value"}),i.add(function(n){var i=r(n.name());e.each(n.parent.list(),function(e){if(i.test(e.name())){var r,o=n.name(),a=n.value(),s=e.name();r=e.value();var l=t("cssEditTree"),u=t("utils"),o=l.baseName(o),s=l.baseName(s);r="opacity"==o&&"filter"==s?r.replace(/opacity=[^)]*/i,"opacity="+Math.floor(100*parseFloat(a))):"filter"==o&&"opacity"==s?(o=a.match(/opacity=([^)]*)/i))?u.prettifyNumber(parseInt(o[1],10)/100):r:a,e.value(r)}})},{order:-1}),{addHandler:function(t,e){i.add(t,e)},removeHandler:function(t){i.remove(t)}}}),emmet.exec(function(t){t("actions").add("evaluate_math_expression",function(e){var n=t("actionUtils"),r=t("utils"),i=e.getContent()+"",o=t("range").create(e.getSelectionRange());if(o.length()||(o=n.findExpressionBounds(e,function(t){return r.isNumeric(t)||-1!=".+-*/\\".indexOf(t)})),o&&o.length()){n=o.substring(i),n=n.replace(/([\d\.\-]+)\\([\d\.\-]+)/g,"Math.round($1/$2)");try{var a=r.prettifyNumber(Function("return "+n)());return e.replaceContent(a,o.start,o.end),e.setCaretPos(o.start+a.length),!0}catch(s){}}return!1},{label:"Numbers/Evaluate Math Expression"})}),emmet.exec(function(t,e){function n(n,i){var o=t("utils"),a=!1,s=!1,l=t("actionUtils").findExpressionBounds(n,function(t,e,n){return o.isNumeric(t)?!0:"."==t?o.isNumeric(n.charAt(e+1))?s?!1:s=!0:!1:"-"==t?a?!1:a=!0:!1});if(l&&l.length()){var u=l.substring(n.getContent()+""),c=parseFloat(u);if(!e.isNaN(c)){if(c=o.prettifyNumber(c+i),/^(\-?)0+[1-9]/.test(u)){var f="";RegExp.$1&&(f="-",c=c.substring(1)),c=c.split("."),c[0]=o.zeroPadString(c[0],r(u)),c=f+c.join(".")}return n.replaceContent(c,l.start,l.end),n.createSelection(l.start,l.start+c.length),!0}}return!1}function r(t){return t=t.replace(/^\-/,""),~t.indexOf(".")?t.split(".")[0].length:t.length}var i=t("actions");e.each([1,-1,10,-10,.1,-.1],function(t){var e=t>0?"increment":"decrement";i.add(e+"_number_by_"+(Math.abs(t)+"").replace(".","").substring(0,2),function(e){return n(e,t)},{label:"Numbers/"+e.charAt(0).toUpperCase()+e.substring(1)+" number by "+Math.abs(t)})})}),emmet.exec(function(t,e){var n=t("actions"),r=t("preferences");r.define("css.closeBraceIndentation","\n","Indentation before closing brace of CSS rule. Some users prefere indented closing brace of CSS rule for better readability. This preference’s value will be automatically inserted before closing brace when user adds newline in newly created CSS rule (e.g. when “Insert formatted linebreak” action will be performed in CSS file). If you’re such user, you may want to write put a value like <code>\\n\\t</code> in this preference."),n.add("insert_formatted_line_break_only",function(n){var i=t("utils"),o=t("resources"),a=t("editorUtils").outputInfo(n),s=n.getCaretPos(),l=i.getNewline();if(e.include(["html","xml","xsl"],a.syntax)){if(o=o.getVariable("indentation"),(a=t("htmlMatcher").tag(a.content,s))&&!a.innerRange.length())return n.replaceContent(l+o+i.getCaretPlaceholder()+l,s),!0}else if("css"==a.syntax&&(a=a.content,s&&"{"==a.charAt(s-1))){var u=r.get("css.closeBraceIndentation"),o=o.getVariable("indentation"),c="}"==a.charAt(s);if(!c)for(var f,d=s,h=a.length;h>d&&(f=a.charAt(d),"{"!=f);d++)if("}"==f){u="",c=!0;break}return c||(u+="}"),i=l+o+i.getCaretPlaceholder()+u,n.replaceContent(i,s),!0}return!1},{hidden:!0}),n.add("insert_formatted_line_break",function(e){if(!n.run("insert_formatted_line_break_only",e)){for(var r,i=t("utils"),o=t("editorUtils").getCurrentLinePadding(e),a=e.getContent()+"",s=e.getCaretPos(),l=a.length,i=i.getNewline(),u="",c=e.getCurrentLineRange().end+1;l>c&&(r=a.charAt(c)," "==r||"	"==r);c++)u+=r;u.length>o.length?e.replaceContent(i+u,s,s,!0):e.replaceContent(i,s)}return!0},{hidden:!0})}),emmet.exec(function(t){t("actions").add("merge_lines",function(e){var n=t("htmlMatcher"),r=t("utils"),i=t("editorUtils").outputInfo(e),o=t("range").create(e.getSelectionRange());if(!o.length()&&(n=n.find(i.content,e.getCaretPos()))&&(o=n.outerRange),o.length()){for(i=o.substring(i.content),i=r.splitByLines(i),n=1;i.length>n;n++)i[n]=i[n].replace(/^\s+/,"");return i=i.join("").replace(/\s{2,}/," "),n=i.length,i=r.escapeText(i),e.replaceContent(i,o.start,o.end),e.createSelection(o.start,o.start+n),!0}return!1})}),emmet.exec(function(t){function e(t,e,n){return n=n||0,e.charAt(n)==t.charAt(0)&&e.substr(n,t.length)==t}function n(e,n,r){var i=t("file"),o=t("actionUtils"),a=e.getFilePath();if(null===a)throw"You should save your file before using this action";var s=i.locateFile(a,n);if(null===s)throw"Can't find "+n+" file";return i.read(s,function(a,l){if(a)throw"Unable to read "+s+": "+a;var u=t("base64").encode(l+"");if(!u)throw"Can't encode file content to base64";u="data:"+(o.mimeTypes[i.getExt(s)+""]||"application/octet-stream")+";base64,"+u,e.replaceContent("$0"+u,r,r+n.length)}),!0}t("actions").add("encode_decode_data_url",function(r){var i=r.getSelection()+"",o=r.getCaretPos();if(!i)for(var a=r.getContent()+"";o-->=0;){if(e("src=",a,o)){(a=a.substr(o).match(/^(src=(["'])?)([^'"<>\s]+)\1?/))&&(i=a[3],o+=a[1].length);break}if(e("url(",a,o)){(a=a.substr(o).match(/^(url\((['"])?)([^'"\)\s]+)\1?/))&&(i=a[3],o+=a[1].length);break}}if(i)if(e("data:",i))if(a=r.prompt("Enter path to file (absolute or relative)")+""){var s=t("file"),l=s.createPath(r.getFilePath(),a);if(!l)throw"Can't save file";s.save(l,t("base64").decode(i.replace(/^data\:.+?;.+?,/,""))),r.replaceContent("$0"+a,o,o+i.length),r=!0}else r=!1;else r=n(r,i,o);else r=!1;return r},{label:"Encode\\Decode data:URL image"})}),emmet.exec(function(t,e){function n(n){var r=n.getCaretPos(),o=t("editorUtils").outputInfo(n),a=t("xmlEditTree").parseFromPosition(o.content,r,!0);a&&"img"==(a.name()||"").toLowerCase()&&i(n,a.value("src"),function(i){if(i){var o=a.range(!0);a.value("width",i.width),a.value("height",i.height,a.indexOf("width")+1),t("actionUtils").compoundUpdate(n,e.extend(o,{data:""+a,caret:r}))}})}function r(n){var r=n.getCaretPos(),o=t("editorUtils").outputInfo(n),a=t("cssEditTree").parseFromPosition(o.content,r,!0);if(a){var s,o=a.itemFromPosition(r,!0);o&&(s=/url\((["']?)(.+?)\1\)/i.exec(o.value()||""))&&i(n,s[2],function(i){if(i){var o=a.range(!0);a.value("width",i.width+"px"),a.value("height",i.height+"px",a.indexOf("width")+1),t("actionUtils").compoundUpdate(n,e.extend(o,{data:""+a,caret:r}))}})}}function i(e,n,r){var i=t("actionUtils");if(n){if(/^data:/.test(n))return e=t("base64").decode(n.replace(/^data\:.+?;.+?,/,"")),r(i.getImageSize(e));var o=t("file"),a=o.locateFile(e.getFilePath(),n);if(null===a)throw"Can't find "+n+" file";o.read(a,function(t,e){if(t)throw"Unable to read "+a+": "+t;r(i.getImageSize(e+""))})}}t("actions").add("update_image_size",function(t){return e.include(["css","less","scss"],t.getSyntax()+"")?r(t):n(t),!0})}),emmet.define("cssResolver",function(t,e){function n(t){var e=t&&t.charCodeAt(0);return t&&"."==t||e>47&&58>e}function r(e){return e=t("utils").trim(e),~e.indexOf("/*")||/[\n\r]/.test(e)?!1:/^[a-z0-9\-]+\s*\:/i.test(e)?(e=t("tabStops").processText(e,{replaceCarets:!0,tabstop:function(){return"value"}}),2==e.split(":").length):!1}function i(e){if("-"==e.charAt(0)&&!/^\-[\.\d]/.test(e)&&(e=e.replace(/^\-+/,"")),"#"==e.charAt(0)){var n=e.replace(/^#+/,"")||"0";if("t"==n.toLowerCase())e="transparent";else{var r=t("utils").repeatString,e=null;switch(n.length){case 1:e=r(n,6);break;case 2:e=r(n,3);break;case 3:e=n.charAt(0)+n.charAt(0)+n.charAt(1)+n.charAt(1)+n.charAt(2)+n.charAt(2);break;case 4:e=n+n.substr(0,2);break;case 5:e=n+n.charAt(0);break;default:e=n.substr(0,6)}switch(g.get("css.color.short")&&(n=e.split(""),n[0]==n[1]&&n[2]==n[3]&&n[4]==n[5]&&(e=n[0]+n[2]+n[4])),g.get("css.color.case")){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}e="#"+e}}else e=o(e);return e}function o(t){var e=g.getDict("css.keywordAliases");return t in e?e[t]:t}function a(t){return e.include(g.getArray("css.keywords"),o(t))}function s(t,n){var r=m[n];return r||(r=e.find(m,function(t){return t.prefix==n})),r&&r.supports(t)}function l(t,n){var r=[];return e.each(m,function(e,n){s(t,n)&&r.push(n)}),!r.length&&!n&&e.each(m,function(t,e){t.obsolete||r.push(e)}),r}function u(t,n){e.isString(n)&&(n={prefix:n}),m[t]=e.extend({},p,n)}function c(t,n){if(n){var r=g.get(n+"."+t);
if(!e.isUndefined(r))return r}return g.get("css."+t)}function f(n,i,o){return e.isString(n)||(n=n.data),r(n)?(i&&(~n.indexOf(";")?n=n.split(";").join(" !important;"):n+=" !important"),i=n.indexOf(":"),n=n.substring(0,i).replace(/\s+$/,"")+c("valueSeparator",o)+t("utils").trim(n.substring(i+1)),n.replace(/\s*;\s*$/,c("propertyEnd",o))):n}function d(t){var n=g.getArray(t);return e.each(g.getArray(t+"Addon"),function(t){"-"==t.charAt(0)?n=e.without(n,t.substr(1)):("+"==t.charAt(0)&&(t=t.substr(1)),n.push(t))}),n}var h=null,p={prefix:"emmet",obsolete:!1,transformName:function(t){return"-"+this.prefix+"-"+t},properties:function(){return d("css."+this.prefix+"Properties")||[]},supports:function(t){return e.include(this.properties(),t)}},m={},g=t("preferences");g.define("css.valueSeparator",": ","Defines a symbol that should be placed between CSS property and value when expanding CSS abbreviations."),g.define("css.propertyEnd",";","Defines a symbol that should be placed at the end of CSS property  when expanding CSS abbreviations."),g.define("stylus.valueSeparator"," ","Defines a symbol that should be placed between CSS property and value when expanding CSS abbreviations in Stylus dialect."),g.define("stylus.propertyEnd","","Defines a symbol that should be placed at the end of CSS property  when expanding CSS abbreviations in Stylus dialect."),g.define("sass.propertyEnd","","Defines a symbol that should be placed at the end of CSS property  when expanding CSS abbreviations in SASS dialect."),g.define("css.autoInsertVendorPrefixes",!0,"Automatically generate vendor-prefixed copies of expanded CSS property. By default, Emmet will generate vendor-prefixed properties only when you put dash before abbreviation (e.g. <code>-bxsh</code>). With this option enabled, you don’t need dashes before abbreviations: Emmet will produce vendor-prefixed properties for you.");var v=e.template("A comma-separated list of CSS properties that may have <code><%= vendor %></code> vendor prefix. This list is used to generate a list of prefixed properties when expanding <code>-property</code> abbreviations. Empty list means that all possible CSS values may have <code><%= vendor %></code> prefix."),b=e.template("A comma-separated list of <em>additional</em> CSS properties for <code>css.<%= vendor %>Preperties</code> preference. You should use this list if you want to add or remove a few CSS properties to original set. To add a new property, simply write its name, to remove it, precede property with hyphen.<br>For example, to add <em>foo</em> property and remove <em>border-radius</em> one, the preference value will look like this: <code>foo, -border-radius</code>.");e.each({webkit:"animation, animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, appearance, backface-visibility, background-clip, background-composite, background-origin, background-size, border-fit, border-horizontal-spacing, border-image, border-vertical-spacing, box-align, box-direction, box-flex, box-flex-group, box-lines, box-ordinal-group, box-orient, box-pack, box-reflect, box-shadow, color-correction, column-break-after, column-break-before, column-break-inside, column-count, column-gap, column-rule-color, column-rule-style, column-rule-width, column-span, column-width, dashboard-region, font-smoothing, highlight, hyphenate-character, hyphenate-limit-after, hyphenate-limit-before, hyphens, line-box-contain, line-break, line-clamp, locale, margin-before-collapse, margin-after-collapse, marquee-direction, marquee-increment, marquee-repetition, marquee-style, mask-attachment, mask-box-image, mask-box-image-outset, mask-box-image-repeat, mask-box-image-slice, mask-box-image-source, mask-box-image-width, mask-clip, mask-composite, mask-image, mask-origin, mask-position, mask-repeat, mask-size, nbsp-mode, perspective, perspective-origin, rtl-ordering, text-combine, text-decorations-in-effect, text-emphasis-color, text-emphasis-position, text-emphasis-style, text-fill-color, text-orientation, text-security, text-stroke-color, text-stroke-width, transform, transition, transform-origin, transform-style, transition-delay, transition-duration, transition-property, transition-timing-function, user-drag, user-modify, user-select, writing-mode, svg-shadow, box-sizing, border-radius",moz:"animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, appearance, backface-visibility, background-inline-policy, binding, border-bottom-colors, border-image, border-left-colors, border-right-colors, border-top-colors, box-align, box-direction, box-flex, box-ordinal-group, box-orient, box-pack, box-shadow, box-sizing, column-count, column-gap, column-rule-color, column-rule-style, column-rule-width, column-width, float-edge, font-feature-settings, font-language-override, force-broken-image-icon, hyphens, image-region, orient, outline-radius-bottomleft, outline-radius-bottomright, outline-radius-topleft, outline-radius-topright, perspective, perspective-origin, stack-sizing, tab-size, text-blink, text-decoration-color, text-decoration-line, text-decoration-style, text-size-adjust, transform, transform-origin, transform-style, transition, transition-delay, transition-duration, transition-property, transition-timing-function, user-focus, user-input, user-modify, user-select, window-shadow, background-clip, border-radius",ms:"accelerator, backface-visibility, background-position-x, background-position-y, behavior, block-progression, box-align, box-direction, box-flex, box-line-progression, box-lines, box-ordinal-group, box-orient, box-pack, content-zoom-boundary, content-zoom-boundary-max, content-zoom-boundary-min, content-zoom-chaining, content-zoom-snap, content-zoom-snap-points, content-zoom-snap-type, content-zooming, filter, flow-from, flow-into, font-feature-settings, grid-column, grid-column-align, grid-column-span, grid-columns, grid-layer, grid-row, grid-row-align, grid-row-span, grid-rows, high-contrast-adjust, hyphenate-limit-chars, hyphenate-limit-lines, hyphenate-limit-zone, hyphens, ime-mode, interpolation-mode, layout-flow, layout-grid, layout-grid-char, layout-grid-line, layout-grid-mode, layout-grid-type, line-break, overflow-style, perspective, perspective-origin, perspective-origin-x, perspective-origin-y, scroll-boundary, scroll-boundary-bottom, scroll-boundary-left, scroll-boundary-right, scroll-boundary-top, scroll-chaining, scroll-rails, scroll-snap-points-x, scroll-snap-points-y, scroll-snap-type, scroll-snap-x, scroll-snap-y, scrollbar-arrow-color, scrollbar-base-color, scrollbar-darkshadow-color, scrollbar-face-color, scrollbar-highlight-color, scrollbar-shadow-color, scrollbar-track-color, text-align-last, text-autospace, text-justify, text-kashida-space, text-overflow, text-size-adjust, text-underline-position, touch-action, transform, transform-origin, transform-origin-x, transform-origin-y, transform-origin-z, transform-style, transition, transition-delay, transition-duration, transition-property, transition-timing-function, user-select, word-break, word-wrap, wrap-flow, wrap-margin, wrap-through, writing-mode",o:"dashboard-region, animation, animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, border-image, link, link-source, object-fit, object-position, tab-size, table-baseline, transform, transform-origin, transition, transition-delay, transition-duration, transition-property, transition-timing-function, accesskey, input-format, input-required, marquee-dir, marquee-loop, marquee-speed, marquee-style"},function(t,e){g.define("css."+e+"Properties",t,v({vendor:e})),g.define("css."+e+"PropertiesAddon","",b({vendor:e}))}),g.define("css.unitlessProperties","z-index, line-height, opacity, font-weight, zoom","The list of properties whose values ​​must not contain units."),g.define("css.intUnit","px","Default unit for integer values"),g.define("css.floatUnit","em","Default unit for float values"),g.define("css.keywords","auto, inherit","A comma-separated list of valid keywords that can be used in CSS abbreviations."),g.define("css.keywordAliases","a:auto, i:inherit, s:solid, da:dashed, do:dotted, t:transparent","A comma-separated list of keyword aliases, used in CSS abbreviation. Each alias should be defined as <code>alias:keyword_name</code>."),g.define("css.unitAliases","e:em, p:%, x:ex, r:rem","A comma-separated list of unit aliases, used in CSS abbreviation. Each alias should be defined as <code>alias:unit_value</code>."),g.define("css.color.short",!0,"Should color values like <code>#ffffff</code> be shortened to <code>#fff</code> after abbreviation with color was expanded."),g.define("css.color.case","keep","Letter case of color values generated by abbreviations with color (like <code>c#0</code>). Possible values are <code>upper</code>, <code>lower</code> and <code>keep</code>."),g.define("css.fuzzySearch",!0,"Enable fuzzy search among CSS snippet names. When enabled, every <em>unknown</em> snippet will be scored against available snippet names (not values or CSS properties!). The match with best score will be used to resolve snippet value. For example, with this preference enabled, the following abbreviations are equal: <code>ov:h</code> == <code>ov-h</code> == <code>o-h</code> == <code>oh</code>"),g.define("css.fuzzySearchMinScore",.3,"The minium score (from 0 to 1) that fuzzy-matched abbreviation should achive. Lower values may produce many false-positive matches, higher values may reduce possible matches."),g.define("css.alignVendor",!1,"If set to <code>true</code>, all generated vendor-prefixed properties will be aligned by real property name."),u("w",{prefix:"webkit"}),u("m",{prefix:"moz"}),u("s",{prefix:"ms"}),u("o",{prefix:"o"});var y=["css","less","sass","scss","stylus"];t("resources").addResolver(function(t,n){return e.include(y,n)&&t.isElement()?h.expandToSnippet(t.abbreviation,n):null});var x=t("expandAbbreviation");return x.addHandler(function(t,n,r){if(!e.include(y,n))return!1;var i=t.getSelectionRange().end,o=x.findAbbreviation(t);return o&&(n=emmet.expandAbbreviation(o,n,r))?(o=i-o.length,r=i,";"==t.getContent().charAt(i)&&";"==n.charAt(n.length-1)&&r++,t.replaceContent(n,o,r),!0):!1}),h={addPrefix:u,supportsPrefix:s,prefixed:function(t,e){return s(t,e)?"-"+e+"-"+t:t},listPrefixes:function(){return e.map(m,function(t){return t.prefix})},getPrefix:function(t){return m[t]},removePrefix:function(t){t in m&&delete m[t]},extractPrefixes:function(t){if("-"!=t.charAt(0))return{property:t,prefixes:null};for(var e,n=1,r=t.length,i=[];r>n;){if(e=t.charAt(n),"-"==e){n++;break}if(!(e in m)){i.length=0,n=1;break}i.push(e),n++}return n==r-1&&(n=1,i.length=1),{property:t.substring(n),prefixes:i.length?i:"all"}},findValuesInAbbreviation:function(e,r){for(var i,r=r||"css",o=0,s=e.length,l="";s>o;){if(i=e.charAt(o),n(i)||"#"==i||"-"==i&&n(e.charAt(o+1))){l=e.substring(o);break}o++}for(i=e.substring(0,e.length-l.length),o=t("resources"),s=[];~i.indexOf("-")&&!o.findSnippet(r,i);){i=i.split("-");var u=i.pop();if(!a(u))break;s.unshift(u),i=i.join("-")}return s.join("-")+l},parseValues:function(r){for(var o=t("stringStream").create(r),s=[],l=null;l=o.next();)"#"==l?o.match(/^t|[0-9a-f]+/i,!0):"-"==l?((a(e.last(s))||o.start&&n(r.charAt(o.start-1)))&&(o.start=o.pos),o.match(/^\-?[0-9]*(\.[0-9]+)?[a-z%\.]*/,!0)):o.match(/^[0-9]*(\.[0-9]*)?[a-z%]*/,!0),s.push(o.current()),o.start=o.pos;return e.map(e.compact(s),i)},extractValues:function(t){var e=this.findValuesInAbbreviation(t);return e?{property:t.substring(0,t.length-e.length).replace(/-$/,""),values:this.parseValues(e)}:{property:t,values:null}},normalizeValue:function(t,n){var n=(n||"").toLowerCase(),r=g.getArray("css.unitlessProperties");return t.replace(/^(\-?[0-9\.]+)([a-z]*)$/,function(t,i,o){return o||"0"!=i&&!e.include(r,n)?(o?(t=g.getDict("css.unitAliases"),i+=o in t?t[o]:o):i=i.replace(/\.$/,"")+g.get(~i.indexOf(".")?"css.floatUnit":"css.intUnit"),i):i})},expand:function(n,i,o){var o=o||"css",a=t("resources"),s=g.get("css.autoInsertVendorPrefixes"),u=/^(.+)\!$/.test(n);u&&(n=RegExp.$1);var c=a.findSnippet(o,n);if(c&&!s)return f(c,u,o);var n=this.extractPrefixes(n),d=this.extractValues(n.property),n=e.extend(n,d);if(c?n.values=null:c=a.findSnippet(o,n.property),!c&&g.get("css.fuzzySearch")&&(c=a.fuzzyFindSnippet(o,n.property,parseFloat(g.get("css.fuzzySearchMinScore")))),c?e.isString(c)||(c=c.data):c=n.property+":${1};",!r(c))return c;var h=this.splitSnippet(c),p=[];!i&&n.values&&(i=e.map(n.values,function(t){return this.normalizeValue(t,h.name)},this).join(" ")+";"),h.value=i||h.value;var v,i="all"==n.prefixes||!n.prefixes&&s?l(h.name,s&&"all"!=n.prefixes):n.prefixes,b=[];if(e.each(i,function(t){t in m&&(v=m[t].transformName(h.name),b.push(v),p.push(f(v+":"+h.value,u,o)))}),p.push(f(h.name+":"+h.value,u,o)),b.push(h.name),g.get("css.alignVendor"))var y=t("utils").getStringsPads(b),p=e.map(p,function(t,e){return y[e]+t});return p},expandToSnippet:function(t,n){var r=this.expand(t,null,n);return e.isArray(r)?r.join("\n"):e.isString(r)?r+"":r.data},splitSnippet:function(e){var n=t("utils"),e=n.trim(e);return-1==e.indexOf(":")?{name:e,value:"${1};"}:(e=e.split(":"),{name:n.trim(e.shift()),value:n.trim(e.join(":")).replace(/^(\$\{0\}|\$0)(\s*;?)$/,"${1}$2")})},getSyntaxPreference:c,transformSnippet:f}}),emmet.define("cssGradient",function(t,e){function n(e){return t("utils").trim(e).replace(/\s+/g," ")}function r(t){var t=n(t),e=null,t=t.replace(/^(\w+\(.+?\))\s*/,function(t,n){return e=n,""});e||(t=t.split(" "),e=t[0],t=t[1]||"");var r={color:e};return t&&t.replace(/^(\-?[\d\.]+)([a-z%]+)?$/,function(t,e,n){r.position=e,~e.indexOf(".")?n="":n||(n="%"),n&&(r.unit=n)}),r}function i(t){var n=0;e.each(t,function(r,i){if(!i)return r.position=r.position||0;if(i!=t.length-1||"position"in r||(r.position=1),"position"in r){var o=t[n].position||0,a=(r.position-o)/(i-n);e.each(t.slice(n,i),function(t,e){t.position=o+a*e}),n=i}})}function o(t){var n=parseFloat(t);if(!e.isNaN(n))switch(n%360){case 0:return"left";case 90:return"bottom";case 180:return"right";case 240:return"top"}return t}function a(t){if(t=o(t),g.test(t))throw"The direction is an angle that can’t be converted.";var e=function(e){return~t.indexOf(e)?"100%":"0"};return e("right")+" "+e("bottom")+", "+e("left")+" "+e("top")}function s(t){var n=b.getArray("css.gradient.prefixes"),n=n?e.map(n,function(e){return"-"+e+"-"+t}):[];return n.push(t),n}function l(n,r){var i=[],o=t("cssResolver");return b.get("css.gradient.fallback")&&~r.toLowerCase().indexOf("background")&&i.push({name:"background-color",value:"${1:"+n.colorStops[0].color+"}"}),e.each(b.getArray("css.gradient.prefixes"),function(t){var e=o.prefixed(r,t);if("webkit"==t&&b.get("css.gradient.oldWebkit"))try{i.push({name:e,value:p.oldWebkitLinearGradient(n)})}catch(a){}i.push({name:e,value:p.toString(n,t)})}),i.sort(function(t,e){return e.name.length-t.name.length})}function u(n,r,i){var o=n.parent,a=t("utils"),u=t("preferences").get("css.alignVendor"),c=n.styleSeparator,f=n.styleBefore;if(e.each(o.getAll(s(n.name())),function(t){t!=n&&/gradient/i.test(t.value())&&(t.styleSeparator.length<c.length&&(c=t.styleSeparator),t.styleBefore.length<f.length&&(f=t.styleBefore),o.remove(t))}),u){if(f!=n.styleBefore){var d=n.fullRange();o._updateSource(f,d.start,d.start+n.styleBefore.length),n.styleBefore=f}c!=n.styleSeparator&&(o._updateSource(c,n.nameRange().end,n.valueRange().start),n.styleSeparator=c)}var h=n.value();if(i||(i=t("range").create(0,n.value())),n.value(function(t){return a.replaceSubstring(h,t,i)}(p.toString(r))+"${2}"),r=l(r,n.name()),u){u=e.pluck(r,"value"),d=e.pluck(r,"name"),u.push(n.value()),d.push(n.name());var m=a.getStringsPads(e.map(u,function(t){return t.substring(0,t.indexOf("("))})),g=a.getStringsPads(d);n.name(e.last(g)+n.name()),e.each(r,function(t,e){t.name=g[e]+t.name,t.value=m[e]+t.value}),n.value(e.last(m)+n.value())}e.each(r,function(t){o.add(t.name,t.value,o.indexOf(n))})}function c(t){var n=t.value(),r=null;return(t=e.find(t.valueParts(),function(t){return r=p.parse(t.substring(n))}))&&r?{gradient:r,valueRange:t}:null}function f(n,r){var i=b.get("css.gradient.defaultProperty");if(!i)return!1;var o=n.getContent()+"",a=t("range").create(n.getCurrentLineRange()),s=a.substring(o).replace(/^\s+/,function(t){return a.start+=t.length,""}).replace(/\s+$/,function(t){return a.end-=t.length,""}),o=t("cssResolver");if(s=p.parse(s)){var u=l(s,i);u.push({name:i,value:p.toString(s)+"${2}"});var c=o.getSyntaxPreference("valueSeparator",r),f=o.getSyntaxPreference("propertyEnd",r);if(t("preferences").get("css.alignVendor")){var d=t("utils").getStringsPads(e.map(u,function(t){return t.value.substring(0,t.value.indexOf("("))}));e.each(u,function(t,e){t.value=d[e]+t.value})}return u=e.map(u,function(t){return t.name+c+t.value+f}),n.replaceContent(u.join("\n"),a.start,a.end),!0}return!1}function d(n,r){var i=null,o=t("cssEditTree").parseFromPosition(n,r,!0);return o&&((i=o.itemFromPosition(r,!0))||(i=e.find(o.list(),function(t){return t.range(!0).end==r}))),{rule:o,property:i}}var h=["top","to bottom","0deg"],p=null,m=["css","less","sass","scss","stylus","styl"],g=/\d+deg/i,v=/top|bottom|left|right/i,b=t("preferences");return b.define("css.gradient.prefixes","webkit, moz, o","A comma-separated list of vendor-prefixes for which values should be generated."),b.define("css.gradient.oldWebkit",!0,"Generate gradient definition for old Webkit implementations"),b.define("css.gradient.omitDefaultDirection",!0,"Do not output default direction definition in generated gradients."),b.define("css.gradient.defaultProperty","background-image","When gradient expanded outside CSS value context, it will produce properties with this name."),b.define("css.gradient.fallback",!1,"With this option enabled, CSS gradient generator will produce <code>background-color</code> property with gradient first color as fallback for old browsers."),t("expandAbbreviation").addHandler(function(n,r,i){if(i=t("editorUtils").outputInfo(n,r,i),!e.include(m,i.syntax))return!1;var o=n.getCaretPos(),a=i.content,i=d(a,o);if(i.property){var s=c(i.property);if(s){var l=i.rule.options.offset||0,h=l+(""+i.rule).length;if(/[\n\r]/.test(i.property.value())){var p=i.property.valueRange(!0).start+s.valueRange.end,a=t("utils").replaceSubstring(a,";",p),o=d(a,o);o.property&&(s=c(o.property),i=o)}i.property.end(";");var o=i.property.name(),a=t("resources"),p=t("preferences"),g=a.findSnippet(r,o);return!g&&p.get("css.fuzzySearch")&&(g=a.fuzzyFindSnippet(r,o,parseFloat(p.get("css.fuzzySearchMinScore")))),g?(e.isString(g)||(g=g.data),r=t("cssResolver").splitSnippet(g).name):r=void 0,r&&i.property.name(r),u(i.property,s.gradient,s.valueRange),n.replaceContent(""+i.rule,l,h,!0),!0}}return f(n,r)}),t("reflectCSSValue").addHandler(function(n){var r=t("utils"),i=c(n);if(!i)return!1;var o=n.value(),a=function(t){return r.replaceSubstring(o,t,i.valueRange)};return e.each(n.parent.getAll(s(n.name())),function(t){if(t!==n){var e=t.value().match(/^\s*(\-([a-z]+)\-)?linear\-gradient/);e?t.value(a(p.toString(i.gradient,e[2]||""))):t.value().match(/\s*\-webkit\-gradient/)&&t.value(a(p.oldWebkitLinearGradient(i.gradient)))}}),!0}),p={parse:function(i){var o=null;return t("utils").trim(i).replace(/^([\w\-]+)\((.+?)\)$/,function(i,a,s){if(a=a.toLowerCase().replace(/^\-[a-z]+\-/,""),"linear-gradient"==a||"lg"==a){for(var l,i=h[0],s=t("stringStream").create(t("utils").trim(s)),a=[];l=s.next();)","==s.peek()?(a.push(s.current()),s.next(),s.eatSpace(),s.start=s.pos):"("==l&&s.skipTo(")");return a.push(s.current()),a=e.compact(e.map(a,n)),a.length?((g.test(a[0])||v.test(a[0]))&&(i=a.shift()),o={type:"linear",direction:i,colorStops:e.map(a,r)}):o=null,""}return i}),o},oldWebkitLinearGradient:function(t){if(e.isString(t)&&(t=this.parse(t)),!t)return null;var n=e.map(t.colorStops,e.clone);return e.each(n,function(t){if("position"in t){if(!~t.position.indexOf(".")&&"%"!=t.unit)throw"Can't convert color stop '"+(t.position+(t.unit||""))+"'";t.position=parseFloat(t.position)/("%"==t.unit?100:1)}}),i(n),n=e.map(n,function(t,e){return t.position||e?1==t.position&&e==n.length-1?"to("+t.color+")":"color-stop("+t.position.toFixed(2).replace(/\.?0+$/,"")+", "+t.color+")":"from("+t.color+")"}),"-webkit-gradient(linear, "+a(t.direction)+", "+n.join(", ")+")"},toString:function(t,n){if("linear"==t.type){var r=(n?"-"+n+"-":"")+"linear-gradient",i=e.map(t.colorStops,function(t){return t.color+("position"in t?" "+t.position+(t.unit||""):"")});return t.direction&&(!b.get("css.gradient.omitDefaultDirection")||!e.include(h,t.direction))&&i.unshift(t.direction),r+"("+i.join(", ")+")"}}}}),emmet.exec(function(t,e){var n=t("handlerList").create(),r=t("resources");e.extend(r,{addGenerator:function(t,r,i){e.isString(t)&&(t=RegExp(t)),n.add(function(e,n){var i;return(i=t.exec(e.name()))?r(i,e,n):null},i)}}),r.addResolver(function(){return n.exec(null,e.toArray(arguments))})}),emmet.define("tagName",function(t,e){var n={empty:[],blockLevel:"address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,link,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul,h1,h2,h3,h4,h5,h6".split(","),inlineLevel:"a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,select,small,span,strike,strong,sub,sup,textarea,tt,u,var".split(",")},r={p:"span",ul:"li",ol:"li",table:"tr",tr:"td",tbody:"tr",thead:"tr",tfoot:"tr",colgroup:"col",select:"option",optgroup:"option",audio:"source",video:"source",object:"param",map:"area"};return{resolve:function(t){return t=(t||"").toLowerCase(),t in r?this.getMapping(t):this.isInlineLevel(t)?"span":"div"},getMapping:function(t){return r[t.toLowerCase()]},isInlineLevel:function(t){return this.isTypeOf(t,"inlineLevel")},isBlockLevel:function(t){return this.isTypeOf(t,"blockLevel")},isEmptyElement:function(t){return this.isTypeOf(t,"empty")},isTypeOf:function(t,r){return e.include(n[r],t)},addMapping:function(t,e){r[t]=e},removeMapping:function(t){t in r&&delete r[t]},addElementToCollection:function(t,r){n[r]||(n[r]=[]);var i=this.getCollection(r);e.include(i,t)||i.push(t)},removeElementFromCollection:function(t,r){r in n&&(n[r]=e.without(this.getCollection(r),t))},getCollection:function(t){return n[t]}}}),emmet.exec(function(t,e){function n(){return{element:s.get("bem.elementSeparator"),modifier:s.get("bem.modifierSeparator")}}function r(r){if(t("abbreviationUtils").isSnippet(r))return r;r.__bem={block:"",element:"",modifier:""};var a=i(r.attribute("class")).split(" "),s=/^[a-z]\-/i;return r.__bem.block=e.find(a,function(t){return s.test(t)}),r.__bem.block||(s=/^[a-z]/i,r.__bem.block=e.find(a,function(t){return s.test(t)})||""),(a=e.chain(a).map(function(t){var e;e=o(t,r,"element"),e=o(e,r,"modifier");var i="",a="",s="",t=n();if(~e.indexOf(t.element)?(i=e.split(t.element),s=i[1].split(t.modifier),i=i[0],a=s.shift(),s=s.join(t.modifier)):~e.indexOf(t.modifier)&&(s=e.split(t.modifier),i=s.shift(),s=s.join(t.modifier)),i||a||s){i||(i=r.__bem.block),e=i;var l=[];a&&(e+=t.element+a),l.push(e),s&&l.push(e+t.modifier+s),r.__bem.block=i,r.__bem.element=a,r.__bem.modifier=s,t=l}else t=e;return t}).flatten().uniq().value().join(" "))&&r.attribute("class",a),r}function i(e){var r=t("utils"),e=(" "+(e||"")+" ").replace(/\s+/g," "),i=s.get("bem.shortElementPrefix");return i&&(i=RegExp("\\s("+r.escapeForRegexp(i)+"+)","g"),e=e.replace(i,function(t,e){return" "+r.repeatString(n().element,e.length)})),r.trim(e)}function o(t,e,r){var i=n(),o=RegExp("^("+i[r]+")+","g");if(o.test(t)){for(var a=0,o=t.replace(o,function(t){return a=t.length/i[r].length,""}),s=e;s.parent&&a--;)s=s.parent;if(s&&s.__bem||(s=e),s&&s.__bem)return t=s.__bem.block,"modifier"==r&&s.__bem.element&&(t+=i.element+s.__bem.element),t+i[r]+o}return t}function a(n,i){n.name&&r(n,i);var o=t("abbreviationUtils");return e.each(n.children,function(t){a(t,i),!o.isSnippet(t)&&t.start&&(l=!0)}),n}var s=t("preferences");s.define("bem.elementSeparator","__","Class name’s element separator."),s.define("bem.modifierSeparator","_","Class name’s modifier separator."),s.define("bem.shortElementPrefix","-","Symbol for describing short “block-element” notation. Class names prefixed with this symbol will be treated as element name for parent‘s block name. Each symbol instance traverses one level up in parsed tree for block name lookup. Empty value will disable short notation.");var l=!1;t("filters").add("bem",function(e,n){return l=!1,e=a(e,n),l&&(e=t("filters").apply(e,"html",n)),e})}),emmet.exec(function(t,e){function n(n,r,o){var a=t("utils"),s=i.get("filter.commentTrigger");("*"==s||e.find(s.split(","),function(t){return!!n.attribute(a.trim(t))}))&&(s={node:n,name:n.name(),padding:n.parent?n.parent.padding:"",attr:function(t,e,r){return(t=n.attribute(t))?(e||"")+t+(r||""):""}},r=a.normalizeNewline(r?r(s):""),o=a.normalizeNewline(o?o(s):""),n.start=n.start.replace(/</,r+"<"),n.end=n.end.replace(/>/,">"+o))}function r(i,o,a){var s=t("abbreviationUtils");return e.each(i.children,function(t){s.isBlock(t)&&n(t,o,a),r(t,o,a)}),i}var i=t("preferences");i.define("filter.commentAfter",'\n<!-- /<%= attr("id", "#") %><%= attr("class", ".") %> -->',"A definition of comment that should be placed <i>after</i> matched element when <code>comment</code> filter is applied. This definition is an ERB-style template passed to <code>_.template()</code> function (see Underscore.js docs for details). In template context, the following properties and functions are availabe:\n<ul><li><code>attr(name, before, after)</code> – a function that outputsspecified attribute value concatenated with <code>before</code> and <code>after</code> strings. If attribute doesn't exists, the empty string will be returned.</li><li><code>node</code> – current node (instance of <code>AbbreviationNode</code>)</li><li><code>name</code> – name of current tag</li><li><code>padding</code> – current string padding, can be used for formatting</li></ul>"),i.define("filter.commentBefore","","A definition of comment that should be placed <i>before</i> matched element when <code>comment</code> filter is applied. For more info, read description of <code>filter.commentAfter</code> property"),i.define("filter.commentTrigger","id, class","A comma-separated list of attribute names that should exist in abbreviatoin where comment should be added. If you wish to add comment for every element, set this option to <code>*</code>"),t("filters").add("c",function(t){var n=e.template(i.get("filter.commentBefore")),o=e.template(i.get("filter.commentAfter"));return r(t,n,o)})}),emmet.exec(function(t,e){function n(t){return t.replace(/([<>&])/g,function(t,e){return r[e]})}var r={"<":"&lt;",">":"&gt;","&":"&amp;"};t("filters").add("e",function i(t){return e.each(t.children,function(t){t.start=n(t.start),t.end=n(t.end),t.content=n(t.content),i(t)}),t})}),emmet.exec(function(t,e){function n(t){return t.parent&&!t.parent.parent&&!t.index()}function r(e,n){var r=t("abbreviationUtils");return n.tag_nl===!0||r.isBlock(e)?!0:e.parent&&n.inline_break?i(e.parent,n):!1}function i(n,r){var i=0,o=t("abbreviationUtils");return!!e.find(n.children,function(t){return t.isTextNode()||!o.isInline(t)?i=0:o.isInline(t)&&i++,i>=r.inline_break?!0:void 0})}function o(n,r){var o=t("abbreviationUtils");return e.any(n.children,function(t){return o.isSnippet(t)?!1:!o.isInline(t)})?!0:i(n,r)}var a=t("preferences");a.define("format.noIndentTags","html","A comma-separated list of tag names that should not get inner indentation."),a.define("format.forceIndentationForTags","body","A comma-separated list of tag names that should <em>always</em> get inner indentation."),t("filters").add("_format",function s(i,l,u){var u=u||0,c=t("abbreviationUtils");return e.each(i.children,function(i){if(c.isSnippet(i))i.start=i.end="",n(i)||l.tag_nl===!1||!r(i,l)||i.parent.parent&&t("abbreviationUtils").isInline(i.parent)||(i.start=t("utils").getNewline()+i.start);else{i.start=i.end="%s";var f=t("utils"),d=t("abbreviationUtils"),h=d.isUnary(i),f=f.getNewline(),p=e.include(a.getArray("format.noIndentTags")||[],i.name())?"":t("resources").getVariable("indentation");if(l.tag_nl!==!1){var m=l.tag_nl===!0&&(l.tag_nl_leaf||i.children.length);m||(m=e.include(a.getArray("format.forceIndentationForTags")||[],i.name())),i.isTextNode()||(r(i,l)?(n(i)||d.isSnippet(i.parent)&&!i.index()||(i.start=f+i.start),(d.hasBlockChildren(i)||i.children.length&&r(i.children[0],l)||m&&!h)&&(i.end=f+i.end),(d.hasTagsInContent(i)||m&&!i.children.length&&!h)&&(i.start+=f+p)):d.isInline(i)&&i.parent&&t("abbreviationUtils").hasBlockChildren(i.parent)&&!n(i)?i.start=f+i.start:d.isInline(i)&&o(i,l)&&(i.end=f+i.end),i.padding=p)}}s(i,l,u+1)}),i})}),emmet.exec(function(t,e){function n(n,r){var i="",o=[],a=r.attributeQuote(),s=r.cursor();return e.each(n.attributeList(),function(e){var n=r.attributeName(e.name);switch(n.toLowerCase()){case"id":i+="#"+(e.value||s);break;case"class":i+="."+t("utils").trim(e.value||s).replace(/\s+/g,".");break;default:o.push(":"+n+" => "+a+(e.value||s)+a)}}),o.length&&(i+="{"+o.join(", ")+"}"),i}t("filters").add("haml",function r(i,o,a){var a=a||0,s=t("abbreviationUtils");return a||(i=t("filters").apply(i,"_format",o)),e.each(i.children,function(e){if(!s.isSnippet(e)&&e.parent){var i=t("abbreviationUtils"),l=t("utils"),u=n(e,o),c=o.cursor(),i=i.isUnary(e),f=o.self_closing_tag&&i?"/":"",d="",d="%"+o.tagName(e.name());"%div"==d.toLowerCase()&&u&&-1==u.indexOf("{")&&(d=""),e.end="",e.start=l.replaceSubstring(e.start,d+u+f+" ",e.start.indexOf("%s"),"%s"),!e.children.length&&!i&&(e.start+=c)}r(e,o,a+1)}),i})}),emmet.exec(function(t,e){function n(t,n){var r=n.attributeQuote(),i=n.cursor();return e.map(t.attributeList(),function(t){return" "+n.attributeName(t.name)+"="+r+(t.value||i)+r}).join("")}t("filters").add("html",function r(i,o,a){var a=a||0,s=t("abbreviationUtils");return a||(i=t("filters").apply(i,"_format",o)),e.each(i.children,function(e){if(!s.isSnippet(e)&&e.parent){var i=t("abbreviationUtils"),l=t("utils"),u=n(e,o),c=o.cursor(),i=i.isUnary(e),f="",d="";if(!e.isTextNode()){var h=o.tagName(e.name());i?(f="<"+h+u+o.selfClosing()+">",e.end=""):(f="<"+h+u+">",d="</"+h+">")}e.start=l.replaceSubstring(e.start,f,e.start.indexOf("%s"),"%s"),e.end=l.replaceSubstring(e.end,d,e.end.indexOf("%s"),"%s"),!e.children.length&&!i&&!~e.content.indexOf(c)&&!t("tabStops").extract(e.content).tabstops.length&&(e.start+=c)}r(e,o,a+1)}),i})}),emmet.exec(function(t,e){var n=/^\s+/,r=/[\n\r]/g;t("filters").add("s",function i(o){var a=t("abbreviationUtils");return e.each(o.children,function(t){a.isSnippet(t)||(t.start=t.start.replace(n,""),t.end=t.end.replace(n,"")),t.start=t.start.replace(r,""),t.end=t.end.replace(r,""),t.content=t.content.replace(r,""),i(t)}),o})}),emmet.exec(function(t,e){function n(t,r){return e.each(t.children,function(t){t.content&&(t.content=t.content.replace(r,"")),n(t,r)}),t}t("preferences").define("filter.trimRegexp","[\\s|\\u00a0]*[\\d|#|\\-|*|\\u2022]+\\.?\\s*","Regular expression used to remove list markers (numbers, dashes, bullets, etc.) in <code>t</code> (trim) filter. The trim filter is useful for wrapping with abbreviation lists, pased from other documents (for example, Word documents)."),t("filters").add("t",function(e){var r=RegExp(t("preferences").get("filter.trimRegexp"));return n(e,r)})}),emmet.exec(function(t,e){var n={"xsl:variable":1,"xsl:with-param":1};t("filters").add("xsl",function r(i){var o=t("abbreviationUtils");return e.each(i.children,function(t){!o.isSnippet(t)&&(t.name()||"").toLowerCase()in n&&t.children.length&&(t.start=t.start.replace(/\s+select\s*=\s*(['"]).*?\1/,"")),r(t)
}),i})}),emmet.define("lorem",function(t,e){function n(t,e){return Math.round(Math.random()*(e-t)+t)}function r(t,r){for(var i=t.length,o=Math.min(i,r),a=[];o>a.length;){var s=n(0,i-1);e.include(a,s)||a.push(s)}return e.map(a,function(e){return t[e]})}function i(t,r){return t.length&&(t[0]=t[0].charAt(0).toUpperCase()+t[0].substring(1)),t.join(" ")+(r||(e.isString("?!...")?"?!...".charAt(n(0,4)):"?!..."[n(0,4)]))}function o(t){var r=t.length,i=0,i=r>3&&6>=r?n(0,1):r>6&&12>=r?n(0,2):n(1,4);e.each(e.range(i),function(e){t.length-1>e&&(t[e]+=",")})}var a={en:{common:["lorem","ipsum","dolor","sit","amet","consectetur","adipisicing","elit"],words:["exercitationem","perferendis","perspiciatis","laborum","eveniet","sunt","iure","nam","nobis","eum","cum","officiis","excepturi","odio","consectetur","quasi","aut","quisquam","vel","eligendi","itaque","non","odit","tempore","quaerat","dignissimos","facilis","neque","nihil","expedita","vitae","vero","ipsum","nisi","animi","cumque","pariatur","velit","modi","natus","iusto","eaque","sequi","illo","sed","ex","et","voluptatibus","tempora","veritatis","ratione","assumenda","incidunt","nostrum","placeat","aliquid","fuga","provident","praesentium","rem","necessitatibus","suscipit","adipisci","quidem","possimus","voluptas","debitis","sint","accusantium","unde","sapiente","voluptate","qui","aspernatur","laudantium","soluta","amet","quo","aliquam","saepe","culpa","libero","ipsa","dicta","reiciendis","nesciunt","doloribus","autem","impedit","minima","maiores","repudiandae","ipsam","obcaecati","ullam","enim","totam","delectus","ducimus","quis","voluptates","dolores","molestiae","harum","dolorem","quia","voluptatem","molestias","magni","distinctio","omnis","illum","dolorum","voluptatum","ea","quas","quam","corporis","quae","blanditiis","atque","deserunt","laboriosam","earum","consequuntur","hic","cupiditate","quibusdam","accusamus","ut","rerum","error","minus","eius","ab","ad","nemo","fugit","officia","at","in","id","quos","reprehenderit","numquam","iste","fugiat","sit","inventore","beatae","repellendus","magnam","recusandae","quod","explicabo","doloremque","aperiam","consequatur","asperiores","commodi","optio","dolor","labore","temporibus","repellat","veniam","architecto","est","esse","mollitia","nulla","a","similique","eos","alias","dolore","tenetur","deleniti","porro","facere","maxime","corrupti"]},ru:{common:["далеко-далеко","за","словесными","горами","в стране","гласных","и согласных","живут","рыбные","тексты"],words:["вдали","от всех","они","буквенных","домах","на берегу","семантика","большого","языкового","океана","маленький","ручеек","даль","журчит","по всей","обеспечивает","ее","всеми","необходимыми","правилами","эта","парадигматическая","страна","которой","жаренные","предложения","залетают","прямо","рот","даже","всемогущая","пунктуация","не","имеет","власти","над","рыбными","текстами","ведущими","безорфографичный","образ","жизни","однажды","одна","маленькая","строчка","рыбного","текста","имени","lorem","ipsum","решила","выйти","большой","мир","грамматики","великий","оксмокс","предупреждал","о","злых","запятых","диких","знаках","вопроса","коварных","точках","запятой","но","текст","дал","сбить","себя","толку","он","собрал","семь","своих","заглавных","букв","подпоясал","инициал","за","пояс","пустился","дорогу","взобравшись","первую","вершину","курсивных","гор","бросил","последний","взгляд","назад","силуэт","своего","родного","города","буквоград","заголовок","деревни","алфавит","подзаголовок","своего","переулка","грустный","реторический","вопрос","скатился","его","щеке","продолжил","свой","путь","дороге","встретил","рукопись","она","предупредила","моей","все","переписывается","несколько","раз","единственное","что","меня","осталось","это","приставка","возвращайся","ты","лучше","свою","безопасную","страну","послушавшись","рукописи","наш","продолжил","свой","путь","вскоре","ему","повстречался","коварный","составитель","рекламных","текстов","напоивший","языком","речью","заманивший","свое","агенство","которое","использовало","снова","снова","своих","проектах","если","переписали","то","живет","там","до","сих","пор"]}},s=t("preferences");return s.define("lorem.defaultLang","en"),t("abbreviationParser").addPreprocessor(function(t){var e,l=/^(?:lorem|lipsum)([a-z]{2})?(\d*)$/i;t.findAll(function(t){if(t._name&&(e=t._name.match(l))){var u=e[2]||30,c=e[1]||s.get("lorem.defaultLang")||"en";t._name="",t.data("forceNameResolving",t.isRepeating()||t.attributeList().length),t.data("pasteOverwrites",!0),t.data("paste",function(t){var e;e=u;var s=!t;if(t=a[c]){var l=[],f=0;for(e=parseInt(e,10),s&&t.common&&(s=t.common.slice(0,e),s.length>5&&(s[4]+=","),f+=s.length,l.push(i(s,".")));e>f;)s=r(t.words,Math.min(n(3,12)*n(1,5),e-f)),f+=s.length,o(s),l.push(i(s));e=l.join(" ")}else e="";return e})}})}),{addLang:function(t,n){e.isString(n)?n={words:e.compact(n.split(" "))}:e.isArray(n)&&(n={words:n}),a[t]=n}}}),emmet.exec(function(t){t("actions").add("select_line",function(t){var e=t.getCurrentLineRange();return t.createSelection(e.start,e.end),!0})}),emmet.exec(function(t){t("resources").setVocabulary({variables:{lang:"en",locale:"en-US",charset:"UTF-8",indentation:"	",newline:"\n"},css:{filters:"html",snippets:{"@i":"@import url(|);","@import":"@import url(|);","@m":"@media ${1:screen} {\n	|\n}","@media":"@media ${1:screen} {\n	|\n}","@f":"@font-face {\n	font-family:|;\n	src:url(|);\n}","@f+":"@font-face {\n	font-family: '${1:FontName}';\n	src: url('${2:FileName}.eot');\n	src: url('${2:FileName}.eot?#iefix') format('embedded-opentype'),\n		 url('${2:FileName}.woff') format('woff'),\n		 url('${2:FileName}.ttf') format('truetype'),\n		 url('${2:FileName}.svg#${1:FontName}') format('svg');\n	font-style: ${3:normal};\n	font-weight: ${4:normal};\n}","@kf":"@-webkit-keyframes ${1:identifier} {\n	${2:from} { ${3} }${6}\n	${4:to} { ${5} }\n}\n@-o-keyframes ${1:identifier} {\n	${2:from} { ${3} }${6}\n	${4:to} { ${5} }\n}\n@-moz-keyframes ${1:identifier} {\n	${2:from} { ${3} }${6}\n	${4:to} { ${5} }\n}\n@keyframes ${1:identifier} {\n	${2:from} { ${3} }${6}\n	${4:to} { ${5} }\n}",anim:"animation:|;","anim-":"animation:${1:name} ${2:duration} ${3:timing-function} ${4:delay} ${5:iteration-count} ${6:direction} ${7:fill-mode};",animdel:"animation-delay:${1:time};",animdir:"animation-direction:${1:normal};","animdir:n":"animation-direction:normal;","animdir:r":"animation-direction:reverse;","animdir:a":"animation-direction:alternate;","animdir:ar":"animation-direction:alternate-reverse;",animdur:"animation-duration:${1:0}s;",animfm:"animation-fill-mode:${1:both};","animfm:f":"animation-fill-mode:forwards;","animfm:b":"animation-fill-mode:backwards;","animfm:bt":"animation-fill-mode:both;","animfm:bh":"animation-fill-mode:both;",animic:"animation-iteration-count:${1:1};","animic:i":"animation-iteration-count:infinite;",animn:"animation-name:${1:none};",animps:"animation-play-state:${1:running};","animps:p":"animation-play-state:paused;","animps:r":"animation-play-state:running;",animtf:"animation-timing-function:${1:linear};","animtf:e":"animation-timing-function:ease;","animtf:ei":"animation-timing-function:ease-in;","animtf:eo":"animation-timing-function:ease-out;","animtf:eio":"animation-timing-function:ease-in-out;","animtf:l":"animation-timing-function:linear;","animtf:cb":"animation-timing-function:cubic-bezier(${1:0.1}, ${2:0.7}, ${3:1.0}, ${3:0.1});",ap:"appearance:${none};","!":"!important",pos:"position:${1:relative};","pos:s":"position:static;","pos:a":"position:absolute;","pos:r":"position:relative;","pos:f":"position:fixed;",t:"top:|;","t:a":"top:auto;",r:"right:|;","r:a":"right:auto;",b:"bottom:|;","b:a":"bottom:auto;",l:"left:|;","l:a":"left:auto;",z:"z-index:|;","z:a":"z-index:auto;",fl:"float:${1:left};","fl:n":"float:none;","fl:l":"float:left;","fl:r":"float:right;",cl:"clear:${1:both};","cl:n":"clear:none;","cl:l":"clear:left;","cl:r":"clear:right;","cl:b":"clear:both;",colm:"columns:|;",colmc:"column-count:|;",colmf:"column-fill:|;",colmg:"column-gap:|;",colmr:"column-rule:|;",colmrc:"column-rule-color:|;",colmrs:"column-rule-style:|;",colmrw:"column-rule-width:|;",colms:"column-span:|;",colmw:"column-width:|;",d:"display:${1:block};","d:n":"display:none;","d:b":"display:block;","d:i":"display:inline;","d:ib":"display:inline-block;","d:li":"display:list-item;","d:ri":"display:run-in;","d:cp":"display:compact;","d:tb":"display:table;","d:itb":"display:inline-table;","d:tbcp":"display:table-caption;","d:tbcl":"display:table-column;","d:tbclg":"display:table-column-group;","d:tbhg":"display:table-header-group;","d:tbfg":"display:table-footer-group;","d:tbr":"display:table-row;","d:tbrg":"display:table-row-group;","d:tbc":"display:table-cell;","d:rb":"display:ruby;","d:rbb":"display:ruby-base;","d:rbbg":"display:ruby-base-group;","d:rbt":"display:ruby-text;","d:rbtg":"display:ruby-text-group;",v:"visibility:${1:hidden};","v:v":"visibility:visible;","v:h":"visibility:hidden;","v:c":"visibility:collapse;",ov:"overflow:${1:hidden};","ov:v":"overflow:visible;","ov:h":"overflow:hidden;","ov:s":"overflow:scroll;","ov:a":"overflow:auto;",ovx:"overflow-x:${1:hidden};","ovx:v":"overflow-x:visible;","ovx:h":"overflow-x:hidden;","ovx:s":"overflow-x:scroll;","ovx:a":"overflow-x:auto;",ovy:"overflow-y:${1:hidden};","ovy:v":"overflow-y:visible;","ovy:h":"overflow-y:hidden;","ovy:s":"overflow-y:scroll;","ovy:a":"overflow-y:auto;",ovs:"overflow-style:${1:scrollbar};","ovs:a":"overflow-style:auto;","ovs:s":"overflow-style:scrollbar;","ovs:p":"overflow-style:panner;","ovs:m":"overflow-style:move;","ovs:mq":"overflow-style:marquee;",zoo:"zoom:1;",zm:"zoom:1;",cp:"clip:|;","cp:a":"clip:auto;","cp:r":"clip:rect(${1:top} ${2:right} ${3:bottom} ${4:left});",bxz:"box-sizing:${1:border-box};","bxz:cb":"box-sizing:content-box;","bxz:bb":"box-sizing:border-box;",bxsh:"box-shadow:${1:inset }${2:hoff} ${3:voff} ${4:blur} ${5:color};","bxsh:r":"box-shadow:${1:inset }${2:hoff} ${3:voff} ${4:blur} ${5:spread }rgb(${6:0}, ${7:0}, ${8:0});","bxsh:ra":"box-shadow:${1:inset }${2:h} ${3:v} ${4:blur} ${5:spread }rgba(${6:0}, ${7:0}, ${8:0}, .${9:5});","bxsh:n":"box-shadow:none;",m:"margin:|;","m:a":"margin:auto;",mt:"margin-top:|;","mt:a":"margin-top:auto;",mr:"margin-right:|;","mr:a":"margin-right:auto;",mb:"margin-bottom:|;","mb:a":"margin-bottom:auto;",ml:"margin-left:|;","ml:a":"margin-left:auto;",p:"padding:|;",pt:"padding-top:|;",pr:"padding-right:|;",pb:"padding-bottom:|;",pl:"padding-left:|;",w:"width:|;","w:a":"width:auto;",h:"height:|;","h:a":"height:auto;",maw:"max-width:|;","maw:n":"max-width:none;",mah:"max-height:|;","mah:n":"max-height:none;",miw:"min-width:|;",mih:"min-height:|;",mar:"max-resolution:${1:res};",mir:"min-resolution:${1:res};",ori:"orientation:|;","ori:l":"orientation:landscape;","ori:p":"orientation:portrait;",ol:"outline:|;","ol:n":"outline:none;",olo:"outline-offset:|;",olw:"outline-width:|;",ols:"outline-style:|;",olc:"outline-color:#${1:000};","olc:i":"outline-color:invert;",bd:"border:|;","bd+":"border:${1:1px} ${2:solid} ${3:#000};","bd:n":"border:none;",bdbk:"border-break:${1:close};","bdbk:c":"border-break:close;",bdcl:"border-collapse:|;","bdcl:c":"border-collapse:collapse;","bdcl:s":"border-collapse:separate;",bdc:"border-color:#${1:000};","bdc:t":"border-color:transparent;",bdi:"border-image:url(|);","bdi:n":"border-image:none;",bdti:"border-top-image:url(|);","bdti:n":"border-top-image:none;",bdri:"border-right-image:url(|);","bdri:n":"border-right-image:none;",bdbi:"border-bottom-image:url(|);","bdbi:n":"border-bottom-image:none;",bdli:"border-left-image:url(|);","bdli:n":"border-left-image:none;",bdci:"border-corner-image:url(|);","bdci:n":"border-corner-image:none;","bdci:c":"border-corner-image:continue;",bdtli:"border-top-left-image:url(|);","bdtli:n":"border-top-left-image:none;","bdtli:c":"border-top-left-image:continue;",bdtri:"border-top-right-image:url(|);","bdtri:n":"border-top-right-image:none;","bdtri:c":"border-top-right-image:continue;",bdbri:"border-bottom-right-image:url(|);","bdbri:n":"border-bottom-right-image:none;","bdbri:c":"border-bottom-right-image:continue;",bdbli:"border-bottom-left-image:url(|);","bdbli:n":"border-bottom-left-image:none;","bdbli:c":"border-bottom-left-image:continue;",bdf:"border-fit:${1:repeat};","bdf:c":"border-fit:clip;","bdf:r":"border-fit:repeat;","bdf:sc":"border-fit:scale;","bdf:st":"border-fit:stretch;","bdf:ow":"border-fit:overwrite;","bdf:of":"border-fit:overflow;","bdf:sp":"border-fit:space;",bdlen:"border-length:|;","bdlen:a":"border-length:auto;",bdsp:"border-spacing:|;",bds:"border-style:|;","bds:n":"border-style:none;","bds:h":"border-style:hidden;","bds:dt":"border-style:dotted;","bds:ds":"border-style:dashed;","bds:s":"border-style:solid;","bds:db":"border-style:double;","bds:dtds":"border-style:dot-dash;","bds:dtdtds":"border-style:dot-dot-dash;","bds:w":"border-style:wave;","bds:g":"border-style:groove;","bds:r":"border-style:ridge;","bds:i":"border-style:inset;","bds:o":"border-style:outset;",bdw:"border-width:|;",bdtw:"border-top-width:|;",bdrw:"border-right-width:|;",bdbw:"border-bottom-width:|;",bdlw:"border-left-width:|;",bdt:"border-top:|;",bt:"border-top:|;","bdt+":"border-top:${1:1px} ${2:solid} ${3:#000};","bdt:n":"border-top:none;",bdts:"border-top-style:|;","bdts:n":"border-top-style:none;",bdtc:"border-top-color:#${1:000};","bdtc:t":"border-top-color:transparent;",bdr:"border-right:|;",br:"border-right:|;","bdr+":"border-right:${1:1px} ${2:solid} ${3:#000};","bdr:n":"border-right:none;",bdrst:"border-right-style:|;","bdrst:n":"border-right-style:none;",bdrc:"border-right-color:#${1:000};","bdrc:t":"border-right-color:transparent;",bdb:"border-bottom:|;",bb:"border-bottom:|;","bdb+":"border-bottom:${1:1px} ${2:solid} ${3:#000};","bdb:n":"border-bottom:none;",bdbs:"border-bottom-style:|;","bdbs:n":"border-bottom-style:none;",bdbc:"border-bottom-color:#${1:000};","bdbc:t":"border-bottom-color:transparent;",bdl:"border-left:|;",bl:"border-left:|;","bdl+":"border-left:${1:1px} ${2:solid} ${3:#000};","bdl:n":"border-left:none;",bdls:"border-left-style:|;","bdls:n":"border-left-style:none;",bdlc:"border-left-color:#${1:000};","bdlc:t":"border-left-color:transparent;",bdrs:"border-radius:|;",bdtrrs:"border-top-right-radius:|;",bdtlrs:"border-top-left-radius:|;",bdbrrs:"border-bottom-right-radius:|;",bdblrs:"border-bottom-left-radius:|;",bg:"background:|;","bg+":"background:${1:#fff} url(${2}) ${3:0} ${4:0} ${5:no-repeat};","bg:n":"background:none;","bg:ie":"filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='${1:x}.png',sizingMethod='${2:crop}');",bgc:"background-color:#${1:fff};","bgc:t":"background-color:transparent;",bgi:"background-image:url(|);","bgi:n":"background-image:none;",bgr:"background-repeat:|;","bgr:n":"background-repeat:no-repeat;","bgr:x":"background-repeat:repeat-x;","bgr:y":"background-repeat:repeat-y;","bgr:sp":"background-repeat:space;","bgr:rd":"background-repeat:round;",bga:"background-attachment:|;","bga:f":"background-attachment:fixed;","bga:s":"background-attachment:scroll;",bgp:"background-position:${1:0} ${2:0};",bgpx:"background-position-x:|;",bgpy:"background-position-y:|;",bgbk:"background-break:|;","bgbk:bb":"background-break:bounding-box;","bgbk:eb":"background-break:each-box;","bgbk:c":"background-break:continuous;",bgcp:"background-clip:${1:padding-box};","bgcp:bb":"background-clip:border-box;","bgcp:pb":"background-clip:padding-box;","bgcp:cb":"background-clip:content-box;","bgcp:nc":"background-clip:no-clip;",bgo:"background-origin:|;","bgo:pb":"background-origin:padding-box;","bgo:bb":"background-origin:border-box;","bgo:cb":"background-origin:content-box;",bgsz:"background-size:|;","bgsz:a":"background-size:auto;","bgsz:ct":"background-size:contain;","bgsz:cv":"background-size:cover;",c:"color:#${1:000};","c:r":"color:rgb(${1:0}, ${2:0}, ${3:0});","c:ra":"color:rgba(${1:0}, ${2:0}, ${3:0}, .${4:5});",cm:"/* |${child} */",cnt:"content:'|';","cnt:n":"content:normal;","cnt:oq":"content:open-quote;","cnt:noq":"content:no-open-quote;","cnt:cq":"content:close-quote;","cnt:ncq":"content:no-close-quote;","cnt:a":"content:attr(|);","cnt:c":"content:counter(|);","cnt:cs":"content:counters(|);",tbl:"table-layout:|;","tbl:a":"table-layout:auto;","tbl:f":"table-layout:fixed;",cps:"caption-side:|;","cps:t":"caption-side:top;","cps:b":"caption-side:bottom;",ec:"empty-cells:|;","ec:s":"empty-cells:show;","ec:h":"empty-cells:hide;",lis:"list-style:|;","lis:n":"list-style:none;",lisp:"list-style-position:|;","lisp:i":"list-style-position:inside;","lisp:o":"list-style-position:outside;",list:"list-style-type:|;","list:n":"list-style-type:none;","list:d":"list-style-type:disc;","list:c":"list-style-type:circle;","list:s":"list-style-type:square;","list:dc":"list-style-type:decimal;","list:dclz":"list-style-type:decimal-leading-zero;","list:lr":"list-style-type:lower-roman;","list:ur":"list-style-type:upper-roman;",lisi:"list-style-image:|;","lisi:n":"list-style-image:none;",q:"quotes:|;","q:n":"quotes:none;","q:ru":"quotes:'\\00AB' '\\00BB' '\\201E' '\\201C';","q:en":"quotes:'\\201C' '\\201D' '\\2018' '\\2019';",ct:"content:|;","ct:n":"content:normal;","ct:oq":"content:open-quote;","ct:noq":"content:no-open-quote;","ct:cq":"content:close-quote;","ct:ncq":"content:no-close-quote;","ct:a":"content:attr(|);","ct:c":"content:counter(|);","ct:cs":"content:counters(|);",coi:"counter-increment:|;",cor:"counter-reset:|;",va:"vertical-align:${1:top};","va:sup":"vertical-align:super;","va:t":"vertical-align:top;","va:tt":"vertical-align:text-top;","va:m":"vertical-align:middle;","va:bl":"vertical-align:baseline;","va:b":"vertical-align:bottom;","va:tb":"vertical-align:text-bottom;","va:sub":"vertical-align:sub;",ta:"text-align:${1:left};","ta:l":"text-align:left;","ta:c":"text-align:center;","ta:r":"text-align:right;","ta:j":"text-align:justify;","ta-lst":"text-align-last:|;","tal:a":"text-align-last:auto;","tal:l":"text-align-last:left;","tal:c":"text-align-last:center;","tal:r":"text-align-last:right;",td:"text-decoration:${1:none};","td:n":"text-decoration:none;","td:u":"text-decoration:underline;","td:o":"text-decoration:overline;","td:l":"text-decoration:line-through;",te:"text-emphasis:|;","te:n":"text-emphasis:none;","te:ac":"text-emphasis:accent;","te:dt":"text-emphasis:dot;","te:c":"text-emphasis:circle;","te:ds":"text-emphasis:disc;","te:b":"text-emphasis:before;","te:a":"text-emphasis:after;",th:"text-height:|;","th:a":"text-height:auto;","th:f":"text-height:font-size;","th:t":"text-height:text-size;","th:m":"text-height:max-size;",ti:"text-indent:|;","ti:-":"text-indent:-9999px;",tj:"text-justify:|;","tj:a":"text-justify:auto;","tj:iw":"text-justify:inter-word;","tj:ii":"text-justify:inter-ideograph;","tj:ic":"text-justify:inter-cluster;","tj:d":"text-justify:distribute;","tj:k":"text-justify:kashida;","tj:t":"text-justify:tibetan;",tov:"text-overflow:${ellipsis};","tov:e":"text-overflow:ellipsis;","tov:c":"text-overflow:clip;",to:"text-outline:|;","to+":"text-outline:${1:0} ${2:0} ${3:#000};","to:n":"text-outline:none;",tr:"text-replace:|;","tr:n":"text-replace:none;",tt:"text-transform:${1:uppercase};","tt:n":"text-transform:none;","tt:c":"text-transform:capitalize;","tt:u":"text-transform:uppercase;","tt:l":"text-transform:lowercase;",tw:"text-wrap:|;","tw:n":"text-wrap:normal;","tw:no":"text-wrap:none;","tw:u":"text-wrap:unrestricted;","tw:s":"text-wrap:suppress;",tsh:"text-shadow:${1:hoff} ${2:voff} ${3:blur} ${4:#000};","tsh:r":"text-shadow:${1:h} ${2:v} ${3:blur} rgb(${4:0}, ${5:0}, ${6:0});","tsh:ra":"text-shadow:${1:h} ${2:v} ${3:blur} rgba(${4:0}, ${5:0}, ${6:0}, .${7:5});","tsh+":"text-shadow:${1:0} ${2:0} ${3:0} ${4:#000};","tsh:n":"text-shadow:none;",trf:"transform:|;","trf:skx":"transform: skewX(${1:angle});","trf:sky":"transform: skewY(${1:angle});","trf:sc":"transform: scale(${1:x}, ${2:y});","trf:scx":"transform: scaleX(${1:x});","trf:scy":"transform: scaleY(${1:y});","trf:r":"transform: rotate(${1:angle});","trf:t":"transform: translate(${1:x}, ${2:y});","trf:tx":"transform: translateX(${1:x});","trf:ty":"transform: translateY(${1:y});",trfo:"transform-origin:|;",trfs:"transform-style:${1:preserve-3d};",trs:"transition:${1:prop} ${2:time};",trsde:"transition-delay:${1:time};",trsdu:"transition-duration:${1:time};",trsp:"transition-property:${1:prop};",trstf:"transition-timing-function:${1:tfunc};",lh:"line-height:|;",whs:"white-space:|;","whs:n":"white-space:normal;","whs:p":"white-space:pre;","whs:nw":"white-space:nowrap;","whs:pw":"white-space:pre-wrap;","whs:pl":"white-space:pre-line;",whsc:"white-space-collapse:|;","whsc:n":"white-space-collapse:normal;","whsc:k":"white-space-collapse:keep-all;","whsc:l":"white-space-collapse:loose;","whsc:bs":"white-space-collapse:break-strict;","whsc:ba":"white-space-collapse:break-all;",wob:"word-break:|;","wob:n":"word-break:normal;","wob:k":"word-break:keep-all;","wob:l":"word-break:loose;","wob:bs":"word-break:break-strict;","wob:ba":"word-break:break-all;",wos:"word-spacing:|;",wow:"word-wrap:|;","wow:nm":"word-wrap:normal;","wow:n":"word-wrap:none;","wow:u":"word-wrap:unrestricted;","wow:s":"word-wrap:suppress;","wow:b":"word-wrap:break-word;",lts:"letter-spacing:|;",f:"font:|;","f+":"font:${1:1em} ${2:Arial,sans-serif};",fw:"font-weight:|;","fw:n":"font-weight:normal;","fw:b":"font-weight:bold;","fw:br":"font-weight:bolder;","fw:lr":"font-weight:lighter;",fs:"font-style:${italic};","fs:n":"font-style:normal;","fs:i":"font-style:italic;","fs:o":"font-style:oblique;",fv:"font-variant:|;","fv:n":"font-variant:normal;","fv:sc":"font-variant:small-caps;",fz:"font-size:|;",fza:"font-size-adjust:|;","fza:n":"font-size-adjust:none;",ff:"font-family:|;","ff:s":"font-family:serif;","ff:ss":"font-family:sans-serif;","ff:c":"font-family:cursive;","ff:f":"font-family:fantasy;","ff:m":"font-family:monospace;","ff:a":'font-family: Arial, "Helvetica Neue", Helvetica, sans-serif;',fef:"font-effect:|;","fef:n":"font-effect:none;","fef:eg":"font-effect:engrave;","fef:eb":"font-effect:emboss;","fef:o":"font-effect:outline;",fem:"font-emphasize:|;",femp:"font-emphasize-position:|;","femp:b":"font-emphasize-position:before;","femp:a":"font-emphasize-position:after;",fems:"font-emphasize-style:|;","fems:n":"font-emphasize-style:none;","fems:ac":"font-emphasize-style:accent;","fems:dt":"font-emphasize-style:dot;","fems:c":"font-emphasize-style:circle;","fems:ds":"font-emphasize-style:disc;",fsm:"font-smooth:|;","fsm:a":"font-smooth:auto;","fsm:n":"font-smooth:never;","fsm:aw":"font-smooth:always;",fst:"font-stretch:|;","fst:n":"font-stretch:normal;","fst:uc":"font-stretch:ultra-condensed;","fst:ec":"font-stretch:extra-condensed;","fst:c":"font-stretch:condensed;","fst:sc":"font-stretch:semi-condensed;","fst:se":"font-stretch:semi-expanded;","fst:e":"font-stretch:expanded;","fst:ee":"font-stretch:extra-expanded;","fst:ue":"font-stretch:ultra-expanded;",op:"opacity:|;","op:ie":"filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=100);","op:ms":"-ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=100)';",rsz:"resize:|;","rsz:n":"resize:none;","rsz:b":"resize:both;","rsz:h":"resize:horizontal;","rsz:v":"resize:vertical;",cur:"cursor:${pointer};","cur:a":"cursor:auto;","cur:d":"cursor:default;","cur:c":"cursor:crosshair;","cur:ha":"cursor:hand;","cur:he":"cursor:help;","cur:m":"cursor:move;","cur:p":"cursor:pointer;","cur:t":"cursor:text;",pgbb:"page-break-before:|;","pgbb:au":"page-break-before:auto;","pgbb:al":"page-break-before:always;","pgbb:l":"page-break-before:left;","pgbb:r":"page-break-before:right;",pgbi:"page-break-inside:|;","pgbi:au":"page-break-inside:auto;","pgbi:av":"page-break-inside:avoid;",pgba:"page-break-after:|;","pgba:au":"page-break-after:auto;","pgba:al":"page-break-after:always;","pgba:l":"page-break-after:left;","pgba:r":"page-break-after:right;",orp:"orphans:|;",us:"user-select:${none};",wid:"widows:|;",wfsm:"-webkit-font-smoothing:${antialiased};","wfsm:a":"-webkit-font-smoothing:antialiased;","wfsm:s":"-webkit-font-smoothing:subpixel-antialiased;","wfsm:sa":"-webkit-font-smoothing:subpixel-antialiased;","wfsm:n":"-webkit-font-smoothing:none;"}},html:{filters:"html",profile:"html",snippets:{"!!!":"<!doctype html>","!!!4t":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">',"!!!4s":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">',"!!!xt":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',"!!!xs":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">',"!!!xxs":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">',c:"<!-- |${child} -->","cc:ie6":"<!--[if lte IE 6]>\n	${child}|\n<![endif]-->","cc:ie":"<!--[if IE]>\n	${child}|\n<![endif]-->","cc:noie":"<!--[if !IE]><!-->\n	${child}|\n<!--<![endif]-->"},abbreviations:{"!":"html:5",a:'<a href="">',"a:link":'<a href="http://|">',"a:mail":'<a href="mailto:|">',abbr:'<abbr title="">',acronym:'<acronym title="">',base:'<base href="" />',basefont:"<basefont/>",br:"<br/>",frame:"<frame/>",hr:"<hr/>",bdo:'<bdo dir="">',"bdo:r":'<bdo dir="rtl">',"bdo:l":'<bdo dir="ltr">',col:"<col/>",link:'<link rel="stylesheet" href="" />',"link:css":'<link rel="stylesheet" href="${1:style}.css" />',"link:print":'<link rel="stylesheet" href="${1:print}.css" media="print" />',"link:favicon":'<link rel="shortcut icon" type="image/x-icon" href="${1:favicon.ico}" />',"link:touch":'<link rel="apple-touch-icon" href="${1:favicon.png}" />',"link:rss":'<link rel="alternate" type="application/rss+xml" title="RSS" href="${1:rss.xml}" />',"link:atom":'<link rel="alternate" type="application/atom+xml" title="Atom" href="${1:atom.xml}" />',meta:"<meta/>","meta:utf":'<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />',"meta:win":'<meta http-equiv="Content-Type" content="text/html;charset=windows-1251" />',"meta:vp":'<meta name="viewport" content="width=${1:device-width}, user-scalable=${2:no}, initial-scale=${3:1.0}, maximum-scale=${4:1.0}, minimum-scale=${5:1.0}" />',"meta:compat":'<meta http-equiv="X-UA-Compatible" content="${1:IE=7}" />',style:"<style>",script:"<script>","script:src":'<script src="">',img:'<img src="" alt="" />',iframe:'<iframe src="" frameborder="0">',embed:'<embed src="" type="" />',object:'<object data="" type="">',param:'<param name="" value="" />',map:'<map name="">',area:'<area shape="" coords="" href="" alt="" />',"area:d":'<area shape="default" href="" alt="" />',"area:c":'<area shape="circle" coords="" href="" alt="" />',"area:r":'<area shape="rect" coords="" href="" alt="" />',"area:p":'<area shape="poly" coords="" href="" alt="" />',form:'<form action="">',"form:get":'<form action="" method="get">',"form:post":'<form action="" method="post">',label:'<label for="">',input:'<input type="${1:text}" />',inp:'<input type="${1:text}" name="" id="" />',"input:hidden":"input[type=hidden name]","input:h":"input:hidden","input:text":"inp","input:t":"inp","input:search":"inp[type=search]","input:email":"inp[type=email]","input:url":"inp[type=url]","input:password":"inp[type=password]","input:p":"input:password","input:datetime":"inp[type=datetime]","input:date":"inp[type=date]","input:datetime-local":"inp[type=datetime-local]","input:month":"inp[type=month]","input:week":"inp[type=week]","input:time":"inp[type=time]","input:number":"inp[type=number]","input:color":"inp[type=color]","input:checkbox":"inp[type=checkbox]","input:c":"input:checkbox","input:radio":"inp[type=radio]","input:r":"input:radio","input:range":"inp[type=range]","input:file":"inp[type=file]","input:f":"input:file","input:submit":'<input type="submit" value="" />',"input:s":"input:submit","input:image":'<input type="image" src="" alt="" />',"input:i":"input:image","input:button":'<input type="button" value="" />',"input:b":"input:button",isindex:"<isindex/>","input:reset":"input:button[type=reset]",select:'<select name="" id="">',option:'<option value="">',textarea:'<textarea name="" id="" cols="${1:30}" rows="${2:10}">',"menu:context":"menu[type=context]>","menu:c":"menu:context","menu:toolbar":"menu[type=toolbar]>","menu:t":"menu:toolbar",video:'<video src="">',audio:'<audio src="">',"html:xml":'<html xmlns="http://www.w3.org/1999/xhtml">',keygen:"<keygen/>",command:"<command/>",bq:"blockquote",acr:"acronym",fig:"figure",figc:"figcaption",ifr:"iframe",emb:"embed",obj:"object",src:"source",cap:"caption",colg:"colgroup",fst:"fieldset",btn:"button","btn:b":"button[type=button]","btn:r":"button[type=reset]","btn:s":"button[type=submit]",optg:"optgroup",opt:"option",tarea:"textarea",leg:"legend",sect:"section",art:"article",hdr:"header",ftr:"footer",adr:"address",dlg:"dialog",str:"strong",prog:"progress",fset:"fieldset",datag:"datagrid",datal:"datalist",kg:"keygen",out:"output",det:"details",cmd:"command",doc:"html>(head>meta[charset=UTF-8]+title{${1:Document}})+body",doc4:'html>(head>meta[http-equiv="Content-Type" content="text/html;charset=${charset}"]+title{${1:Document}})+body',"html:4t":"!!!4t+doc4[lang=${lang}]","html:4s":"!!!4s+doc4[lang=${lang}]","html:xt":"!!!xt+doc4[xmlns=http://www.w3.org/1999/xhtml xml:lang=${lang}]","html:xs":"!!!xs+doc4[xmlns=http://www.w3.org/1999/xhtml xml:lang=${lang}]","html:xxs":"!!!xxs+doc4[xmlns=http://www.w3.org/1999/xhtml xml:lang=${lang}]","html:5":"!!!+doc[lang=${lang}]","ol+":"ol>li","ul+":"ul>li","dl+":"dl>dt+dd","map+":"map>area","table+":"table>tr>td","colgroup+":"colgroup>col","colg+":"colgroup>col","tr+":"tr>td","select+":"select>option","optgroup+":"optgroup>option","optg+":"optgroup>option"}},xml:{"extends":"html",profile:"xml",filters:"html"},xsl:{"extends":"html",profile:"xml",filters:"html, xsl",abbreviations:{tm:'<xsl:template match="" mode="">',tmatch:"tm",tn:'<xsl:template name="">',tname:"tn",call:'<xsl:call-template name=""/>',ap:'<xsl:apply-templates select="" mode=""/>',api:"<xsl:apply-imports/>",imp:'<xsl:import href=""/>',inc:'<xsl:include href=""/>',ch:"<xsl:choose>","xsl:when":'<xsl:when test="">',wh:"xsl:when",ot:"<xsl:otherwise>","if":'<xsl:if test="">',par:'<xsl:param name="">',pare:'<xsl:param name="" select=""/>',"var":'<xsl:variable name="">',vare:'<xsl:variable name="" select=""/>',wp:'<xsl:with-param name="" select=""/>',key:'<xsl:key name="" match="" use=""/>',elem:'<xsl:element name="">',attr:'<xsl:attribute name="">',attrs:'<xsl:attribute-set name="">',cp:'<xsl:copy select=""/>',co:'<xsl:copy-of select=""/>',val:'<xsl:value-of select=""/>',each:'<xsl:for-each select="">',"for":"each",tex:"<xsl:text></xsl:text>",com:"<xsl:comment>",msg:'<xsl:message terminate="no">',fall:"<xsl:fallback>",num:'<xsl:number value=""/>',nam:'<namespace-alias stylesheet-prefix="" result-prefix=""/>',pres:'<xsl:preserve-space elements=""/>',strip:'<xsl:strip-space elements=""/>',proc:'<xsl:processing-instruction name="">',sort:'<xsl:sort select="" order=""/>',"choose+":"xsl:choose>xsl:when+xsl:otherwise",xsl:"!!!+xsl:stylesheet[version=1.0 xmlns:xsl=http://www.w3.org/1999/XSL/Transform]>{\n|}"},snippets:{"!!!":'<?xml version="1.0" encoding="UTF-8"?>'}},haml:{filters:"haml","extends":"html",profile:"xml"},scss:{"extends":"css"},sass:{"extends":"css"},less:{"extends":"css"},stylus:{"extends":"css"},styl:{"extends":"stylus"}},"system")}),emmet.define("cm-editor-proxy",function(t,e){function n(){if(CodeMirror.version>="3.1")return CodeMirror.Pass;throw CodeMirror.Pass}var r=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)||/Mac/.test(navigator.platform),i={"Cmd-E":"expand_abbreviation",Tab:"expand_abbreviation_with_tab","Cmd-D":"match_pair_outward","Shift-Cmd-D":"match_pair_inward","Cmd-T":"matching_pair","Shift-Cmd-A":"wrap_with_abbreviation","Ctrl-Alt-Right":"next_edit_point","Ctrl-Alt-Left":"prev_edit_point","Cmd-L":"select_line","Cmd-Shift-M":"merge_lines","Cmd-/":"toggle_comment","Cmd-J":"split_join_tag","Cmd-K":"remove_tag","Shift-Cmd-Y":"evaluate_math_expression","Ctrl-Up":"increment_number_by_1","Ctrl-Down":"decrement_number_by_1","Alt-Up":"increment_number_by_01","Alt-Down":"decrement_number_by_01","Ctrl-Alt-Up":"increment_number_by_10","Ctrl-Alt-Down":"decrement_number_by_10","Shift-Cmd-.":"select_next_item","Shift-Cmd-,":"select_previous_item","Cmd-B":"reflect_css_value",Enter:"insert_formatted_line_break_only"},o={"text/html":"html","application/xml":"xml","text/xsl":"xsl","text/css":"css","text/x-less":"less"};
CodeMirror.defineOption?CodeMirror.defineOption("profile","html"):CodeMirror.defaults.profile="html";var a={context:null,getSelectionRange:function(){var t=this.getCaretPos();return{start:t,end:t+this.getSelection().length}},createSelection:function(t,e){t==e?this.context.setCursor(this.context.posFromIndex(t)):this.context.setSelection(this.context.posFromIndex(t),this.context.posFromIndex(e))},getCurrentLineRange:function(){var t=this.context.getCursor(!0);return{start:this.context.indexFromPos({line:t.line,ch:0}),end:this.context.indexFromPos({line:t.line,ch:this.context.getLine(t.line).length})}},getCaretPos:function(){return this.context.indexFromPos(this.context.getCursor(!0))},setCaretPos:function(t){this.createSelection(t,t)},getCurrentLine:function(){return this.context.getLine(this.context.getCursor(!0).line)||""},replaceContent:function(n,r,i,o){e.isUndefined(i)&&(i=e.isUndefined(r)?content.length:r),e.isUndefined(r)&&(r=0);var a=t("utils");o||(n=a.padString(n,a.getLinePaddingFromPosition(this.getContent(),r)));var o=t("tabStops").extract(n,{escape:function(t){return t}}),n=o.text,s=o.tabstops[0];s?(s.start+=r,s.end+=r):s={start:n.length+r,end:n.length+r};var l=this;(this.context.operation||this.context.compoundChange).call(this.context,function(){l.context.replaceRange(n,l.context.posFromIndex(r),l.context.posFromIndex(i)),l.createSelection(s.start,s.end)})},getContent:function(){return this.context.getValue()},getSyntax:function(){var e=this.context.getOption("mode");return e in o&&(e=o[e]),t("actionUtils").detectSyntax(this,e)},getProfileName:function(){return this.context.getOption("profile")?this.context.getOption("profile"):t("actionUtils").detectProfile(this)},prompt:function(t){return prompt(t)},getSelection:function(){return this.context.getSelection()||""},getFilePath:function(){return location.href},setupContext:function(e){this.context=e;var n="	";e.getOption("indentWithTabs")||(n=t("utils").repeatString(" ",e.getOption("indentUnit"))),t("resources").setVariable("indentation",n)},addAction:function(e,i,o){var s="emmet."+e;CodeMirror.commands[s]||(CodeMirror.commands[s]=function(r){var i;a.setupContext(r);var o;if((o="expand_abbreviation_with_tab"==e)&&((o=a.getSelection())||(o=a.getSyntax(),o=!t("resources").hasSyntax(o))),o)i=n();else{o=!0;try{var s=t("actions").run(e,a);("next_edit_point"==e||"prev_edit_point"==e)&&r.replaceSelection(""),!s&&"insert_formatted_line_break_only"==e&&(o=!1)}catch(l){}o||(i=n())}return i}),i&&(o||(CodeMirror.keyMap&&CodeMirror.keyMap["default"]?o=CodeMirror.keyMap["default"]:(CodeMirror.defaults.extraKeys||(CodeMirror.defaults.extraKeys={}),o=CodeMirror.defaults.extraKeys)),r||(i=i.replace("Cmd","Ctrl")),o&&(o[i]=s))}};return"undefined"!=typeof emmetKeymap&&(i=emmetKeymap),e.each(i,function(t,e){a.addAction(t,e)}),a}),function(){var t=this,e=t._,n={},r=Array.prototype,i=Object.prototype,o=Function.prototype,a=r.push,s=r.slice,l=r.concat,u=i.toString,c=i.hasOwnProperty,f=r.forEach,d=r.map,h=r.reduce,p=r.reduceRight,m=r.filter,g=r.every,v=r.some,b=r.indexOf,y=r.lastIndexOf,x=Array.isArray,w=Object.keys,C=o.bind,k=function(t){return t instanceof k?t:this instanceof k?(this._wrapped=t,void 0):new k(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=k),exports._=k):t._=k,k.VERSION="1.4.3";var S=k.each=k.forEach=function(t,e,r){if(null!=t)if(f&&t.forEach===f)t.forEach(e,r);else if(t.length===+t.length){for(var i=0,o=t.length;o>i;i++)if(e.call(r,t[i],i,t)===n)return}else for(var a in t)if(k.has(t,a)&&e.call(r,t[a],a,t)===n)return};k.map=k.collect=function(t,e,n){var r=[];return null==t?r:d&&t.map===d?t.map(e,n):(S(t,function(t,i,o){r[r.length]=e.call(n,t,i,o)}),r)};var _="Reduce of empty array with no initial value";k.reduce=k.foldl=k.inject=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),h&&t.reduce===h)return r&&(e=k.bind(e,r)),i?t.reduce(e,n):t.reduce(e);if(S(t,function(t,o,a){i?n=e.call(r,n,t,o,a):(n=t,i=!0)}),!i)throw new TypeError(_);return n},k.reduceRight=k.foldr=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),p&&t.reduceRight===p)return r&&(e=k.bind(e,r)),i?t.reduceRight(e,n):t.reduceRight(e);var o=t.length;if(o!==+o){var a=k.keys(t);o=a.length}if(S(t,function(s,l,u){l=a?a[--o]:--o,i?n=e.call(r,n,t[l],l,u):(n=t[l],i=!0)}),!i)throw new TypeError(_);return n},k.find=k.detect=function(t,e,n){var r;return A(t,function(t,i,o){return e.call(n,t,i,o)?(r=t,!0):void 0}),r},k.filter=k.select=function(t,e,n){var r=[];return null==t?r:m&&t.filter===m?t.filter(e,n):(S(t,function(t,i,o){e.call(n,t,i,o)&&(r[r.length]=t)}),r)},k.reject=function(t,e,n){return k.filter(t,function(t,r,i){return!e.call(n,t,r,i)},n)},k.every=k.all=function(t,e,r){e||(e=k.identity);var i=!0;return null==t?i:g&&t.every===g?t.every(e,r):(S(t,function(t,o,a){return(i=i&&e.call(r,t,o,a))?void 0:n}),!!i)};var A=k.some=k.any=function(t,e,r){e||(e=k.identity);var i=!1;return null==t?i:v&&t.some===v?t.some(e,r):(S(t,function(t,o,a){return i||(i=e.call(r,t,o,a))?n:void 0}),!!i)};k.contains=k.include=function(t,e){return null==t?!1:b&&t.indexOf===b?-1!=t.indexOf(e):A(t,function(t){return t===e})},k.invoke=function(t,e){var n=s.call(arguments,2);return k.map(t,function(t){return(k.isFunction(e)?e:t[e]).apply(t,n)})},k.pluck=function(t,e){return k.map(t,function(t){return t[e]})},k.where=function(t,e){return k.isEmpty(e)?[]:k.filter(t,function(t){for(var n in e)if(e[n]!==t[n])return!1;return!0})},k.max=function(t,e,n){if(!e&&k.isArray(t)&&t[0]===+t[0]&&65535>t.length)return Math.max.apply(Math,t);if(!e&&k.isEmpty(t))return-1/0;var r={computed:-1/0,value:-1/0};return S(t,function(t,i,o){var a=e?e.call(n,t,i,o):t;a>=r.computed&&(r={value:t,computed:a})}),r.value},k.min=function(t,e,n){if(!e&&k.isArray(t)&&t[0]===+t[0]&&65535>t.length)return Math.min.apply(Math,t);if(!e&&k.isEmpty(t))return 1/0;var r={computed:1/0,value:1/0};return S(t,function(t,i,o){var a=e?e.call(n,t,i,o):t;r.computed>a&&(r={value:t,computed:a})}),r.value},k.shuffle=function(t){var e,n=0,r=[];return S(t,function(t){e=k.random(n++),r[n-1]=r[e],r[e]=t}),r};var M=function(t){return k.isFunction(t)?t:function(e){return e[t]}};k.sortBy=function(t,e,n){var r=M(e);return k.pluck(k.map(t,function(t,e,i){return{value:t,index:e,criteria:r.call(n,t,e,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return t.index<e.index?-1:1}),"value")};var T=function(t,e,n,r){var i={},o=M(e||k.identity);return S(t,function(e,a){var s=o.call(n,e,a,t);r(i,s,e)}),i};k.groupBy=function(t,e,n){return T(t,e,n,function(t,e,n){(k.has(t,e)?t[e]:t[e]=[]).push(n)})},k.countBy=function(t,e,n){return T(t,e,n,function(t,e){k.has(t,e)||(t[e]=0),t[e]++})},k.sortedIndex=function(t,e,n,r){n=null==n?k.identity:M(n);for(var i=n.call(r,e),o=0,a=t.length;a>o;){var s=o+a>>>1;i>n.call(r,t[s])?o=s+1:a=s}return o},k.toArray=function(t){return t?k.isArray(t)?s.call(t):t.length===+t.length?k.map(t,k.identity):k.values(t):[]},k.size=function(t){return null==t?0:t.length===+t.length?t.length:k.keys(t).length},k.first=k.head=k.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:s.call(t,0,e)},k.initial=function(t,e,n){return s.call(t,0,t.length-(null==e||n?1:e))},k.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:s.call(t,Math.max(t.length-e,0))},k.rest=k.tail=k.drop=function(t,e,n){return s.call(t,null==e||n?1:e)},k.compact=function(t){return k.filter(t,k.identity)};var $=function(t,e,n){return S(t,function(t){k.isArray(t)?e?a.apply(n,t):$(t,e,n):n.push(t)}),n};k.flatten=function(t,e){return $(t,e,[])},k.without=function(t){return k.difference(t,s.call(arguments,1))},k.uniq=k.unique=function(t,e,n,r){k.isFunction(e)&&(r=n,n=e,e=!1);var i=n?k.map(t,n,r):t,o=[],a=[];return S(i,function(n,r){(e?r&&a[a.length-1]===n:k.contains(a,n))||(a.push(n),o.push(t[r]))}),o},k.union=function(){return k.uniq(l.apply(r,arguments))},k.intersection=function(t){var e=s.call(arguments,1);return k.filter(k.uniq(t),function(t){return k.every(e,function(e){return k.indexOf(e,t)>=0})})},k.difference=function(t){var e=l.apply(r,s.call(arguments,1));return k.filter(t,function(t){return!k.contains(e,t)})},k.zip=function(){for(var t=s.call(arguments),e=k.max(k.pluck(t,"length")),n=Array(e),r=0;e>r;r++)n[r]=k.pluck(t,""+r);return n},k.object=function(t,e){if(null==t)return{};for(var n={},r=0,i=t.length;i>r;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},k.indexOf=function(t,e,n){if(null==t)return-1;var r=0,i=t.length;if(n){if("number"!=typeof n)return r=k.sortedIndex(t,e),t[r]===e?r:-1;r=0>n?Math.max(0,i+n):n}if(b&&t.indexOf===b)return t.indexOf(e,n);for(;i>r;r++)if(t[r]===e)return r;return-1},k.lastIndexOf=function(t,e,n){if(null==t)return-1;var r=null!=n;if(y&&t.lastIndexOf===y)return r?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var i=r?n:t.length;i--;)if(t[i]===e)return i;return-1},k.range=function(t,e,n){1>=arguments.length&&(e=t||0,t=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=0,o=Array(r);r>i;)o[i++]=t,t+=n;return o};var L=function(){};k.bind=function(t,e){var n,r;if(t.bind===C&&C)return C.apply(t,s.call(arguments,1));if(!k.isFunction(t))throw new TypeError;return n=s.call(arguments,2),r=function(){if(!(this instanceof r))return t.apply(e,n.concat(s.call(arguments)));L.prototype=t.prototype;var i=new L;L.prototype=null;var o=t.apply(i,n.concat(s.call(arguments)));return Object(o)===o?o:i}},k.bindAll=function(t){var e=s.call(arguments,1);return 0==e.length&&(e=k.functions(t)),S(e,function(e){t[e]=k.bind(t[e],t)}),t},k.memoize=function(t,e){var n={};return e||(e=k.identity),function(){var r=e.apply(this,arguments);return k.has(n,r)?n[r]:n[r]=t.apply(this,arguments)}},k.delay=function(t,e){var n=s.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},k.defer=function(t){return k.delay.apply(k,[t,1].concat(s.call(arguments,1)))},k.throttle=function(t,e){var n,r,i,o,a=0,s=function(){a=new Date,i=null,o=t.apply(n,r)};return function(){var l=new Date,u=e-(l-a);return n=this,r=arguments,0>=u?(clearTimeout(i),i=null,a=l,o=t.apply(n,r)):i||(i=setTimeout(s,u)),o}},k.debounce=function(t,e,n){var r,i;return function(){var o=this,a=arguments,s=function(){r=null,n||(i=t.apply(o,a))},l=n&&!r;return clearTimeout(r),r=setTimeout(s,e),l&&(i=t.apply(o,a)),i}},k.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},k.wrap=function(t,e){return function(){var n=[t];return a.apply(n,arguments),e.apply(this,n)}},k.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},k.after=function(t,e){return 0>=t?e():function(){return 1>--t?e.apply(this,arguments):void 0}},k.keys=w||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)k.has(t,n)&&(e[e.length]=n);return e},k.values=function(t){var e=[];for(var n in t)k.has(t,n)&&e.push(t[n]);return e},k.pairs=function(t){var e=[];for(var n in t)k.has(t,n)&&e.push([n,t[n]]);return e},k.invert=function(t){var e={};for(var n in t)k.has(t,n)&&(e[t[n]]=n);return e},k.functions=k.methods=function(t){var e=[];for(var n in t)k.isFunction(t[n])&&e.push(n);return e.sort()},k.extend=function(t){return S(s.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},k.pick=function(t){var e={},n=l.apply(r,s.call(arguments,1));return S(n,function(n){n in t&&(e[n]=t[n])}),e},k.omit=function(t){var e={},n=l.apply(r,s.call(arguments,1));for(var i in t)k.contains(n,i)||(e[i]=t[i]);return e},k.defaults=function(t){return S(s.call(arguments,1),function(e){if(e)for(var n in e)null==t[n]&&(t[n]=e[n])}),t},k.clone=function(t){return k.isObject(t)?k.isArray(t)?t.slice():k.extend({},t):t},k.tap=function(t,e){return e(t),t};var z=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof k&&(t=t._wrapped),e instanceof k&&(e=e._wrapped);var i=u.call(t);if(i!=u.call(e))return!1;switch(i){case"[object String]":return t==e+"";case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=n.length;o--;)if(n[o]==t)return r[o]==e;n.push(t),r.push(e);var a=0,s=!0;if("[object Array]"==i){if(a=t.length,s=a==e.length)for(;a--&&(s=z(t[a],e[a],n,r)););}else{var l=t.constructor,c=e.constructor;if(l!==c&&!(k.isFunction(l)&&l instanceof l&&k.isFunction(c)&&c instanceof c))return!1;for(var f in t)if(k.has(t,f)&&(a++,!(s=k.has(e,f)&&z(t[f],e[f],n,r))))break;if(s){for(f in e)if(k.has(e,f)&&!a--)break;s=!a}}return n.pop(),r.pop(),s};k.isEqual=function(t,e){return z(t,e,[],[])},k.isEmpty=function(t){if(null==t)return!0;if(k.isArray(t)||k.isString(t))return 0===t.length;for(var e in t)if(k.has(t,e))return!1;return!0},k.isElement=function(t){return!(!t||1!==t.nodeType)},k.isArray=x||function(t){return"[object Array]"==u.call(t)},k.isObject=function(t){return t===Object(t)},S(["Arguments","Function","String","Number","Date","RegExp"],function(t){k["is"+t]=function(e){return u.call(e)=="[object "+t+"]"}}),k.isArguments(arguments)||(k.isArguments=function(t){return!(!t||!k.has(t,"callee"))}),k.isFunction=function(t){return"function"==typeof t},k.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},k.isNaN=function(t){return k.isNumber(t)&&t!=+t},k.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==u.call(t)},k.isNull=function(t){return null===t},k.isUndefined=function(t){return void 0===t},k.has=function(t,e){return c.call(t,e)},k.noConflict=function(){return t._=e,this},k.identity=function(t){return t},k.times=function(t,e,n){for(var r=Array(t),i=0;t>i;i++)r[i]=e.call(n,i);return r},k.random=function(t,e){return null==e&&(e=t,t=0),t+(0|Math.random()*(e-t+1))};var P={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};P.unescape=k.invert(P.escape);var E={escape:RegExp("["+k.keys(P.escape).join("")+"]","g"),unescape:RegExp("("+k.keys(P.unescape).join("|")+")","g")};k.each(["escape","unescape"],function(t){k[t]=function(e){return null==e?"":(""+e).replace(E[t],function(e){return P[t][e]})}}),k.result=function(t,e){if(null==t)return null;var n=t[e];return k.isFunction(n)?n.call(t):n},k.mixin=function(t){S(k.functions(t),function(e){var n=k[e]=t[e];k.prototype[e]=function(){var t=[this._wrapped];return a.apply(t,arguments),D.call(this,n.apply(k,t))}})};var O=0;k.uniqueId=function(t){var e=""+ ++O;return t?t+e:e},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/,I={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},R=/\\|'|\r|\n|\t|\u2028|\u2029/g;k.template=function(t,e,n){n=k.defaults({},n,k.templateSettings);var r=RegExp([(n.escape||N).source,(n.interpolate||N).source,(n.evaluate||N).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,function(e,n,r,a,s){return o+=t.slice(i,s).replace(R,function(t){return"\\"+I[t]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),a&&(o+="';\n"+a+"\n__p+='"),i=s+e.length,e}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=Function(n.variable||"obj","_",o)}catch(s){throw s.source=o,s}if(e)return a(e,k);var l=function(t){return a.call(this,t,k)};return l.source="function("+(n.variable||"obj")+"){\n"+o+"}",l},k.chain=function(t){return k(t).chain()};var D=function(t){return this._chain?k(t).chain():t};k.mixin(k),S(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=r[t];k.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],D.call(this,n)}}),S(["concat","join","slice"],function(t){var e=r[t];k.prototype[t]=function(){return D.call(this,e.apply(this._wrapped,arguments))}}),k.extend(k.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;e.length>n&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var n=(new Date).getTime(),r=Math.max(0,16-(n-t)),i=window.setTimeout(function(){e(n+r)},r);return t=n+r,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),function(t){function e(){if(o.length){for(var t,n,r=+new Date,i=[],a=0;o.length>a;a++){t=o[a];var n=t.options;1===t.pos||r>=t.endTime?(n.step.call(t,t.pos=1),t.stop()):(t.pos=n.easing(r-t.startTime,0,1,n.duration),n.step.call(t,t.pos),i.push(t))}o=i,o.length&&requestAnimationFrame(e)}}function n(t){-1==_.indexOf(o,t)&&(o.push(t),1==o.length&&e())}function r(t){this.options=_.extend({},a,t||{});var e=this.options.easing;if(_.isString(e)){if(!s[e])throw'Unknown "'+e+'" easing function';this.options.easing=s[e]}if(!_.isFunction(this.options.easing))throw"Easing should be a function";this._id=_.uniqueId("tw"),this.options.autostart&&this.start()}var i=function(){},o=[],a={duration:500,easing:"linear",step:i,complete:i,autostart:!0},s={linear:function(t,e,n,r){return n*t/r+e},easeInQuad:function(t,e,n,r){return n*(t/=r)*t+e},easeOutQuad:function(t,e,n,r){return-n*(t/=r)*(t-2)+e},easeInOutQuad:function(t,e,n,r){return 1>(t/=r/2)?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,r){return n*(t/=r)*t*t+e},easeOutCubic:function(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e},easeInOutCubic:function(t,e,n,r){return 1>(t/=r/2)?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e},easeInExpo:function(t,e,n,r){return 0==t?e:n*Math.pow(2,10*(t/r-1))+e-.001*n},easeOutExpo:function(t,e,n,r){return t==r?e+n:1.001*n*(-Math.pow(2,-10*t/r)+1)+e},easeInOutExpo:function(t,e,n,r){return 0==t?e:t==r?e+n:1>(t/=r/2)?n/2*Math.pow(2,10*(t-1))+e-5e-4*n:1.0005*(n/2)*(-Math.pow(2,-10*--t)+2)+e},easeInElastic:function(t,e,n,r,i,o){var a;return 0==t?e:1==(t/=r)?e+n:(o||(o=.3*r),!i||Math.abs(n)>i?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*2*Math.PI/o))+e)},easeOutElastic:function(t,e,n,r,i,o){var a;return 0==t?e:1==(t/=r)?e+n:(o||(o=.3*r),!i||Math.abs(n)>i?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*r-a)*2*Math.PI/o)+n+e)},easeInOutElastic:function(t,e,n,r,i,o){var a;return 0==t?e:2==(t/=r/2)?e+n:(o||(o=r*.3*1.5),!i||Math.abs(n)>i?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),1>t?-.5*i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*2*Math.PI/o)+e:.5*i*Math.pow(2,-10*(t-=1))*Math.sin((t*r-a)*2*Math.PI/o)+n+e)},easeInBack:function(t,e,n,r,i){return void 0==i&&(i=1.70158),n*(t/=r)*t*((i+1)*t-i)+e},easeOutBack:function(t,e,n,r,i){return void 0==i&&(i=1.70158),n*((t=t/r-1)*t*((i+1)*t+i)+1)+e},easeInOutBack:function(t,e,n,r,i){return void 0==i&&(i=1.70158),1>(t/=r/2)?n/2*t*t*(((i*=1.525)+1)*t-i)+e:n/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},easeInBounce:function(t,e,n,r){return n-$.easing.easeOutBounce(x,r-t,0,n,r)+e},easeOutBounce:function(t,e,n,r){return 1/2.75>(t/=r)?n*7.5625*t*t+e:2/2.75>t?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:2.5/2.75>t?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,n,r){return r/2>t?.5*$.easing.easeInBounce(x,2*t,0,n,r)+e:.5*$.easing.easeOutBounce(x,2*t-r,0,n,r)+.5*n+e}};r.prototype={start:function(){this.pos=0,this.startTime=+new Date,this.endTime=this.startTime+this.options.duration,this.animating=!0,n(this)},stop:function(){this.animating=!1,this.options.complete()}},r.__getAnims=function(){return o},t.Tween=r}(this),function(t){"use strict";function e(t){return t.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()})}function n(t,n){var r=/^-?\d+(?:px)?$/i,i=/^-?\d(?:\.\d+)?/,a=/\d$/,s=e(n);if(t.style[s])return t.style[s];if(o){var l=window.getComputedStyle(t,"");return l.getPropertyValue(n)}if(t.currentStyle){var u=t.currentStyle[n]||t.currentStyle[s],c=t.style||t;if(!r.test(u)&&i.test(u)){var f=c.left,d=t.runtimeStyle.left;t.runtimeStyle.left=t.currentStyle.left;var h=a.test(u)?"em":"";c.left="fontSize"===s?"1em":u+h||0,u=c.pixelLeft+"px",c.left=f,t.runtimeStyle.left=d}return u}}function r(t,e){if(t){var n={"line-height":1,"z-index":1,opacity:1},r=_.map(e,function(t,e){var r=e.replace(/([A-Z])/g,"-$1").toLowerCase();return r+":"+(!_.isNumber(t)||r in n?t:t+"px")});t.style.cssText+=";"+r.join(";")}}function i(t){return t.length===+t.length?_.toArray(t):_.isArray(t)?t:[t]}var o=document.defaultView&&document.defaultView.getComputedStyle;_.extend(t,{trim:function(t){return t&&"trim"in String.prototype?t.trim():t.replace(/^\s+/,"").replace(/\s+$/,"")},hasClass:function(t,e){return~(" "+t.className+" ").indexOf(" "+e+" ")},addClass:function(t,e){return _.each(i(t),function(t){var n=_.filter(e.split(/\s+/g),function(e){return e&&!this.hasClass(t,e)},this);n.length&&(t.className+=(t.className?" ":"")+n.join(" "))},this),t},removeClass:function(t,e){var n=/\s+/g;return _.each(i(t),function(t){t.className=_.difference((t.className||"").split(n),e.split(/\s+/g)).join(" ")},this),t},toggleClass:function(t,e,n){return _.each(i(t),function(t){var r=n;_.isUndefined(r)&&(r=this.hasClass(t,e)),r?this.removeClass(t,e):this.addClass(t,e)},this),t},getByClass:function(t,e){return document.getElementsByClassName?(e||document).getElementsByClassName(t):_.filter((e||document).getElementsByTagName("*"),function(e){return this.hasClass(e,t)},this)},remove:function(t){return _.each(i(t),function(t){t.parentNode&&t.parentNode.removeChild(t)}),t},toDOM:function(t){var e=document.createElement("div");return e.innerHTML=t,e.firstChild},css:function(t,e,i){if(_.isString(e)&&_.isUndefined(i))return n(t,e);if(_.isString(e)){var o={};o[e]=i,e=o}r(t,e)}})}(_.dom={}),CodeMirror.scenario=function(){"use strict";function t(t){var e=["Webkit","Moz","O","ms"],n=t.charAt(0).toUpperCase()+t.slice(1),r=(t+" "+e.join(n+" ")+n).split(" "),i=document.createElement("div"),o=null;for(var a in r)if(o=r[a],void 0!==i.style[o])return o;return o}function e(t){if(_.isString(t)){var e=t.split(":");return{name:e.shift(),options:e.join(":")}}var n=_.keys(t)[0];return{name:n,options:t[n]}}function n(t,e,n){if(_.isString(t)){var r={};r[e]=t,t=r}return _.extend(n,t||{})}function r(t,e){if(_.isString(t)){if("caret"===t)return e.getCursor(!0);if(~t.indexOf(":")){var n=t.split(":");return{line:parseInt(n[0],10),ch:parseInt(n[1],10)}}t=parseInt(t,10)}return _.isNumber(t)?e.posFromIndex(t):t}function i(t,e){return e?setTimeout(t,e):(t(),void 0)}function o(t,e){this._actions=t,this._actionIx=0,this._editor=null,this._state=a,this._timerQueue=[],e&&"getValue"in e&&(this._editor=e);var n=this._editor;n&&!n.__initial&&(n.__initial={content:n.getValue(),pos:n.getCursor(!0)})}var a="idle",s="play",l="pause",u=/\s+/,c=Array.prototype.slice,f={beforeDelay:1e3,afterDelay:1e3},d=function(){var e=document.createElement("div"),n=t("transform");return n?(e.style[n]="translateZ(0)",/translatez/i.test(e.style[n])):!1}(),h={type:function(t,e,i,o){if(t=n(t,"text",{text:"",delay:60,pos:null}),!t.text)throw'No text provided for "type" action';null!==t.pos&&e.setCursor(r(t.pos,e));var a=t.text.split("");o(function s(){var n=a.shift();e.replaceSelection(n,"end"),a.length?o(s,t.delay):i()},t.delay)},wait:function(t,e,r,i){t=n(t,"timeout",{timeout:100}),i(r,parseInt(t.timeout,10))},moveTo:function(t,e,i,o){if(t=n(t,"pos",{delay:80,immediate:!1}),!t.pos)throw'No position specified for "moveTo" action';var a=e.getCursor(!0);e.setSelection(a,a);var s=r(t.pos,e);(t.immediate||!t.delay)&&(e.setCursor(s),i());var l=s.line-a.line,u=s.ch-a.ch,c=Math.max(u,l),f=0>l?-1:1,d=0>u?-1:1;o(function h(){a=e.getCursor(!0),c>0&&(a.line!=s.line||a.ch!=s.ch)?(a.line!=s.line&&(a.line+=f),a.ch!=s.ch&&(a.ch+=d),e.setCursor(a),c--,o(h,t.delay)):(e.setCursor(s),i())},t.delay)},jumpTo:function(t,e,i,o){if(t=n(t,"pos",{afterDelay:200}),!t.pos)throw'No position specified for "jumpTo" action';e.setCursor(r(t.pos,e)),o(i,t.afterDelay)},run:function(t,e,r,i){t=n(t,"command",{beforeDelay:500,times:1});var o=t.times;i(function a(){try{_.isFunction(t.command)?t.command(e,t):e.execCommand(t.command)}catch(n){}--o>0?i(a,t.beforeDelay):r()},t.beforeDelay)},select:function(t,e,i){t=n(t,"to",{from:"caret"});var o=r(t.from,e),a=r(t.to,e);e.setSelection(o,a),i()}};return CodeMirror.commands.revert=function(t){t.__initial&&(t.setValue(t.__initial.content),t.setCursor(t.__initial.pos))},o.prototype={_setup:function(t){return!t&&this._editor&&(t=this._editor),t.execCommand("revert"),t},play:function(t){if(this._state!==s){if(this._state===l){t=t||this._editor,t.focus();for(var n=null;n=this._timerQueue.shift();)i(n.fn,n.delay);return this._state=s,this.trigger("resume"),void 0}this._editor=t=this._setup(t),t.focus();var r=_.bind(this.requestTimer,this),o=this;this._actionIx=0;var a=function(){if(o._actionIx>=o._actions.length)return r(function(){o.stop()},f.afterDelay);o.trigger("action",o._actionIx);var n=e(o._actions[o._actionIx++]);if(!(n.name in h))throw"No such action: "+n.name;h[n.name].call(o,n.options,t,a,r)};this._state=s,this._editor.setOption("readOnly",!0),this.trigger("play"),r(a,f.beforeDelay)}},pause:function(){this._state=l,this.trigger("pause")},stop:function(){this._state!==a&&(this._state=a,this._timerQueue.length=0,this._editor.setOption("readOnly",!1),this.trigger("stop"))},state:function(){return this._state},toggle:function(){this._state===s?this.pause():this.play()},requestTimer:function(t,e){return this._state===s?i(t,e):(this._timerQueue.push({fn:t,delay:e}),void 0)},on:function(t,e,n){var r,i,o,a,s;if(!e)return this;for(t=t.split(u),r=this._callbacks||(this._callbacks={});i=t.shift();)s=r[i],o=s?s.tail:{},o.next=a={},o.context=n,o.callback=e,r[i]={tail:a,next:s?s.next:o};return this},off:function(t,e,n){var r,i,o,a,s,l;if(i=this._callbacks){if(!(t||e||n))return delete this._callbacks,this;for(t=t?t.split(u):_.keys(i);r=t.shift();)if(o=i[r],delete i[r],o&&(e||n))for(a=o.tail;(o=o.next)!==a;)s=o.callback,l=o.context,(e&&s!==e||n&&l!==n)&&this.on(r,s,l);return this}},trigger:function(t){var e,n,r,i,o,a,s;if(!(r=this._callbacks))return this;for(a=r.all,t=t.split(u),s=c.call(arguments,1);e=t.shift();){if(n=r[e])for(i=n.tail;(n=n.next)!==i;)n.callback.apply(n.context||this,s);if(n=a)for(i=n.tail,o=[e].concat(s);(n=n.next)!==i;)n.callback.apply(n.context||this,o)}return this}},_.extend(function(t,e){return new o(t,e)},{defineAction:function(t,e){h[t]=e},makeOptions:n,makePos:r,has3d:d,prefixed:t})}(),CodeMirror.scenarioTooltip=function(){"use strict";function t(){var t=document.body,e=document.documentElement,n=e.clientTop||t.clientTop||0,r=e.clientLeft||t.clientLeft||0,i=window.pageYOffset||e.scrollTop||t.scrollTop,o=window.pageXOffset||e.scrollLeft||t.scrollLeft;return{top:i-n,left:o-r,width:t.clientWidth||e.clientWidth,height:t.clientHeight||e.clientHeight}}function e(e,n){n=_.extend({},f,n||{}),_.dom.css(e,{left:0,top:0});var r,i=_.dom.getByClass(n.tailClass,e)[0],o=0,a=0,s=n.position,l=t(),u=e.offsetWidth,c=e.offsetHeight;o=Math.min(l.width-u-n.popupMargin,Math.max(n.popupMargin,s.x-l.left-u/2)),c+i.offsetHeight+n.popupMargin+l.top<s.y?(a=Math.max(0,s.y-c-i.offsetHeight),r=!0):(a=s.y+i.offsetHeight,r=!1);var d=n.tailMargin,h=u-n.tailMargin;i.style.left=Math.min(h,Math.max(d,s.x-o-l.left))+"px",_.dom.css(e,{left:o,top:a}),_.dom.toggleClass(e,n.belowClass,r)}function n(t,e){e=_.extend({},f,e||{});var n=c.prefixed("transformOrigin"),r=c.prefixed("transform"),i=t.style,o=_.dom.getByClass(e.tailClass,t)[0],a=_.dom.css(o,"left"),s=o.offsetTop;_.dom.hasClass(t,e.belowClass)&&(s-=o.offsetHeight),s+="px",i[n]=a+" "+s;var l=c.has3d?"translateZ(0) ":"";return u=new Tween({duration:800,easing:"easeOutElastic",step:function(t){i[r]=l+"scale("+t+")"},complete:function(){i[r]="none",u=null,e.onComplete&&e.onComplete(t)}})}function r(t,e){var n=t.style;return new Tween({duration:200,easing:"linear",step:function(t){n.opacity=1-t},complete:function(){_.dom.remove(t),e.onComplete&&e.onComplete(t)}})}function i(t,r,i){o(),l=_.dom.toDOM('<div class="CodeMirror-tooltip"><div class="CodeMirror-tooltip__content">'+t+"</div>"+'<div class="CodeMirror-tooltip__tail"></div>'+"</div>"),_.dom.css(l,c.prefixed("transform"),"scale(0)"),document.body.appendChild(l),e(l,{position:r}),n(l,{onComplete:i})}function o(t){l?(u&&(u.stop(),u=null),r(l,{onComplete:t}),l=null):t&&t()}function a(t,e){if("caret"===t)return s(e.cursorCoords(!0));if(_.isObject(t)){if("x"in t&&"y"in t)return t;if("left"in t&&"top"in t)return s(t)}return s(e.charCoords(c.makePos(t)))}function s(t){return"left"in t&&(t.x=t.left),"top"in t&&(t.y=t.top),t}var l=null,u=null,c=CodeMirror.scenario,f={tailClass:"CodeMirror-tooltip__tail",belowClass:"CodeMirror-tooltip_below",popupMargin:5,tailMargin:11};return c.defineAction("tooltip",function(t,e,n,r){t=c.makeOptions(t,"text",{wait:4e3,pos:"caret"});var s=a(t.pos,e);i(t.text,s,function(){r(function(){o(function(){r(n)})},t.wait)})}),c.defineAction("showTooltip",function(t,e,n){t=c.makeOptions(t,"text",{pos:"caret"}),i(t.text,a(t.pos,e)),n()}),c.defineAction("hideTooltip",function(t,e,n){o(n)}),{show:i,hide:o}}(),CodeMirror.scenarioOutline=function(){"use strict";var t={wrapperTemplate:'<ul class="CodeMirror-outline"><%= content %></ul>',itemTemplate:'<li data-action-id="<%= id %>" class="CodeMirror-outline__item"><%= title %></li>',itemClass:"CodeMirror-outline__item",selectedClass:"CodeMirror-outline__item_selected"};return function(e,n,r){r=_.extend({},t,r||{});var i=_.keys(e);i.sort(function(t,e){return parseInt(t,10)-parseInt(e,10)});var o=_.template(r.itemTemplate),a=_.map(i,function(t){return o({title:e[t],id:t})}),s=_.dom.toDOM(_.template(r.wrapperTemplate,{content:a.join("")}));return r.target&&r.target.appendChild(s),n.on("action",function(t){var e=_.dom.getByClass(r.itemClass,s),n=_.find(e,function(e){return e.getAttribute("data-action-id")==t});n&&(_.dom.removeClass(e,r.selectedClass),_.dom.addClass(n,r.selectedClass))}).on("stop",function(){_.dom.removeClass(_.dom.getByClass(r.itemClass,s),r.selectedClass)}),s}}(),CodeMirror.scenarioPrompt=function(){"use strict";function t(t,r,i){e(),o=_.dom.toDOM('<div class="CodeMirror-prompt"><div class="CodeMirror-prompt__title">'+t+"</div>"+'<input type="text" name="prompt" class="CodeMirror-prompt__input" readonly="readonly" />'+"</div>"),a=_.dom.toDOM('<div class="CodeMirror-prompt__shade"></div>'),r.appendChild(o),r.appendChild(a),n(o,a,{onComplete:i})}function e(t){o?(s&&(s.stop(),s=null),r(o,a,{onComplete:t}),o=a=null):t&&t()}function n(t,e,n){n=n||{};var r=l.prefixed("transform"),i=t.style,o=e.style,a=t.offsetHeight,u=_.template(l.has3d?"translate3d(0, <%= pos %>, 0)":"translate(0, <%= pos %>)");return o.opacity=0,new Tween({duration:200,step:function(t){o.opacity=t}}),i[r]=u({pos:-a}),s=new Tween({duration:400,easing:"easeOutCubic",step:function(t){i[r]=u({pos:-a*(1-t)+"px"})},complete:function(){s=null,n.onComplete&&n.onComplete(t,e)}})}function r(t,e,n){var r=t.style,i=e.style,o=t.offsetHeight,a=l.prefixed("transform"),s=_.template(l.has3d?"translate3d(0, <%= pos %>, 0)":"translate(0, <%= pos %>)");return new Tween({duration:200,step:function(t){r[a]=s({pos:-o*t+"px"}),i.opacity=1-t},complete:function(){_.dom.remove([t,e]),n.onComplete&&n.onComplete(t,e)}})}function i(t,e,n,r){var i=e.text.split("");n(function o(){t.value+=i.shift(),i.length?n(o,e.delay):r()},e.delay)}var o=null,a=null,s=null,l=CodeMirror.scenario;l.defineAction("prompt",function(n,r,o,a){n=l.makeOptions(n,"text",{title:"Enter something",delay:80,typeDelay:1e3,hideDelay:2e3}),t(n.title,r.getWrapperElement(),function(t){a(function(){i(_.dom.getByClass("CodeMirror-prompt__input",t)[0],n,a,function(){a(function(){e(o)
},n.hideDelay)})},n.typeDelay)})})}(),function(){"use strict";function t(t,e){e=e||{};var n=/ctrl|alt|shift|cmd/i,r=a?s:l;return t.replace(/\((.+?)\)/g,function(t,i){if(n.test(i)){var o=_.map(i.toLowerCase().split(/[\-\+]/),function(t){return r[t.toLowerCase()]||t.toUpperCase()});t=o.join(a?"":"+"),e.stripParentheses||(t="("+t+")")}return t})}function e(t){try{return Function("return "+t)()}catch(e){return{}}}function n(t){var e="\n",n=(t||"").replace(/\r\n/g,e).replace(/\n\r/g,e).replace(/\r/g,e).split(e);return _.filter(n,function(t){return!!t})}function r(t){var e={"&lt;":"<","&gt;":">","&amp;":"&"};return t.replace(/&(lt|gt|amp);/g,function(t){return e[t]||t})}function i(i,o){o=_.extend({},u,o||{});var a=i.split(o.sectionSeparator),s=/^(\w+)\s*:\s*(.+)$/,l=[],c={},f={};return _.each(n(a[1]),function(n){if("#"!=n.charAt(0)){n=n.replace(o.outlineSeparator,function(e,n){return o.prettifyKeys&&(c[l.length]=t(_.dom.trim(n))),""});var i=n.match(s);if(!i)return l.push(_.dom.trim(n));if("{"==i[2].charAt(0)){var a={};return a[i[1]]=e(r(i[2])),l.push(a)}l.push(i[1]+":"+r(i[2]))}}),a[2]&&_.each(n(a[2]),function(t){if("#"!=t.charAt(0)){var e=t.match(s);e&&(f[e[1]]=e[2])}}),{value:r(_.dom.trim(a[0])),scenario:l,outline:_.keys(c).length?c:null,editorOptions:f}}var o=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),a=o||/Mac/.test(navigator.platform),s={ctrl:"⌃",control:"⌃",cmd:"⌘",shift:"⇧",alt:"⌥",enter:"⏎",tab:"⇥",left:"←",right:"→",up:"↑",down:"↓"},l={cmd:"Ctrl",control:"Ctrl",ctrl:"Ctrl",alt:"Alt",shift:"Shift",left:"←",right:"→",up:"↑",down:"↓"},u={parse:!0,sectionSeparator:"@@@",outlineSeparator:/\s+:::\s+(.+)$/,prettifyKeys:!0,stripParentheses:!1};CodeMirror.movie=function(t,e,n){var r=null;_.isString(t)&&(t=document.getElementById(t)),e=_.extend({},u,e||{}),n=_.extend({theme:"espresso",mode:"text/html",indentWithTabs:!0,tabSize:4,lineNumbers:!0,onCursorActivity:function(){l.setLineClass&&(l.setLineClass(r,null,null),r=l.setLineClass(l.getCursor().line,null,"activeline"))},onKeyEvent:function(t,e){return t.getOption("readOnly")?(e.stop(),!0):void 0}},n||{});var o=n.value||t.value||"";if(e.parse){_.extend(e,i(o,e)),o=e.value,e.editorOptions&&_.extend(n,e.editorOptions);var a=/^data\-cm\-(.+)$/i;_.each(t.attributes,function(t){a.test(t.name)&&(n[RegExp.$1]=t.value)})}o=o.replace(/\r?\n/g,"\n");var s=o.indexOf("|");t.value=n.value=o=o.replace(/\|/g,"");var l=CodeMirror.fromTextArea(t,n);l.setLineClass&&(r=l.setLineClass(0,"activeline")),-1!=s&&l.setCursor(l.posFromIndex(s)),l.__initial={content:o,pos:l.getCursor(!0)};var c=l.getWrapperElement();n.height&&(c.style.height=n.height+"px"),c.className+=" CodeMirror-movie"+(e.outline?" CodeMirror-movie_with-outline":"");var f=CodeMirror.scenario(e.scenario,l);return e.outline&&(c.className+=" CodeMirror-movie_with-outline",c.appendChild(CodeMirror.scenarioOutline(e.outline,f))),f}}();